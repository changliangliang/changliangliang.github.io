[{"title":"thisæŒ‡å‘çš„é—®é¢˜.md","url":"/2021/06/11/this%E6%8C%87%E5%90%91%E7%9A%84%E9%97%AE%E9%A2%98/","content":"this æŒ‡å‘ä¸åŒå¯¹è±¡çš„åŸå› let data = &#123;    num: 1&#125;\n\nä¸Šé¢çš„ä»£ç æ‰§è¡Œæ—¶ï¼Œä¼šå‘ä¸‹å›¾ä¸­å±•ç¤ºçš„é‚£æ ·ï¼Œå…ˆåœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªå¯¹è±¡ &#123;num: 1&#125;ï¼Œç„¶åå°†å¯¹è±¡çš„å†…å­˜åœ°å€èµ‹ç»™å˜é‡ dataã€‚å½“æˆ‘ä»¬ç”¨ data.num å»è¯»å–å¯¹è±¡çš„å±æ€§æ—¶ï¼Œjs å¼•æ“ä¼šå…ˆä»å˜é‡ data è§£æå‡ºå¯¹è±¡çš„åœ°å€ï¼Œç„¶åä»ç›¸åº”ä½ç½®è¯»å– num å±æ€§çš„å€¼ã€‚\n\nå†å…·ä½“ä¸€äº›ï¼Œå¯¹è±¡çš„å±æ€§ä¸­å­˜äº†ä¸‹é¢è¿™äº›å†…å®¹ï¼Œå…¶ä¸­ value æ˜¯å±æ€§å€¼ï¼Œå…¶å®ƒçš„ä¸‰ä¸ªå«åšå±æ€§æ ‡å¿—ï¼Œè¿™é‡Œä¸å¯¹å®ƒä»¬å±•å¼€è§£é‡Šï¼Œåªéœ€çŸ¥é“å®ƒä»¬æ˜¯ç”¨æ¥æè¿°å±æ€§çš„ä¸€äº›ç‰¹æ€§å³å¯ã€‚\n[[value]]: 1[[writable]]: true[[enumerable]]: true[[configurable]]: true\n\n\nå½“å¯¹è±¡çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œé‚£ä¹ˆå®ƒä¹ˆ value å°±ä¸åœ¨æ˜¯ä¸€ä¸ªå…·ä½“çš„å€¼ï¼Œè€Œæ˜¯å‡½æ•°çš„åœ°å€ã€‚\nlet data = &#123;    num: 1,    print: function() &#123;        console.log(this.num)    &#125;&#125;data.print() // æ‰§è¡Œç»“æœä¸º 1let print = data.printpirnt() // æ‰§è¡Œç»“æœä¸º undefined\n\n\né€šè¿‡ä¸Šé¢çš„åˆ†æå¯ä»¥çŸ¥é“åŒä¸€ä¸ªå‡½æ•°å¯ä»¥èµ‹å€¼ç»™ä¸åŒå¯¹è±¡çš„å±æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¯ä»¥è¢«ä¸åŒçš„å¯¹è±¡è°ƒç”¨ï¼Œè¿™ä¸ªå¯¹è±¡å°±æˆä¸ºå‡½æ•°çš„å½“å‰è¿è¡Œç¯å¢ƒã€‚å½“å‡½æ•°å†…éƒ¨ä½¿ç”¨çš„è¿è¡Œç¯å¢ƒä¸­çš„å˜é‡æ—¶ï¼Œå®ƒåº”è¯¥æŒ‡æ˜ä½¿ç”¨çš„æ˜¯å“ªä¸ªè¿è¡Œç¯å¢ƒçš„ä¸­çš„å˜é‡ï¼Œæ‰€ä»¥å¼•å…¥äº† this å…³é”®å­—ï¼Œå®ƒæ‰€ä»£è¡¨çš„å°±æ˜¯å½“å‰è°ƒç”¨å‡½æ•°çš„å¯¹è±¡ã€‚\nç®­å¤´å‡½æ•°æŒ‡å‘ç®­å¤´å‡½æ•°å®ƒæ²¡æœ‰è‡ªå·±çš„ thisï¼Œå¦‚æœåœ¨ç®­å¤´å‡½æ•°å†…éƒ¨ä½¿ç”¨ thisï¼Œé‚£ä¹ˆ this æŒ‡å‘ä¸å¤–éƒ¨æ­£å¸¸å‡½æ•°çš„æŒ‡å‘ç›¸åŒï¼Œå¦‚ä¸‹é¢çš„ç®­å¤´å‡½æ•°ä¸­çš„ this ä¸ fun ä¿æŒä¸€è‡´ã€‚\nfunction fun() &#123;  () =&gt; &#123;console.log(this)&#125;&#125;\n\ncall&#x2F;applyå‡½æ•°è°ƒç”¨çš„è¿‡ç¨‹ä¸­ this ä¼šè‡ªåŠ¨æŒ‡å‘å‡½æ•°çš„å½“å‰è¿è¡Œç¯å¢ƒï¼Œè¿™æ˜¯å‡½æ•°çš„é»˜è®¤è¡Œä¸ºï¼Œä½†æœ‰çš„æ—¶å€™è¿™ç§é»˜è®¤è¡Œä¸ºå¹¶ä¸èƒ½å¾ˆå¥½çš„æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæ¯”å¦‚ä¸‹é¢ä½¿ç”¨è£…é¥°å™¨çš„æƒ…å†µï¼š\nlet person = &#123;    name: &quot;chang&quot;,    printName: function() &#123;        console.log(this.name)    &#125;&#125;// è£…é¥°å™¨å‡½æ•°function decorator(fun) &#123;      return function() &#123;        console.log(&quot;æ·»åŠ è£…é¥°å™¨&quot;)        fun()     &#125;&#125;person.printName = decorator(person.printName)person.printName()\n\nä¸Šé¢çš„ä»£ç çš„è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œç»™å¯¹è±¡ printName æ–¹æ³•æ·»åŠ è£…é¥°å™¨åï¼Œæ–¹æ³•ä¸­çš„ this çš„æŒ‡å‘å‡ºç°çš„å˜åŒ–ï¼Œæ‰€ä»¥ name å±æ€§æ‰¾ä¸åˆ°äº†ã€‚\n\nthis æŒ‡å‘å‡ºç°å˜åŒ–çš„åŸå› ä¸ä¸‹é¢çš„ä»£ç ç±»ä¼¼ï¼Œåœ¨å‡½æ•°ä¼ å‚çš„è¿‡ç¨‹ä¸­ printName åŸæœ‰çš„è¿è¡Œç¯å¢ƒä¸¢å¤±äº†ã€‚\nlet fun = person.printName()fun()\n\nå°†è£…é¥°å™¨å‡½æ•°åšå¦‚ä¸‹ä¿®æ”¹åå¯ä»¥è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼š\n// è£…é¥°å™¨å‡½æ•°function decorator(fun) &#123;      return function() &#123;        console.log(&quot;æ·»åŠ è£…é¥°å™¨&quot;)        fun.call(this)    &#125;&#125;// è£…é¥°å™¨å‡½æ•°function decorator(fun) &#123;      return function() &#123;        console.log(&quot;æ·»åŠ è£…é¥°å™¨&quot;)        fun.apply(this)    &#125;&#125;\n\ncall å’Œ apply æ˜¯ä¸¤ä¸ªå†…å»ºæ–¹æ³•ï¼Œè°ƒç”¨æ–¹å¼åˆ†åˆ«ä¸º func.apply(this, arguments) å’Œ func.call(this, ...arguments)ï¼Œå®ƒä»¬ä¸¤ä¸ªçš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ç»™å‡½æ•°ä¼ é€’ä¸€ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒå¹¶è¿è¡Œè¯¥å‡½æ•°ã€‚\nlet person = &#123;    name: &quot;chang&quot;&#125;function printName() &#123;    console.log(this.name)&#125;printName.call(person)printName.apply(person)","tags":["javascript"]},{"title":"SpirngåŸºäºJavaå’Œæ³¨è§£çš„é…ç½®.md","url":"/2023/03/13/Spirng%E5%9F%BA%E4%BA%8EJava%E5%92%8C%E6%B3%A8%E8%A7%A3%E7%9A%84%E9%85%8D%E7%BD%AE/","content":"XML å¼€å¯æ³¨è§£æ”¯æŒSpring ç”¨ xml é…ç½®æ˜¯æ¯”è¾ƒç¹ççš„ï¼Œæ‰€ä»¥ Spring ç”±æä¾›äº†å¦ä¸€ç§é…ç½®æ–¹æ³•ï¼šæ³¨è§£é…ç½®ã€‚\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;        contex:schemaLocation=&quot;http://www.springframework.org/schema/context        http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;      &lt;context:annotation-config/&gt;    &lt;context:component-scan base-package=&quot;com.chang.pojo&quot;/&gt;   &lt;/beans&gt;\n\n\nåœ¨ spring é…ç½®æ–‡ä»¶ä¸­å¼•å…¥ context æ–‡ä»¶å¤´\nxmlns:context=&quot;http://www.springframework.org/schema/context&quot;contex:schemaLocation=&quot;http://www.springframework.org/schema/contexthttp://www.springframework.org/schema/context/spring-context.xsd&quot;\n\nå¼€å¯å±æ€§æ³¨è§£æ”¯æŒ\n&lt;context:annotation-config/&gt;\n\né…ç½®è‡ªåŠ¨æ‰«æè·¯å¾„\n&lt;context:component-scan base-package=&quot;com.chang.pojo&quot;/&gt;\n\nè‡ªåŠ¨æ‰«æå¯ä»¥è®¾ç½®æ’é™¤ç­–ç•¥ï¼Œè€Œä¸”å¯ä»¥å åŠ ä½¿ç”¨ã€‚\n&lt;context:component-scan base-package=&quot;com.chang.pojo&quot;&gt;    &lt;exclude-filter type=&quot;&quot; expression=&quot;&quot; /&gt;    &lt;!--     typeçš„å€¼å¯ä»¥ä¸ºï¼š    assignable: æ’é™¤æŒ‡å®šç±»å‹ï¼ˆexpressionæŒ‡å®šè¦æ’é™¤çš„ç±»ï¼‰    annotation: æ’é™¤ç‰¹å®šæ³¨è§£ï¼ˆexpressionæŒ‡å®šè¦æ’é™¤çš„æ³¨è§£ï¼‰    aspectj:    é€šè¿‡åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ’é™¤ï¼ˆexpressionæŒ‡å®šåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œåªèƒ½ç”¨åŒ…åˆ‡å…¥ç‚¹æˆ–ç±»åˆ‡å…¥ç‚¹ï¼‰    regex:      é€šè¿‡æ­£åˆ™    custom:     è‡ªå®šä¹‰æ’é™¤ç­–ç•¥ï¼ˆä¸€èˆ¬ç”¨äºæ¡†æ¶åº•å±‚å¼€å‘ï¼‰    --&gt;&lt;/context:component-scan&gt;\n\nç±»ä¼¼çš„ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰åŒ…å«ç­–ç•¥ï¼Œä¸è¿‡éœ€è¦ä½¿ç”¨ use-default-filters å±æ€§å…³é—­é»˜è®¤çš„æ‰«æç­–ç•¥ã€‚\nuse-default-filters=&quot;false&quot;ä½¿é»˜è®¤æ‰«æç­–ç•¥å¤±æ•ˆ&lt;context:component-scan base-package=&quot;com.chang.pojo&quot; use-default-filters=&quot;false&quot;&gt;    &lt;include-filter type=&quot;&quot; expression=&quot;&quot; /&gt;    &lt;!--     typeçš„å€¼å¯ä»¥ä¸ºå’Œæ’é™¤æ–¹å¼ä¸€æ ·    --&gt;&lt;/context:component-scan&gt;\n\nä¹‹ååˆ›å»ºå®¹å™¨çš„è¿‡ç¨‹å’Œ xml é…ç½®æ˜¯ä¸€æ ·çš„ã€‚\nClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;classpath:/bean.xml&quot;);Object student = applicationContext.getBean(&quot;student&quot;);System.out.println(student.getClass());\n\n@Configurationåˆ°ç›®å‰ä¸ºæ­¢ï¼ŒSpring çš„é…ç½®è¿˜æ˜¯é€ƒè„±ä¸äº†åœ¨ xmlï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰åŠæ³•ç›´æ¥ä¸ä½¿ç”¨ xml å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„ï¼ŒSpring æä¾›äº†ä¸€ç§å®Œå…¨ä½¿ç”¨ Java ç±»æ›¿ä»£ xml çš„æ–¹å¼ã€‚\né¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªé…ç½®ç±»ï¼Œç„¶åç»™ä»–æ·»åŠ ä¸€ä¸ª @Configuration æ³¨è§£ï¼Œè¿™æ ·è¿™ä¸ªç±»å¯¹ Spring æ¥è¯´å°±æ˜¯ä¸€ä¸ªé…ç½®ç±»äº†ï¼Œå®ƒçš„ä½œç”¨å°±ç±»ä¼¼äºå‰é¢çš„ xml æ–‡ä»¶ã€‚\n@Configurationpublic class RedisConfig &#123;&#125;\n\nç›¸åº”çš„ï¼Œå®¹å™¨çš„è¦ä» ClassPathXmlApplicationContext è½¬åŒ–ä¸º AnnotationConfigApplicationContextï¼Œä½¿ç”¨æ–¹æ³•å¤§è‡´å¦‚ä¸‹ã€‚\npublic static void main(String[] args) &#123;    ApplicationContext ctx = new AnnotationConfigApplicationContext(AppConfig.class);    MyService myService = ctx.getBean(MyService.class);    myService.doStuff();&#125;\n\nAnnotationConfigApplicationContext å®¹å™¨å¯ä»¥æ¥å— @Configuration ç±»ï¼Œ@Component ç±»å’Œå¸¦æœ‰ JSR-330 å…ƒæ•°æ®æ³¨è§£çš„ç±»ï¼Œæ¥æ”¶ @Configuration ç±»æ—¶ï¼Œ@Configuration ç±»æœ¬èº«è¢«æ³¨å†Œä¸º beanï¼Œå¹¶ä¸”è¯¥ç±»ä¸­æ‰€æœ‰å·²å£°æ˜çš„ @Bean æ–¹æ³•ä¹Ÿè¢«æ³¨å†Œ beanï¼Œå¦‚æœæ¥æ”¶äº† @Component å’Œ JSR-330 ç±»ï¼Œå®ƒä»¬å°†æ³¨å†Œä¸º beanã€‚\nå¯ä»¥åœ¨å¼€å§‹çš„æ—¶å€™æ„å»ºæ— å‚æ•°çš„å®¹å™¨ï¼Œä¹‹åå†åˆ©ç”¨ register æ–¹æ³•å¯¹å®¹å™¨è¿›è¡Œé…ç½®ã€‚\npublic static void main(String[] args) &#123;    AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext();    ctx.register(AppConfig.class, OtherConfig.class);    ctx.register(AdditionalConfig.class);    ctx.refresh();    MyService myService = ctx.getBean(MyService.class);    myService.doStuff();&#125;\n\n@ComponentScanè¯¥æ³¨è§£çš„ä½œç”¨æ˜¯æŒ‡å®šéœ€è¦æ‰«æçš„åŒ…ï¼Œç­‰åŒäº xml é…ç½®ä¸­çš„å¦‚ä¸‹å†…å®¹ï¼š\n&lt;context:component-scan base-package=&quot;com.chang.pojo&quot;/&gt;\n\nä¸ xm é…ç½®ç±»ä¼¼ï¼Œ@ComponentScan ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ‰«æç­–ç•¥ï¼Œç”¨åˆ°äº† @Filter æ³¨è§£ã€‚\n@Configuration@ComponentScan(basePackages = &quot;org.example&quot;,        includeFilters = @Filter(type = FilterType.REGEX, pattern = &quot;.*Stub.*Repository&quot;),        excludeFilters = @Filter(Repository.class))public class AppConfig &#123;    ...&#125;\n\n&lt;beans&gt;    &lt;context:component-scan base-package=&quot;org.example&quot;&gt;        &lt;context:include-filter type=&quot;regex&quot;                expression=&quot;.*Stub.*Repository&quot;/&gt;        &lt;context:exclude-filter type=&quot;annotation&quot;                expression=&quot;org.springframework.stereotype.Repository&quot;/&gt;    &lt;/context:component-scan&gt;&lt;/beans&gt;\n\n@Filter ä¸­çš„ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§é€‰æ‹©ï¼š\n\nFilterType.ANNOTATIONï¼šè¢«æ³¨è§£æ ‡è¯†çš„ç±»ã€‚\nFilterType.ASSIFNABLEï¼šç±»çš„å­ç±»æˆ–è€…æ¥å£çš„å®ç°ã€‚\nFilterType.ASPECTJï¼šåŒ¹é…ç»™å®šçš„ Aspectj è¡¨è¾¾å¼çš„ç±»ã€‚\nFilterType.REGEXï¼šç±»åä¸ç»™å®šæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„ç±»ã€‚\nFilterType.CUSTOMï¼šè‡ªå·±å®ç° org.springframework.core.type .TypeFilter æ¥å£ã€‚\n\nä½¿ç”¨å®¹å™¨çš„ scan æ–¹æ³•ä¹Ÿå¯ä»¥å®ç°ç±»ä¼¼åŠŸèƒ½ã€‚\npublic static void main(String[] args) &#123;    AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext();    ctx.scan(&quot;com.acme&quot;);    ctx.refresh();    MyService myService = ctx.getBean(MyService.class);&#125;\n\n@ImportResource æ³¨è§£å¦‚æœå·²ç»æœ‰äº†éƒ¨åˆ† xml é…ç½®æ–‡ä»¶ï¼Œåˆæƒ³ä½¿ç”¨ Java æ³¨è§£é…ç½®ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨è¯¥æ³¨è§£ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°† xml é…ç½®å¯¼å…¥å®¹å™¨ä¸­ï¼Œä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œxml çš„é…ç½®ä¼˜å…ˆçº§è¦é«˜äºå…¶ä»–é…ç½®ï¼Œå¦‚æœ xml é…ç½®å’Œæ³¨è§£é…ç½®ä¸­å­˜åœ¨äº†ç›¸åŒ id çš„ beanï¼Œé‚£ä¹ˆä¼šä»¥ xml é…ç½®ä¸ºå‡†ã€‚\n@Configuration@ImportResource(&quot;classpath:/com/acme/properties-config.xml&quot;)public class AppConfig &#123;    @Value(&quot;$&#123;jdbc.url&#125;&quot;)    private String url;    @Value(&quot;$&#123;jdbc.username&#125;&quot;)    private String username;    @Value(&quot;$&#123;jdbc.password&#125;&quot;)    private String password;    @Bean    public DataSource dataSource() &#123;        return new DriverManagerDataSource(url, username, password);    &#125;&#125;\n\n@Component@Component æ³¨è§£ç›¸å½“äº spring é…ç½®æ–‡ä»¶ä¸­çš„ bean æ ‡ç­¾ï¼Œå¦‚æœæ‰«æè·¯å¾„ä¸‹çš„ç±»æ·»åŠ äº†è¯¥æ³¨è§£ï¼Œé‚£ä¹ˆ Spring ä¼šæŠŠå®ƒæ·»åŠ åˆ°å®¹å™¨ä¸­ã€‚\n&lt;bean id=&quot;user&quot; class=&quot;User&quot;/&gt;\n\nbean çš„é»˜è®¤ id ä¸ºç±»åé¦–å­—æ¯å°å†™ï¼Œå¯ä»¥ç”¨ @Component æ³¨è§£çš„ value å±æ€§è‡ªå®šä¹‰ç±»çš„ id å€¼ã€‚å¦‚æœ xml é…ç½®æ–‡ä»¶ä¸­é…ç½®äº†ç›¸åŒ id çš„ beanï¼Œæ³¨è§£é…ç½®ä¼šè¢« xml é…ç½®è¦†ç›–ã€‚\n@Component(value=&quot;UserOne&quot;)public class User &#123;    public String name = &quot;chang&quot;;&#125;\n\n@Component æœ‰ä¸‰ä¸ªè¡ç”Ÿæ³¨è§£ï¼Œç›®çš„æ˜¯ä¸ºäº†æ›´å¥½çš„è¿›è¡Œåˆ†å±‚ï¼Œç›®å‰ä½¿ç”¨å“ªä¸€ä¸ªåŠŸèƒ½éƒ½ä¸€æ ·ã€‚\n\n@Controllerï¼šä¸€èˆ¬ç”¨äº web å±‚ã€‚\n@Serviceï¼šä¸€èˆ¬ä½äº service å±‚ã€‚\n@Repositoryï¼šä¸€èˆ¬ä½äº dao å±‚ã€‚\n\n@scope æ³¨è§£è¯¥æ³¨è§£ç”¨äºæ§åˆ¶ bean æ˜¯å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹ï¼š\n\nsingletonï¼šå•å®ä¾‹æ¨¡å¼ï¼Œé»˜è®¤æƒ…å†µä¸‹ Spring ä¼šé‡‡ç”¨è¯¥æ¨¡å¼åˆ›å»ºå¯¹è±¡ï¼Œå…³é—­ Spring å®¹å™¨æ—¶ï¼Œbean ä¼šè¢«é”€æ¯ã€‚\nprototypeï¼šå¤šä¾‹æ¨¡å¼ï¼Œæ¯æ¬¡åˆ›å»ºæ–°çš„ beanï¼Œå¹¶ä¸”å…³é—­ Spring å®¹å™¨æ—¶ï¼Œbean ä¸ä¼šè¢«é”€æ¯ã€‚\n\n@Controller(&quot;user&quot;)@Scope(&quot;prototype&quot;)public class User &#123;    @Value(&quot;chang&quot;)    public String name;&#125;\n\n@Lazy æ³¨è§£å•å®ä¾‹æƒ…å†µä¸‹ï¼ŒSpring ä¼šåœ¨å·¥å‚åˆ›å»ºåŒæ—¶åˆ›å»º beanï¼Œé…ç½® @Lazy æ³¨è§£åï¼Œä¼šæŠŠ bean çš„åˆ›å»ºæ¨è¿Ÿåˆ°è¯¥ bean è¢«ä½¿ç”¨çš„æ—¶å€™ã€‚\n@Required@Required æ³¨è§£é€‚ç”¨äº bean çš„å±æ€§è®¾ç½®å™¨æ–¹æ³•ï¼Œç”¨äºå‘Šè¯‰ Spring è¯¥å±æ€§å¿…é¡»æ³¨å…¥ã€‚\npublic class SimpleMovieLister &#123;    private MovieFinder movieFinder;    @Required    public void setMovieFinder(MovieFinder movieFinder) &#123;        this.movieFinder = movieFinder;    &#125;    // ...&#125;\n\n@Autowiredå¯ä»¥å°† @Autowired æ³¨è§£åº”ç”¨äºæ„é€ å‡½æ•°ï¼Œä¸è¿‡ä» Spring Framework 4.3 å¼€å§‹ï¼Œå¦‚æœç›®æ ‡ bean ä»…å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•°ä½œä¸ºå¼€å§‹ï¼Œåˆ™ä¸å†éœ€è¦åœ¨æ­¤ç±»æ„é€ å‡½æ•°ä¸Šä½¿ç”¨ @Autowired æ³¨è§£ã€‚ä½†æ˜¯å¦‚æœæœ‰å‡ ä¸ªæ„é€ å‡½æ•°å¯ç”¨ï¼Œåˆ™å¿…é¡»è‡³å°‘æ³¨è§£ä¸€ä¸ªï¼Œä»¥å‘Šè¯‰å®¹å™¨ä½¿ç”¨å“ªä¸ªæ„é€ å‡½æ•°ã€‚\npublic class MovieRecommender &#123;    private final CustomerPreferenceDao customerPreferenceDao;    @Autowired    public MovieRecommender(CustomerPreferenceDao customerPreferenceDao) &#123;        this.customerPreferenceDao = customerPreferenceDao;    &#125;    // ...&#125;\n\nè¿˜å¯ä»¥å°† @Autowired æ³¨è§£ åº”ç”¨äºâ€œä¼ ç»Ÿâ€çš„ setter æ–¹æ³•ï¼Œåœ¨å±æ€§è®¾ç½®é˜¶æ®µï¼Œè¿›è¡Œè‡ªåŠ¨æ³¨å…¥ã€‚\npublic class SimpleMovieLister &#123;    private MovieFinder movieFinder;    @Autowired    public void setMovieFinder(MovieFinder movieFinder) &#123;        this.movieFinder = movieFinder;    &#125;    // ...&#125;\n\nå¦‚æœæœ‰éœ€è¦è¿˜å¯ä»¥å°†æ³¨è§£åº”ç”¨äºå…·æœ‰ä»»æ„åç§°å’Œå¤šä¸ªå‚æ•°çš„æ–¹æ³•ã€ç”¨äºå­—æ®µæˆ–è€…æ··åˆä½¿ç”¨ã€‚\npublic class MovieRecommender &#123;    private MovieCatalog movieCatalog;    private CustomerPreferenceDao customerPreferenceDao;    @Autowired    public void prepare(MovieCatalog movieCatalog,            CustomerPreferenceDao customerPreferenceDao) &#123;        this.movieCatalog = movieCatalog;        this.customerPreferenceDao = customerPreferenceDao;    &#125;    // ...&#125;\n\npublic class MovieRecommender &#123;    private final CustomerPreferenceDao customerPreferenceDao;    @Autowired    private MovieCatalog movieCatalog;    @Autowired    public MovieRecommender(CustomerPreferenceDao customerPreferenceDao) &#123;        this.customerPreferenceDao = customerPreferenceDao;    &#125;    // ...&#125;\n\nå¯ä»¥ç”¨äºæ•°ç»„ã€Listã€Set å’Œ Mapï¼ˆkey æ˜¯ String çš„æƒ…å†µä¸‹ï¼‰ï¼ŒSpring ä¼šè¿›è¡Œè‡ªåŠ¨æ³¨å…¥ï¼Œåœ¨ Map ä¸­æ³¨å…¥æ—¶ï¼Œä½¿ç”¨çš„ key æ˜¯ bean çš„ idã€‚å¦‚æœå¸Œæœ›åœ¨æ•°ç»„å’Œ List ä¸­ä»¥æŸç§é¡ºåºæ³¨å…¥ï¼Œéœ€è¦åœ¨ bean ä¸Šä½¿ç”¨ @Order æˆ– @Priority æ³¨è§£æŒ‡æ˜ä¼˜å…ˆçº§ã€‚\npublic class MovieRecommender &#123;    @Autowired    private MovieCatalog[] movieCatalogs;    // ...&#125;\n\npublic class MovieRecommender &#123;    private Set&lt;MovieCatalog&gt; movieCatalogs;    @Autowired    public void setMovieCatalogs(Set&lt;MovieCatalog&gt; movieCatalogs) &#123;        this.movieCatalogs = movieCatalogs;    &#125;    // ...&#125;\n\npublic class MovieRecommender &#123;    private Map&lt;String, MovieCatalog&gt; movieCatalogs;    @Autowired    public void setMovieCatalogs(Map&lt;String, MovieCatalog&gt; movieCatalogs) &#123;        this.movieCatalogs = movieCatalogs;    &#125;    // ...&#125;\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰å€™é€‰çš„ bean å¯ç”¨ï¼Œè‡ªåŠ¨è£…é…å°±ä¼šå¤±è´¥ã€‚é»˜è®¤è¡Œä¸ºæ˜¯å°†å¸¦æ³¨è§£çš„æ–¹æ³•ï¼Œæ„é€ å‡½æ•°å’Œå­—æ®µè§†ä¸ºæŒ‡ç¤ºå¿…é¡»çš„ä¾èµ–é¡¹ï¼Œé€šè¿‡ required å­—æ®µå¯ä»¥ä¿®æ”¹è¿™ä¸€é»˜è®¤è¡Œä¸ºã€‚\npublic class SimpleMovieLister &#123;    private MovieFinder movieFinder;    @Autowired(required = false)    public void setMovieFinder(MovieFinder movieFinder) &#123;        this.movieFinder = movieFinder;    &#125;    // ...&#125;\n\nä» Spring Framework 5.0 å¼€å§‹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ @Nullable æ³¨è§£ï¼Œå‘Šè¯‰ Spring å­—æ®µå¯ä»¥ä¸ºç©ºã€‚\npublic class SimpleMovieLister &#123;    @Autowired    public void setMovieFinder(@Nullable MovieFinder movieFinder) &#123;        ...    &#125;&#125;\n\n@Primaryæ³¨å…¥æ—¶å¦‚æœæœ‰å¤šä¸ªå€™é€‰é¡¹ï¼Œä¼˜å…ˆæ³¨å…¥ä½¿ç”¨è¯¥æ³¨è§£çš„ beanã€‚\n@Qualifieræœ‰çš„æ—¶å€™åŒä¸€ç§ç±»å‹çš„ bean å¯èƒ½æœ‰å¤šä¸ªï¼Œ@Autowired åªèƒ½åŸºäºç±»å‹æ³¨å…¥ï¼Œå¦‚æœå¸Œæœ›æ³¨å…¥æŸä¸ªæŒ‡å®šçš„ beanï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ³¨è§£è¡¨åå…·ä½“è¦æ³¨å…¥çš„ bean çš„ idã€‚@Qualifier æ³¨è§£å¯ä»¥ç”¨äºå­—æ®µã€setter æˆ–è€…æ„é€ æ–¹æ³•çš„å‚æ•°ã€‚\npublic class MovieRecommender &#123;    @Qualifier(&quot;id&quot;)    private MovieCatalog movieCatalog;    private CustomerPreferenceDao customerPreferenceDao;    @Autowired    public void prepare(@Qualifier(&quot;id&quot;)MovieCatalog movieCatalog,            CustomerPreferenceDao customerPreferenceDao) &#123;        this.movieCatalog = movieCatalog;        this.customerPreferenceDao = customerPreferenceDao;    &#125;    // ...&#125;\n\nè¿˜å¯ä»¥ç”¨äºç»™ bean æ·»åŠ æ ‡è¯†ï¼Œåœ¨æ³¨å…¥çš„æ—¶å€™ä½¿ç”¨æ­¤æ ‡è¯†ã€‚\n@Component(&quot;student&quot;)@Qualifier(&quot;12&quot;)public class StudentBean &#123;&#125;\n\n@Resourceè¯¥æ³¨è§£æ˜¯ JSR250 æä¾›çš„æ³¨è§£ï¼Œå¦‚æœ‰æŒ‡å®šçš„ name å±æ€§ï¼Œå…ˆæŒ‰è¯¥å±æ€§è¿›è¡Œ byName æ–¹å¼æŸ¥æ‰¾è£…é…ï¼›å…¶æ¬¡å†è¿›è¡Œé»˜è®¤çš„ byName æ–¹å¼è¿›è¡Œè£…é…ï¼›å¦‚æœä»¥ä¸Šéƒ½ä¸æˆåŠŸï¼Œåˆ™æŒ‰ byType çš„æ–¹å¼è‡ªåŠ¨è£…é…ã€‚\npublic class User &#123;    //å¦‚æœå…è®¸å¯¹è±¡ä¸ºnullï¼Œè®¾ç½®required = false,é»˜è®¤ä¸ºtrue    @Resource(name = &quot;cat2&quot;)    private Cat cat;    @Resource    private Dog dog;    private String str;&#125;\n\n@PostConstruct å’Œ@PreDestroyæ ‡è¯† bean çš„åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•ï¼Œåœ¨ xml é…ç½®ä¸­æåˆ°è¿‡ã€‚\npublic class CachingMovieLister &#123;    @PostConstruct    public void populateMovieCache() &#123;        // populates the movie cache upon initialization...    &#125;    @PreDestroy    public void clearMovieCache() &#123;        // clears the movie cache upon destruction...    &#125;&#125;\n\n@Valueè¯¥æ³¨è§£å¯ä»¥ç›´æ¥åœ¨å±æ€§ä¸Šä½¿ç”¨ï¼ŒSpring ä¼šå°†å€¼æ³¨å…¥åˆ°å±æ€§ä¸­å»ï¼Œä¸å¯ä»¥ç”¨äºé™æ€å±æ€§ï¼Œæ— æ³•æ³¨å…¥é›†åˆã€‚\n@Componentclass Person &#123;    @Value(&quot;chang&quot;)    private String name;      @Value(&quot;12&quot;)    private int age;&#125;\n\næœ‰æ—¶å€™å¯ä»¥å°†ä¸€äº›å±æ€§æ”¾å…¥é…ç½®æ–‡ä»¶ä¸­ï¼Œ@Value å¯ä»¥å–å‡ºé…ç½®æ–‡ä»¶ä¸­çš„è¿™äº›å±æ€§ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š\n\nç¼–å†™é…ç½®æ–‡\n\nname=changage=12\n\n\nåœ¨ Spring çš„ xml é…ç½®æ–‡ä»¶ä¸­æŒ‡å‡ºé…ç½®æ–‡ä»¶çš„ä½ç½®\n&lt;context:property-placeholder location=&quot;propertiesé…ç½®æ–‡ä»¶ä½ç½®&quot; /&gt;\n\nä½¿ç”¨ @Value æ³¨è§£\n  @Component  class Person &#123;      @Value(&quot;$&#123;name&#125;&quot;)      private String name;      @Value(&quot;$&#123;age&#125;&quot;)      private int age;  &#125;## @PropertySource`@Value` æ³¨è§£è¦ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼Œéœ€è¦åœ¨ xml ä¸­é…ç½® `properties` æ–‡ä»¶çš„ä½ç½®ã€‚ä¸è¿‡å¦‚æœä½¿ç”¨çº¯ Java çš„æ–¹å¼é…ç½®ä»¥åï¼Œè¦æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿå…¶å® Spring æä¾›äº†å¦ä¸€ä¸ªæ³¨è§£æ¥ä»£æ›¿è¿™ä¸ªé…ç½®ï¼Œå°±æ˜¯ `@PropertySource`ã€‚```java@Component@PropertySource(&quot;é…ç½®æ–‡ä»¶ä½ç½®&quot;)class Person &#123;    @Value(&quot;$&#123;name&#125;&quot;)    private String name;      @Value(&quot;$&#123;age&#125;&quot;)    private int age;&#125;\n\n@Beané™¤äº†å¯ä»¥é€šè¿‡ Spring è‡ªåŠ¨æ‰«æå‘å®¹å™¨ä¸­æ·»åŠ  beanï¼Œè¿˜å¯ä»¥æ‰‹åŠ¨çš„å‘å®¹å™¨ä¸­åŠ å…¥ï¼Œ@Bean æ³¨è§£å°±ç”¨æ¥å®ç°è¿™æ ·çš„åŠŸèƒ½ï¼Œç±»ä¼¼äº xml é…ç½®æ–‡ä»¶ä¸­çš„å·¥å‚æ–¹æ³•ã€‚è¿™ç§æ–¹å¼ä¸€èˆ¬ç”¨äºç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œæˆ–è€…å¯¹è±¡åˆ›å»ºæ¯”è¾ƒå¤æ‚çš„æƒ…å†µã€‚\n@Configurationpublic class RedisConfig &#123;    @Bean    public User user() &#123;        return new User();    &#125;&#125;\n\né»˜è®¤æƒ…å†µä¸‹ä¼šä½¿ç”¨æ–¹æ³•åä¼šä½œä¸º bean çš„é»˜è®¤ idï¼Œå¦‚æœéœ€è¦å®šä¹‰æˆå…¶ä»–çš„ id å¯ä»¥ä½¿ç”¨ @Bean(&quot;id&quot;)ã€‚å‰é¢æåˆ°çš„ @Scope å’Œ @Qualifier æ³¨è§£ä¹Ÿå¯ä»¥ç”¨äº @Bean æ³¨è§£çš„æ–¹æ³•ï¼Œè¿˜å¯ä»¥ç»™ bean æ·»åŠ åˆ«åå’Œæè¿°ã€‚\n@Configurationpublic class AppConfig &#123;    @Bean(&#123;&quot;dataSource&quot;, &quot;subsystemA-dataSource&quot;, &quot;subsystemB-dataSource&quot;&#125;)    public DataSource dataSource() &#123;        // instantiate, configure and return DataSource bean...    &#125;&#125;\n\n@Configurationpublic class AppConfig &#123;    @Bean    @Description(&quot;Provides a basic example of a bean&quot;)    public Thing thing() &#123;        return new Thing();    &#125;&#125;\n\n@Bean æ³¨è§£æ ‡æ³¨çš„æ–¹æ³•æ”¯æŒè‡ªåŠ¨æ³¨å…¥ï¼Œä¸‹é¢çš„åˆ—å­ä¸­ Spring ä¼šä»å®¹å™¨ä¸­æ‰¾åˆ° Person ç±»å‹çš„ bean èµ‹ç»™ person å‚æ•°ã€‚\n@Configurationpublic class RedisConfig &#123;     @Bean    public User user(Person person) &#123;        return new User(person);    &#125;&#125;\n\nå¦‚æœæ˜¯åœ¨ @Configuration æ³¨è§£çš„é…ç½®ç±»ä¸­ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ @Bean æ³¨è§£è¿‡çš„æ–¹æ³•è¿›è¡Œæ³¨å…¥ï¼Œå…¶ä»–æƒ…å†µä¸‹è¯¥æ–¹æ³•ä¸å¯ä½¿ç”¨ã€‚\n@Configurationpublic class RedisConfig &#123;       @Bean    public Person person() &#123;        return new Person();    &#125;      @Bean    public User user() &#123;        // è¿™é‡Œç›´æ¥è°ƒç”¨äº†personæ–¹æ³•æ³¨å…¥å¯¹è±¡ã€‚        return new User(person());    &#125;&#125;\n\n@Import æ³¨è§£@Import æ³¨è§£çš„ä½œç”¨æ˜¯å‘å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªé…ç½®ç±»æˆ–è€… beanã€‚\n@Configurationpublic class ConfigA &#123;    @Bean    public A a() &#123;        return new A();    &#125;&#125;@Configuration@Import(ConfigA.class)public class ConfigB &#123;    @Bean    public B b() &#123;        return new B();    &#125;&#125;\n\nBean ä¼˜å…ˆçº§å¯¹äºä¸åŒé…ç½®ä¸­å…·æœ‰ç›¸åŒ id çš„ beanï¼Œå®ƒä»¬ä¹‹é—´çš„ä¼˜å…ˆçº§å…³ç³»ä¸ºï¼šxml é…ç½® &gt;@Bean é…ç½® &gt; @Component é…ç½®ã€‚\n","categories":["Springå­¦ä¹ ç¬”è®°"],"tags":["Spring"]},{"title":"è®¡ç®—æœºçš„å¯åŠ¨.md","url":"/2023/02/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E5%90%AF%E5%8A%A8/","content":"ç¬¬ä¸€æ¡æŒ‡ä»¤ç¨‹åºåœ¨è¿è¡Œæ—¶å¿…é¡»è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œä¹‹å CPU æ‰èƒ½ä»å†…å­˜ä¸­è¯»å–ç¨‹åºç›¸å…³çš„æŒ‡ä»¤å¹¶æ‰§è¡Œï¼Œæ“ä½œç³»ç»Ÿæœ¬èº«æ˜¯ä¸€ç§ç¨‹åºï¼Œè‡ªç„¶ä¹Ÿè¦éµå¾ªè¿™æ ·çš„è¿‡ç¨‹ã€‚ä¸è¿‡è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ‰§è¡Œå…¶ä»–ç¨‹åºçš„æ—¶å€™ï¼Œéƒ½æ˜¯ç”±æ“ä½œç³»ç»Ÿå°†ç¨‹åºè¯»å–åˆ°å†…å­˜ä¸­çš„ï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿåˆæ˜¯è¢«è°åŠ è½½è¿›å†…å­˜ä¸­çš„å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ BIOS ç¨‹åºã€‚\nä¸‹å›¾æ˜¯è®¡ç®—æœºåœ¨å¯åŠ¨æ—¶åŠ è½½æ“ä½œç³»ç»Ÿçš„ç®€è¦æµç¨‹ï¼Œå½“æˆ‘ä»¬æŒ‰ä¸‹ç”µæºçš„æ—¶å€™ï¼Œä¼šé¦–å…ˆæ‰§è¡Œ BIOS ç¨‹åºï¼Œä¹‹åå®ƒä¼šä»ç¡¬ç›˜ä¸­è¯»å–å¼•å¯¼ç¨‹åºï¼Œå¼•å¯¼ç¨‹åºå†å°†æ“ä½œç³»ç»ŸåŠ è½½è¿›å†…å­˜ä¸­ã€‚\n\næ‰€ä»¥åœ¨è®¡ç®—æœºé€šç”µåï¼Œæ‰§è¡Œçš„ç¬¬ä¸€æ¡æŒ‡ä»¤æ˜¯å±äº BIOS ç¨‹åºçš„ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ï¼ŒBOIS ç¨‹åºåœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿå®ƒåˆæ˜¯æ€ä¹ˆè¢«åŠ è½½è¿›å†…å­˜çš„ï¼ŸCPU æ˜¯å¦‚ä½•å¼€å§‹æ‰§è¡Œå®ƒçš„ç¬¬ä¸€æ¡æŒ‡ä»¤çš„ï¼Ÿ\nBIOS ç¨‹åºä½œä¸ºè®¡ç®—æœºå¯åŠ¨åæ‰§è¡Œçš„ç¬¬ä¸€ä¸ªç¨‹åºï¼Œè‚¯å®šä¸èƒ½åƒæ“ä½œç³»ç»Ÿä¸€æ ·å­˜æ”¾åœ¨ç¡¬ç›˜ä¸Šï¼Œå½“ç„¶å®ƒä¹Ÿä¸èƒ½ç›´æ¥å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œå› ä¸ºå†…å­˜æ–­ç”µä»¥åæ‰€æœ‰çš„æ•°æ®å°±éƒ½æ¶ˆå¤±äº†ã€‚äº‹å®ä¸Š BIOS è¢«å­˜æ”¾åœ¨ä¸»æ¿ä¸Šçš„ä¸€ä¸ªåªè¯»å­˜å‚¨å™¨ï¼ˆROMï¼‰é‡Œï¼ŒROM çš„ç‰¹ç‚¹åœ¨äºæ–­ç”µåæ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œå½“è®¡ç®—æœºåŠ ç”µä¹‹åï¼Œç¡¬ä»¶é€»è¾‘ä¼šå°† ROM ä¸­å­˜æ”¾çš„ BIOS ç¨‹åºè¯»å–åˆ°å†…å­˜ä¸­ 0xFFFF0 è¿™ä¸ªä½ç½®ï¼Œå¹¶å¼ºåˆ¶å°† CS å¯„å­˜å™¨çš„å€¼ä¸º 0xF000ã€IP å¯„å­˜å™¨çš„å€¼ä¸º 0xFFF0ï¼Œè¿™æ · CS: IP å°±æŒ‡å‘äº† 0xFFFF0 è¿™ä¸ªåœ°å€ä½ç½®ï¼ŒCPU å¼€å§‹æ‰§è¡Œç¬¬ä¸€æ¡æŒ‡ä»¤æ—¶å°±ä» 0xFFFF0 è¿™ä¸ªå†…å­˜åœ°å€è¯»å–ï¼ŒBIOS ç¨‹åºå¼€å§‹è¢«æ‰§è¡Œã€‚\nBIOS ç¨‹åºBIOSï¼ˆBasic Input&#x2F;Output Systemï¼‰æ˜¯åŸºæœ¬è¾“å…¥è¾“å‡ºç³»ç»Ÿçš„ç®€ç§°ï¼Œä¸ºè®¡ç®—æœºæä¾›æœ€ä½çº§ã€æœ€ç›´æ¥çš„ç¡¬ä»¶æ§åˆ¶ä¸æ”¯æŒï¼Œæœ€ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š\n\nä¸Šç”µåçš„ç³»ç»Ÿè‡ªæ£€å’Œåˆå§‹åŒ–\nä¸­æ–­æœåŠ¡\nåŸºç¡€ IO æœåŠ¡\nåŠ è½½æ“ä½œç³»ç»Ÿ\n\nå‰æ–‡ä¸­å·²ç»äº†è§£åˆ° BIOS ç¨‹åºä¼šè¢«åŠ è½½åˆ° 0xFFFF0 è¿™ä¸ªä½ç½®ï¼ŒCPU ä¹Ÿä¼šä»è¿™ä¸ªä½ç½®çš„æŒ‡ä»¤å¼€å§‹æ‰§è¡Œ BIOS ç¨‹åºï¼Œé‚£ä¹ˆ BIOS ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸»è¦å¹²äº†ä»¥ä¸‹è¿™ä¹ˆå‡ ä»¶äº‹ï¼š\n\nBIOS é¦–å…ˆå…ˆè¿›è¡Œ POSTï¼ˆPowerï¼On Self Testï¼ŒåŠ ç”µåè‡ªæ£€ï¼‰ï¼Œä¸»è¦æ£€æµ‹ç³»ç»Ÿä¸­ä¸€äº›å…³é”®è®¾å¤‡æ˜¯å¦å­˜åœ¨å’Œèƒ½å¦æ­£å¸¸å·¥ä½œï¼Œä¾‹å¦‚å†…å­˜å’Œæ˜¾å¡ç­‰è®¾å¤‡ã€‚å¦‚æœç¡¬ä»¶å‡ºç°é—®é¢˜ï¼Œä¸»æ¿ä¼šå‘å‡ºä¸åŒå«ä¹‰çš„èœ‚é¸£ï¼Œå¹¶ç»ˆæ­¢å¯åŠ¨è¿‡ç¨‹ï¼›å¦‚æœç¡¬ä»¶æ²¡æœ‰é—®é¢˜ï¼Œç»§ç»­æ‰§è¡Œåç»­æµç¨‹ã€‚\næ„å»ºä¸­æ–­å‘é‡è¡¨å’Œ BIOS æ•°æ®åŒºï¼ŒåŠ è½½ä¸­æ–­æœåŠ¡ç¨‹åºã€‚\nBIOS å¼€å§‹æœå¯»å¯å¼•å¯¼çš„å­˜å‚¨è®¾å¤‡ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œåˆ™å°†å­˜å‚¨è®¾å¤‡ä¸­çš„å¼•å¯¼æ‰‡åŒºè¯»å…¥ç‰©ç†å†…å­˜ 0x7C00 å¤„ï¼Œå¹¶è·³è½¬åˆ° 0x7C00 ç»§ç»­æ‰§è¡Œï¼Œä»è€Œå°† CPU äº¤ç»™å¼•å¯¼æ‰‡åŒºä¸­çš„ç¨‹åºã€‚\n\nå¼•å¯¼ç¨‹åºBIOS å°†ç£ç›˜ä¸­çš„å¼•å¯¼ç¨‹åºåŠ è½½åˆ°å†…å­˜ä¸­å¹¶å°† CPU æ§åˆ¶æƒäº¤ç»™å¼•å¯¼ç¨‹åºåï¼Œè®¡ç®—æœºå¼€å§‹ä¸ç£ç›˜ä¸­çš„æ“ä½œç³»ç»Ÿæœ‰äº†è”ç³»ã€‚\næ­¤æ—¶ BOIS åŠ è½½åˆ°å†…å­˜ä¸­çš„å†…å®¹ç§°ä¸ºä¸»å¼•å¯¼è®°å½•ï¼ˆMBRï¼‰ï¼Œä½äºç£ç›˜ 0 ç›˜é¢ 0 ç£é“ 1 æ‰‡åŒºï¼Œä¹Ÿå°±æ˜¯ç£ç›˜æœ€å¼€å§‹çš„ 512 ä¸ªå­—èŠ‚ã€‚å½“ç„¶ä¸æ˜¯æ‰€æœ‰çš„ç£ç›˜éƒ½è£…æœ‰æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥å°†è¿™ 512 ä¸ªå­—èŠ‚çš„æœ€åä¸¤ä¸ªå­—èŠ‚è§„å®šä¸ºäº†æ ‡å¿—ä½ï¼Œå¦‚æœå®ƒä»¬çš„å€¼æ˜¯ 0x55 å’Œ 0xAAã€‚\n\nè®¡ç®—æœºç¡¬ä»¶ä½“ç³»ç»“æ„çš„è®¾è®¡ä¸ BIOS çš„è”æ‰‹æ“ä½œï¼šç†è®ºä¸Šï¼Œè®¡ç®—æœºå¯ä»¥å®‰è£…ä»»ä½•æ“ä½œç³»ç»Ÿï¼Œæ¯ä¸ªæ“ä½œç³»ç»Ÿè®¾è®¡è€…éƒ½å¯ä»¥è®¾è®¡å‡ºä¸€å¥—è‡ªå·±æ“ä½œç³»ç»Ÿçš„å¯åŠ¨æ–¹æ¡ˆï¼Œè€Œæ“ä½œç³»ç»Ÿå’Œ BIOS é€šå¸¸æ˜¯ç”±ä¸åŒçš„å›¢é˜Ÿè®¾è®¡å’Œå¼€å‘ï¼Œä¸ºäº†ååŒå·¥ä½œï¼Œå¿…é¡»å»ºç«‹åè°ƒæœºåˆ¶ã€‚â€œä¸¤å¤´çº¦å®šâ€ã€â€œå®šä½è¯†åˆ«â€ã€‚å¯¹æ“ä½œç³»ç»Ÿï¼Œçº¦å®šæ“ä½œç³»ç»Ÿè®¾è®¡è€…å¿…é¡»æŠŠæœ€å¼€å§‹æ‰§è¡Œçš„ç¨‹åºï¼Œå³å¼•å¯¼ç¨‹åºå®šä½åœ¨å¯åŠ¨æ‰‡åŒºï¼ˆ0 ç›˜é¢ 0 ç£é“ 1 æ‰‡åŒºï¼‰ã€‚å¯¹ BIOSï¼Œçº¦å®šæ¥æ”¶åˆ°å¯åŠ¨æ“ä½œç³»ç»Ÿå‘½ä»¤åï¼Œå®šä½è¯†åˆ«åªä»å¯åŠ¨æ‰‡åŒºæŠŠä»£ç åŠ è½½åˆ° 0x07C00 å†…å­˜è¿™ä¸ªä½ç½®ã€‚\n\nä¸»å¼•å¯¼è®°å½•ä¸­çš„å†…å®¹å¦‚ä¸‹ï¼š\n\nå¯åŠ¨ä»£ç ï¼ˆç¬¬ 1-446 å­—èŠ‚ï¼‰ï¼šæ£€æŸ¥åˆ†åŒºè¡¨æ­£ç¡®æ€§ï¼ŒåŠ è½½å¹¶è·³è½¬åˆ°åˆ†åŒºï¼›\nåˆ†åŒºè¡¨ï¼ˆç¬¬ 447-510 å­—èŠ‚ï¼‰ï¼šæè¿°åˆ†åŒºçŠ¶æ€å’Œä½ç½®ï¼›\nä¸»å¼•å¯¼è®°å½•ç­¾åï¼ˆç¬¬ 511-512 å­—èŠ‚ï¼‰ï¼šå½“å–å€¼ä¸º 0x55 å’Œ 0xAA è¡¨ç¤ºå½“å‰ä¸»å¼•å¯¼è®°å½•æœ‰æ•ˆã€‚\n\n\nå…¶ä¸­ç¬¬ä¸€éƒ¨åˆ†çš„ 446 ä¸ªå­—èŠ‚ä¸­å­˜å‚¨çš„å°±æ˜¯å¯åŠ¨ä»£ç ï¼ŒBIOS ç»“æŸåæ‰§è¡Œçš„å°±æ˜¯è¿™æ®µç¨‹åºã€‚å› ä¸ºåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå°†ä¸€ä¸ªç£ç›˜åˆ’åˆ†ä¸ºä¸åŒçš„åˆ†åŒºï¼Œè€Œæ“ä½œç³»ç»Ÿä¼šè¢«å®‰è£…åœ¨å…¶ä¸­ä¸€ä¸ªåˆ†åŒºï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¯¥å°†è®¡ç®—æœºçš„æ§åˆ¶æƒäº¤ç»™å“ªä¸ªåˆ†åŒºå°±æ˜¯æœ‰è¿™æ®µå¯åŠ¨ä»£ç æ¥æ§åˆ¶çš„ã€‚\nåœ¨æ¯ä¸ªåˆ†åŒºçš„ç¬¬ 1 ä¸ªæ‰‡åŒºæ˜¯æœ¬åˆ†åŒºçš„åˆ†åŒºå¼•å¯¼æ‰‡åŒºï¼Œä¸»è¦æ ¼å¼å¦‚ä¸‹ï¼š\n\nJMP æŒ‡ä»¤ï¼šè·³è½¬åˆ°å¯åŠ¨ä»£ç ï¼›\næ–‡ä»¶å·å¤´ï¼šæ–‡ä»¶ç³»ç»Ÿç›¸å…³æè¿°ï¼›\nå¯åŠ¨ä»£ç ï¼šè·³è½¬åˆ°åŠ è½½ç¨‹åºï¼›\nç»“æŸæ ‡å¿—ï¼šæ ‡å¿—æ­¤æ‰‡åŒºä¸ºåˆ†åŒºå¼•å¯¼æ‰‡åŒºã€‚\n\n\nä¸»å¼•å¯¼è®°å½•å°†æ§åˆ¶æƒäº¤ç»™åˆ†åŒºåï¼Œåˆ†åŒºä¸­çš„å¯åŠ¨ä»£ç ä¾¿å¼€å§‹æ‰§è¡Œï¼Œè·³è½¬åˆ°ç³»ç»ŸåŠ è½½ç¨‹åºï¼ŒåŠ è½½ç¨‹åºä¼šåŠ è½½æ“ä½œç³»ç»Ÿå†…æ ¸å¹¶å°†æ§åˆ¶æƒäº¤ç»™å†…æ ¸ï¼Œåˆ°æ­¤æ“ä½œç³»ç»Ÿå°±æ­£å¼å¼€å§‹æ‰§è¡Œäº†ã€‚\nå‚è€ƒèµ„æ–™\næ“ä½œç³»ç»Ÿ - æ¸…åå¤§å­¦ - å­¦å ‚åœ¨çº¿ (xuetangx.com)\nLinuxæ“ä½œç³»ç»Ÿå¯åŠ¨æµç¨‹ - æµªæ¼«DeåˆºçŒ¬ - åšå®¢å›­ (cnblogs.com)\nå²ä¸Šæœ€è¯¦ç»†linuxå¯åŠ¨è¿‡ç¨‹è®²è§£â€”æ²¡æœ‰ä¹‹ä¸€ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)\nè®¡ç®—æœºæ˜¯å¦‚ä½•å¯åŠ¨çš„ï¼Ÿ- é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— (ruanyifeng.com)\næµ…è°ˆæ“ä½œç³»ç»Ÿ-å¯åŠ¨è¿‡ç¨‹ - çŸ¥ä¹ (zhihu.com)\nBIOSåˆ°åº•æ˜¯ä»€ä¹ˆ - çŸ¥ä¹ (zhihu.com)\nä»å¼€æœºåŠ ç”µåˆ°æ‰§è¡Œmainå‡½æ•°ä¹‹å‰çš„è¿‡ç¨‹ | è˜‘è‡å…ˆç”Ÿå­¦ä¹ è®° (xtf615.com)\n2. å¯åŠ¨BIOSï¼Œå‡†å¤‡å®æ¨¡å¼ä¸‹çš„ä¸­æ–­å‘é‡è¡¨å’Œä¸­æ–­æœåŠ¡ç¨‹åº - ç®€ä¹¦ (jianshu.com)\n\n","categories":["æ“ä½œç³»ç»Ÿ"]},{"title":"Springä¸­çš„AOPé…ç½®.md","url":"/2023/03/14/Spring%E4%B8%AD%E7%9A%84AOP%E9%85%8D%E7%BD%AE/","content":"åŸºäºæ³¨è§£çš„é…ç½®å¯ç”¨@AspectJ æ”¯æŒSpring ä¸­ä½¿ç”¨ @AspectJ åˆ‡é¢ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦å¯ç”¨ï¼Œä¸‹é¢å±•ç¤ºäº† java å’Œ xml ä¸¤ç§é…ç½®æ–¹å¼ã€‚\n@Configuration@EnableAspectJAutoProxypublic class AppConfig &#123;&#125;\n\n&lt;aop:aspectj-autoproxy/&gt;\n\nå£°æ˜åˆ‡é¢å¯ç”¨ @AspectJ æ”¯æŒåï¼ŒSpring ä¼šè‡ªåŠ¨æ£€æµ‹åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ @AspectJ æ³¨è§£çš„ Bean ä½œä¸ºåˆ‡é¢ç”¨äºé…ç½® Spring AOPï¼Œè¯¥ bean å’Œæ™®é€šçš„ç±»ä¸€æ ·ï¼Œå¯ä»¥æœ‰è‡ªå·±çš„æ–¹æ³•å’Œå±æ€§ã€‚\n&lt;bean id=&quot;myAspect&quot; class=&quot;org.xyz.NotVeryUsefulAspect&quot;&gt;    &lt;!-- configure properties of the aspect here --&gt;&lt;/bean&gt;\n\npackage org.xyz;import org.aspectj.lang.annotation.Aspect;@Aspectpublic class NotVeryUsefulAspect &#123;&#125;\n\nå£°æ˜åˆ‡å…¥ç‚¹åœ¨åˆ‡é¢çš„æ–¹æ³•ä¸Šæ·»åŠ  @Pointcut æ³¨è§£ç”¨äºè¡¨ç¤ºä¸€ä¸ªåˆ‡é¢ï¼Œä¸‹é¢çš„ç¤ºä¾‹å®šä¹‰ä¸€ä¸ªåä¸º anyOldTransfer çš„åˆ‡å…¥ç‚¹ï¼Œè¯¥åˆ‡å…¥ç‚¹ä¸ä»»ä½•åä¸º transfer çš„æ–¹æ³•çš„æ‰§è¡Œç›¸åŒ¹é…ã€‚\n@Pointcut(&quot;execution(* transfer(..))&quot;)// the pointcut expressionprivate void anyOldTransfer() &#123;&#125;// the pointcut signature\n\nSpring AOP æ”¯æŒä»¥ä¸‹åœ¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ä¸­ä½¿ç”¨çš„ AspectJ åˆ‡å…¥ç‚¹æŒ‡ç¤ºç¬¦å¦‚ä¸‹ï¼š\n\nexecutionï¼šç”¨äºåŒ¹é…æ–¹æ³•æ‰§è¡Œçš„è¿æ¥ç‚¹ã€‚è¿™æ˜¯ä½¿ç”¨ Spring AOP æ—¶è¦ä½¿ç”¨çš„ä¸»è¦åˆ‡å…¥ç‚¹æŒ‡ç¤ºç¬¦ã€‚\nwithinï¼šå°†åŒ¹é…é™åˆ¶ä¸ºæŸäº›ç±»å‹å†…çš„è¿æ¥ç‚¹ (ä½¿ç”¨ Spring AOP æ—¶ï¼Œåœ¨åŒ¹é…ç±»å‹å†…å£°æ˜çš„æ–¹æ³•çš„æ‰§è¡Œ)ã€‚\nthisï¼šå°†åŒ¹é…é™åˆ¶ä¸ºè¿æ¥ç‚¹ (ä½¿ç”¨ Spring AOP æ—¶æ–¹æ³•çš„æ‰§è¡Œ)ï¼Œå…¶ä¸­ bean å¼•ç”¨ (Spring AOP ä»£ç†) æ˜¯ç»™å®šç±»å‹çš„å®ä¾‹ã€‚\ntargetï¼šå°†ç›®æ ‡å¯¹è±¡ (æ­£åœ¨ä»£ç†çš„åº”ç”¨ç¨‹åºå¯¹è±¡) æ˜¯ç»™å®šç±»å‹çš„å®ä¾‹çš„è¿æ¥ç‚¹ (ä½¿ç”¨ Spring AOP æ—¶ï¼Œæ–¹æ³•çš„æ‰§è¡Œ) é™åˆ¶ä¸ºåŒ¹é…ã€‚\nargsï¼šå°†å‚æ•°é™åˆ¶ä¸ºç»™å®šç±»å‹çš„å®ä¾‹çš„è¿æ¥ç‚¹ (ä½¿ç”¨ Spring AOP æ—¶æ–¹æ³•çš„æ‰§è¡Œ) é™åˆ¶åŒ¹é…ã€‚\n@targetï¼šå°†æ‰§è¡Œå¯¹è±¡çš„ç±»å…·æœ‰ç»™å®šç±»å‹çš„æ³¨è§£çš„è¿æ¥ç‚¹ (ä½¿ç”¨ Spring AOP æ—¶ï¼Œæ–¹æ³•çš„æ‰§è¡Œ) é™åˆ¶ä¸ºåŒ¹é…ã€‚\n@argsï¼šé™åˆ¶åŒ¹é…çš„è¿æ¥ç‚¹ (ä½¿ç”¨ Spring AOP æ—¶æ–¹æ³•çš„æ‰§è¡Œ)ï¼Œå…¶ä¸­ä¼ é€’çš„å®é™…å‚æ•°çš„è¿è¡Œæ—¶ç±»å‹å…·æœ‰ç»™å®šç±»å‹çš„ æ³¨è§£ã€‚\n@withinï¼šå°†åŒ¹é…é™åˆ¶ä¸ºå…·æœ‰ç»™å®šæ³¨è§£çš„ç±»å‹å†…çš„è¿æ¥ç‚¹ (ä½¿ç”¨ Spring AOP æ—¶ï¼Œä½¿ç”¨ç»™å®šæ³¨è§£çš„ç±»å‹ä¸­å£°æ˜çš„æ–¹æ³•çš„æ‰§è¡Œ)ã€‚\n@annotationï¼šå°†åŒ¹é…é™åˆ¶ä¸ºè¿æ¥ç‚¹çš„ä¸»é¢˜ (åœ¨ Spring AOP ä¸­æ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•) å…·æœ‰ç»™å®šæ³¨è§£çš„è¿æ¥ç‚¹ã€‚\n\nåˆ‡å…¥ç‚¹ç¤ºä¾‹\nä»»ä½•å…¬å…±æ–¹æ³•çš„æ‰§è¡Œï¼š\n\nexecution(public * *(..))\n\n\nåç§°ä»¥ set å¼€å¤´çš„ä»»ä½•æ–¹æ³•çš„æ‰§è¡Œï¼š\n\nexecution(* set*(..))\n\n\nAccountService æ¥å£å®šä¹‰çš„ä»»ä½•æ–¹æ³•çš„æ‰§è¡Œï¼š\n\nexecution(* com.xyz.service.AccountService.*(..))\n\n\nservice è½¯ä»¶åŒ…ä¸­å®šä¹‰çš„ä»»ä½•æ–¹æ³•çš„æ‰§è¡Œï¼š\n\nexecution(* com.xyz.service.*.*(..))\n\n\næœåŠ¡åŒ…æˆ–å…¶å­åŒ…ä¹‹ä¸€ä¸­å®šä¹‰çš„ä»»ä½•æ–¹æ³•çš„æ‰§è¡Œï¼š\n\nexecution(* com.xyz.service..*.*(..))\n\n\næœåŠ¡åŒ…ä¸­çš„ä»»ä½•è¿æ¥ç‚¹ (ä»…åœ¨ Spring AOP ä¸­æ‰§è¡Œæ–¹æ³•)ï¼š\n\nwithin(com.xyz.service.*)\n\n\næœåŠ¡åŒ…æˆ–å…¶å­åŒ…ä¹‹ä¸€ä¸­çš„ä»»ä½•è¿æ¥ç‚¹ (ä»…åœ¨ Spring AOP ä¸­æ‰§è¡Œæ–¹æ³•)ï¼š\n\nwithin(com.xyz.service..*)\n\n\nä»£ç†å®ç° AccountService æ¥å£çš„ä»»ä½•è¿æ¥ç‚¹ (ä»…åœ¨ Spring AOP ä¸­æ‰§è¡Œæ–¹æ³•)ï¼š\n\nthis(com.xyz.service.AccountService)\n\n\nç›®æ ‡å¯¹è±¡å®ç° AccountService æ¥å£çš„ä»»ä½•è¿æ¥ç‚¹ (ä»…åœ¨ Spring AOP ä¸­æ‰§è¡Œæ–¹æ³•)ï¼š\n\ntarget(com.xyz.service.AccountService)\n\n\nä»»ä½•é‡‡ç”¨å•ä¸ªå‚æ•°ä¸”è¿è¡Œæ—¶ä¼ é€’çš„å‚æ•°ä¸º Serializable çš„è¿æ¥ç‚¹ (ä»…åœ¨ Spring AOP ä¸­æ˜¯æ–¹æ³•æ‰§è¡Œ)ï¼š\n\nargs(java.io.Serializable)\n\n\nç›®æ ‡å¯¹è±¡å¸¦æœ‰ @Transactional æ³¨è§£çš„ä»»ä½•è¿æ¥ç‚¹ (ä»…åœ¨ Spring AOP ä¸­æ‰§è¡Œæ–¹æ³•)ï¼š\n\n@target(org.springframework.transaction.annotation.Transactional)\n\n\nç›®æ ‡å¯¹è±¡çš„å£°æ˜ç±»å‹å…·æœ‰ @Transactional æ³¨è§£ çš„ä»»ä½•è¿æ¥ç‚¹ (ä»…åœ¨ Spring AOP ä¸­æ˜¯æ–¹æ³•æ‰§è¡Œ)ï¼š\n\n@within(org.springframework.transaction.annotation.Transactional)\n\n\næ‰§è¡Œæ–¹æ³•å¸¦æœ‰ @Transactional æ³¨è§£çš„ä»»ä½•è¿æ¥ç‚¹ (ä»…åœ¨ Spring AOP ä¸­æ˜¯æ–¹æ³•æ‰§è¡Œ)ï¼š\n\n@annotation(org.springframework.transaction.annotation.Transactional)\n\n\nä»»ä½•é‡‡ç”¨å•ä¸ªå‚æ•°ä¸”ä¼ é€’çš„å‚æ•°çš„è¿è¡Œæ—¶ç±»å‹å…·æœ‰ @Classified æ³¨è§£ çš„è¿æ¥ç‚¹ (ä»…åœ¨ Spring AOP ä¸­æ˜¯æ–¹æ³•æ‰§è¡Œ)ã€‚\n\n@args(com.xyz.security.Classified)\n\n\nåä¸º tradeService çš„ Spring bean ä¸Šçš„ä»»ä½•è¿æ¥ç‚¹ (ä»…åœ¨ Spring AOP ä¸­æ‰§è¡Œæ–¹æ³•)ï¼š\n\nbean(tradeService)\n\n\nSpring Bean ä¸Šå…·æœ‰ä¸é€šé…ç¬¦è¡¨è¾¾å¼ *Service åŒ¹é…çš„åç§°çš„ä»»ä½•è¿æ¥ç‚¹ (ä»…åœ¨ Spring AOP ä¸­æ˜¯æ–¹æ³•æ‰§è¡Œ)ï¼š\n\nbean(*Service)\n\nç»„åˆåˆ‡å…¥ç‚¹@Pointcut(&quot;execution(public * *(..))&quot;)private void anyPublicOperation() &#123;&#125; (1)@Pointcut(&quot;within(com.xyz.someapp.trading..*)&quot;)private void inTrading() &#123;&#125; (2)@Pointcut(&quot;anyPublicOperation() &amp;&amp; inTrading()&quot;)private void tradingOperation() &#123;&#125; (3)\n\n\n(1) anyPublicOperation åŒ¹é…æ–¹æ³•æ‰§è¡Œè”æ¥ç‚¹æ˜¯å¦è¡¨ç¤ºä»»ä½•å…¬å…±æ–¹æ³•çš„æ‰§è¡Œã€‚\n(2) inTrading å¦‚æœ Transaction æ¨¡å—ä¸­æœ‰æ–¹æ³•æ‰§è¡Œåˆ™åŒ¹é…ã€‚\n(3) tradingOperation åŒ¹é…ï¼Œå¦‚æœæ–¹æ³•æ‰§è¡Œä»£è¡¨ Transaction æ¨¡å—ä¸­çš„ä»»ä½•å…¬å…±æ–¹æ³•ã€‚\n\né€šçŸ¥å‰ç½®é€šçŸ¥å‰ç½®é€šçŸ¥åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œã€‚\nimport org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Before;@Aspectpublic class BeforeExample &#123;    @Before(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;)    public void doAccessCheck() &#123;        // ...    &#125;&#125;\n\nè¿”å›é€šçŸ¥åç½®é€šçŸ¥åœ¨æ–¹æ³•æ‰§è¡Œåé€šçŸ¥ã€‚\nimport org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.AfterReturning;@Aspectpublic class AfterReturningExample &#123;    @AfterReturning(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;)    public void doAccessCheck() &#123;        // ...    &#125;&#125;\n\nå¯ä»¥æ•è·ç›®æ ‡æ–¹æ³•çš„è¿”å›å€¼ã€‚\nimport org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.AfterReturning;@Aspectpublic class AfterReturningExample &#123;    @AfterReturning(        pointcut=&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;,        returning=&quot;retVal&quot;)    public void doAccessCheck(Object retVal) &#123;        // ...    &#125;&#125;\n\nå¼‚å¸¸é€šçŸ¥åœ¨ç›®æ ‡æ–¹æ³•æŠ›å‡ºé”™è¯¯æ—¶æ‰§è¡Œï¼Œå¯ä»¥å¯¹æŠ›å‡ºçš„å¼‚å¸¸è¿›è¡ŒæŒ‡å®šã€‚\nimport org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.AfterThrowing;@Aspectpublic class AfterThrowingExample &#123;    @AfterThrowing(        pointcut=&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;,        throwing=&quot;ex&quot;)    public void doRecoveryActions(DataAccessException ex) &#123;        // ...    &#125;&#125;\n\næœ€ç»ˆé€šçŸ¥ç›®æ ‡æ–¹æ³•åæ‰§è¡Œåï¼Œå¹¶ä¸”æ— è®ºç›®æ ‡æ–¹æ³•æ˜¯å¦å‡ºç°å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œã€‚\nimport org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.AfterReturning;@Aspectpublic class AfterReturningExample &#123;    @AfterReturning(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;)    public void doAccessCheck() &#123;        // ...    &#125;&#125;\n\nç¯ç»•é€šçŸ¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»ä¸º ProceedingJoinPoint ç±»å‹ï¼Œåœ¨ ProceedingJoinPoint ä¸Šè°ƒç”¨ proceed() ä¼šä½¿åº•å±‚æ–¹æ³•æ‰§è¡Œã€‚proceed æ–¹æ³•ä¹Ÿå¯ä»¥ä¼ å…¥ Object[]ï¼Œæ•°ç»„ä¸­çš„å€¼ç”¨ä½œæ–¹æ³•æ‰§è¡Œæ—¶çš„å‚æ•°ã€‚\nimport org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Around;import org.aspectj.lang.ProceedingJoinPoint;@Aspectpublic class AroundExample &#123;    @Around(&quot;com.xyz.myapp.SystemArchitecture.businessService()&quot;)    public Object doBasicProfiling(ProceedingJoinPoint pjp) throws Throwable &#123;        // start stopwatch        Object retVal = pjp.proceed();        // stop stopwatch        return retVal;    &#125;&#125;\n\nè®¿é—® JoinPointä»»ä½•é€šçŸ¥æ–¹æ³•éƒ½å¯ä»¥å°†ç±»å‹ org.aspectj.lang.JoinPoint çš„å‚æ•°å£°æ˜ä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåœ¨ç¯ç»•é€šçŸ¥ä¸­å¿…é¡»å£°æ˜ç±»å‹ JoinPoint çš„å­ç±» ProceedingJoinPoint çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚JoinPoint æ¥å£æä¾›äº†è®¸å¤šæœ‰ç”¨çš„æ–¹æ³•ï¼š\n\ngetArgs()ï¼šè¿”å›æ–¹æ³•å‚æ•°ã€‚\ngetThis()ï¼šè¿”å›ä»£ç†å¯¹è±¡ã€‚\ngetTarget()ï¼šè¿”å›ç›®æ ‡å¯¹è±¡ã€‚\ngetSignature()ï¼šè¿”å›å»ºè®®ä½¿ç”¨çš„æ–¹æ³•çš„æè¿°ã€‚\ntoString()ï¼šæ‰“å°æœ‰å…³æ‰€å»ºè®®æ–¹æ³•çš„æœ‰ç”¨æè¿°ã€‚\n\nä¼ é€’å‚æ•°åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„ args(account,..) éƒ¨åˆ†æœ‰ä¸¤ä¸ªä½œç”¨ã€‚é¦–å…ˆï¼Œå®ƒå°†åŒ¹é…é™åˆ¶ä¸ºä»…æ–¹æ³•é‡‡ç”¨è‡³å°‘ä¸€ä¸ªå‚æ•°å¹¶ä¸”ä¼ é€’ç»™è¯¥å‚æ•°çš„å‚æ•°æ˜¯ Account çš„å®ä¾‹çš„æ–¹æ³•æ‰§è¡Œã€‚å…¶æ¬¡ï¼Œå®ƒé€šè¿‡ account å‚æ•°ä½¿å®é™…çš„ Account å¯¹è±¡å¯ç”¨äºé€šçŸ¥ã€‚\n@Before(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation() &amp;&amp; args(account,..)&quot;)public void validateAccount(Account account) &#123;    // ...&#125;\n\n@Pointcut(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation() &amp;&amp; args(account,..)&quot;)private void accountDataAccessOperation(Account account) &#123;&#125;@Before(&quot;accountDataAccessOperation(account)&quot;)public void validateAccount(Account account) &#123;    // ...&#125;\n\nè¿˜å¯ä»¥ä½¿ç”¨ argNames å±æ€§æŒ‡æ˜è¦ä¼ é€’çš„å‚æ•°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ JoinPointï¼ŒProceedingJoinPoint æˆ– JoinPoint.StaticPart ç±»å‹ï¼Œåˆ™å¯ä»¥ä¸ç”¨æŒ‡å‡ºã€‚\n@Before(value=&quot;com.xyz.lib.Pointcuts.anyPublicMethod() &amp;&amp; target(bean) &amp;&amp; @annotation(auditable)&quot;,        argNames=&quot;bean,auditable&quot;)public void audit(Object bean, Auditable auditable) &#123;    AuditCode code = auditable.value();    // ... use code and bean&#125;\n\nåŸºäº XML çš„é…ç½®&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;    &lt;context:component-scan base-package=&quot;tech.pdai.springframework&quot; /&gt;    &lt;aop:aspectj-autoproxy/&gt;    &lt;!-- ç›®æ ‡ç±» --&gt;    &lt;bean id=&quot;demoService&quot; class=&quot;tech.pdai.springframework.service.AopDemoServiceImpl&quot;&gt;        &lt;!-- configure properties of bean here as normal --&gt;    &lt;/bean&gt;    &lt;!-- åˆ‡é¢ --&gt;    &lt;bean id=&quot;logAspect&quot; class=&quot;tech.pdai.springframework.aspect.LogAspect&quot;&gt;        &lt;!-- configure properties of aspect here as normal --&gt;    &lt;/bean&gt;    &lt;aop:config&gt;        &lt;!-- é…ç½®åˆ‡é¢ --&gt;        &lt;aop:aspect ref=&quot;logAspect&quot;&gt;            &lt;!-- é…ç½®åˆ‡å…¥ç‚¹ --&gt;            &lt;aop:pointcut id=&quot;pointCutMethod&quot; expression=&quot;execution(* tech.pdai.springframework.service.*.*(..))&quot;/&gt;            &lt;!-- ç¯ç»•é€šçŸ¥ --&gt;            &lt;aop:around method=&quot;doAround&quot; pointcut-ref=&quot;pointCutMethod&quot;/&gt;            &lt;!-- å‰ç½®é€šçŸ¥ --&gt;            &lt;aop:before method=&quot;doBefore&quot; pointcut-ref=&quot;pointCutMethod&quot;/&gt;            &lt;!-- åç½®é€šçŸ¥ï¼›returningå±æ€§ï¼šç”¨äºè®¾ç½®åç½®é€šçŸ¥çš„ç¬¬äºŒä¸ªå‚æ•°çš„åç§°ï¼Œç±»å‹æ˜¯Object --&gt;            &lt;aop:after-returning method=&quot;doAfterReturning&quot; pointcut-ref=&quot;pointCutMethod&quot; returning=&quot;result&quot;/&gt;            &lt;!-- å¼‚å¸¸é€šçŸ¥ï¼šå¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼Œå°†ä¸ä¼šæ‰§è¡Œå¢å¼ºï¼›throwingå±æ€§ï¼šç”¨äºè®¾ç½®é€šçŸ¥ç¬¬äºŒä¸ªå‚æ•°çš„çš„åç§°ã€ç±»å‹--&gt;            &lt;aop:after-throwing method=&quot;doAfterThrowing&quot; pointcut-ref=&quot;pointCutMethod&quot; throwing=&quot;e&quot;/&gt;            &lt;!-- æœ€ç»ˆé€šçŸ¥ --&gt;            &lt;aop:after method=&quot;doAfter&quot; pointcut-ref=&quot;pointCutMethod&quot;/&gt;        &lt;/aop:aspect&gt;    &lt;/aop:config&gt;    &lt;!-- more bean definitions for data access objects go here --&gt;&lt;/beans&gt;","categories":["Springå­¦ä¹ ç¬”è®°"],"tags":["Spring"]},{"title":"ucoreæ“ä½œç³»ç»Ÿå®éªŒï¼šç¯å¢ƒæ­å»º.md","url":"/2023/04/20/ucore%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E9%AA%8C%EF%BC%9A%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","content":"æºç å’Œæ–‡æ¡£å®éªŒçš„æºç å¯ä»¥ä» å®˜æ–¹ä»“åº“ è·å–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ç›®å‰å®éªŒæ‰€ç”¨çš„ä»£ç å·²ç»æ”¹ä¸º Rust è¯­è¨€ï¼Œå¦‚æœæƒ³è¦ C è¯­è¨€çš„ç‰ˆæœ¬ï¼Œéœ€è¦åˆ‡æ¢åˆ° x86-32 åˆ†æ”¯ã€‚\n\nä¸‹è½½ä¹‹åå¯ä»¥çœ‹åˆ°ç›®å½•ç»“æ„å¦‚ä¸‹ï¼Œå…¶ä¸­ labcodes ä¸ºå®éªŒæ‰€ç”¨çš„æºç ï¼Œlabcodes_answer ä¸ºå®éªŒçš„å‚è€ƒç­”æ¡ˆï¼Œé‡åˆ°ä¸ä¼šåšçš„é¢˜ç›®å¯ä»¥è¿›è¡Œå‚è€ƒã€‚\n\n å®éªŒçš„å®˜æ–¹æ‰‹å†Œä¸ºï¼šucoreå®éªŒæ“ä½œæ‰‹å†Œ åŒ…å«äº†å®éªŒå†…å®¹ä»¥åŠå®éªŒç›¸å…³çš„ä¸€äº›æ‹“å±•çŸ¥è¯†ã€‚\nGCC å®‰è£…æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œå®‰è£… gcc ä¹‹åè¿˜éœ€è¦å†å®‰è£…ç›¸ gcc ç¼–è¯‘æ—¶æ‰€éœ€çš„ä¾èµ–ï¼Œä¸è¿‡è¿™äº›åœ¨ ubuntu é‡Œå®‰è£…èµ·æ¥å¾ˆå®¹æ˜“ï¼Œä¸¤æ¡å‘½ä»¤å°±å¯æå®šã€‚\nsudo apt-get install gccsudo apt-get install build-essential\n\n\n\nQEMU å®‰è£æ–‡æ¡£ä¸­å®‰è£… QEMU ä½¿ç”¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š\nsudo apt-get install qemu-system\n\n\nå®ƒä¼šå®‰è£…å¾ˆå¤šç¨‹åºï¼Œæ€»å…±æœ‰ 600Mï¼Œè€Œæˆ‘ä»¬åœ¨å®éªŒä¸­åªç”¨åˆ° qemu-system-i386ï¼Œæ‰€ä»¥å¯ä»¥åªå®‰è£…è¯¥ç¨‹åºï¼š\nsudo apt-get install qemu-system-i386\n\nåˆ‡æ¢åˆ° labcodes_answer/lab1_result ç›®å½•ï¼Œæ‰§è¡Œ make qemu å‘½ä»¤ï¼Œå¦‚æœå¼¹å‡º QEMU ç¨‹åºï¼Œå¹¶å¼€å§‹æ­£å¸¸æ‰§è¡Œï¼Œåˆ™ç¯å¢ƒåˆ°æ­¤é…ç½®æˆåŠŸã€‚\n\n\nå‡ºç°çš„é—®é¢˜lab1 ç¼–è¯‘æ—¶å‡ºç° &#39;obj/bootbloc.out&#39; size: 600 bytes\nåœ¨ lab1_result ä¸­ä½¿ç”¨è¿›è¡Œç¼–è¯‘ä»£ç çš„æ—¶å€™æœ‰å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹ç»“æœï¼Œè§£å†³æ–¹æ¡ˆæ˜¯å¯ä»¥ä½¿ç”¨ä½ç‰ˆæœ¬çš„ gccï¼Œæ¯”å¦‚ gcc-4.8ã€‚\nå› ä¸º lab2_result æ˜¯å¯ä»¥ç¼–è¯‘æˆåŠŸçš„ï¼Œæ‰€æœ‰å¯¹æ¯”ä¸ bootblock ç›¸å…³çš„æ–‡ä»¶ï¼Œå‘ç°åœ¨ bootmian.c ä¸­æœ‰ä¸¤è¡Œä¸åŒï¼Œè¿›è¡Œä¿®æ”¹åå‘ç°å¯ä»¥ç¼–è¯‘æˆåŠŸã€‚\n\n","categories":["ucoreæ“ä½œç³»ç»Ÿå®éªŒ"],"tags":["æ“ä½œç³»ç»Ÿ"]},{"title":"npmæºç®¡ç†.md","url":"/2022/06/19/npm%E6%BA%90%E7%AE%A1%E7%90%86/","content":"é»˜è®¤ç®¡ç†æ–¹å¼å®‰è£…å®Œ node ä¹‹åï¼Œé»˜è®¤çš„åŸå§‹æºæ˜¯ï¼š\nhttps://registry.npmjs.org/\n\nåœ¨ä½¿ç”¨ npm å‘½ä»¤å®‰è£…åŒ…çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ --registry é€‰é¡¹æŒ‡å®šæºï¼š\n//æœ¬æ¬¡ä»æ·˜å®ä»“åº“æºä¸‹è½½npm --registry=https://registry.npm.taobao.org install\n\næ¯æ¬¡ä½¿ç”¨å‘½ä»¤è¡Œæ—¶éƒ½æ‰‹åŠ¨æŒ‡å®šæºæ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥ npm æä¾›äº†é…ç½®å‘½ä»¤ç”¨æ¥è®¾ç½®æºï¼Œé…ç½®çš„æºæœ‰å¤šä¸ªï¼Œä½†åªæœ‰ä¸€ä¸ªæ˜¯ç”Ÿæ•ˆçš„ï¼š\n//è®¾ç½®æ·˜å®æºnpm config set registry https://registry.npm.taobao.org//è®¾ç½®å…¬å¸çš„æºnpm config set registry http://127.0.0.1:4873//æŸ¥çœ‹æºï¼Œå¯ä»¥çœ‹åˆ°è®¾ç½®è¿‡çš„æ‰€æœ‰çš„æºnpm config get registry\n\nä¹Ÿå¯ä»¥ä¿®æ”¹ ~/.npmrcï¼Œæ·»åŠ æºçš„è®¾ç½®ï¼š\nregistry = https://registry.npm.taobao.org\n\nä½¿ç”¨ nrm ç®¡ç†æº nrm â€‹ æ˜¯ä¸€ä¸ª NPM æºç®¡ç†å™¨ï¼Œå¯ä»¥ä½¿ç”¨ â€‹ nrm åœ¨ä¸åŒçš„æºåˆ‡æ¢ã€‚\n// å®‰è£…nrmnpm install -g nrm// åˆ—å‡ºå½“å‰æ‰€æœ‰æºnrm ls\n\nnrm ls å‘½ä»¤çš„è¾“å‡ºç»“æœå¦‚ä¸‹ï¼Œå…¶ä¸­å¸¦ * çš„æ˜¯å½“å‰ä½¿ç”¨çš„æºã€‚\n* npm -------- https://registry.npmjs.org/  yarn ------- https://registry.yarnpkg.com/  cnpm ------- http://r.cnpmjs.org/  taobao ----- https://registry.npm.taobao.org/  nj --------- https://registry.nodejitsu.com/  npmMirror -- https://skimdb.npmjs.com/registry/  edunpm ----- http://registry.enpmjs.org/\n\nå¦‚æœæƒ³è¦åˆ‡èŠ±æºï¼Œæ¯”å¦‚åˆ‡æ¢åˆ° taobaoï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š\nnrm use taobao\n\nå¯ä»¥å¢åŠ å®šåˆ¶çš„æºï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\nnrm add  &lt;registry&gt; &lt;url&gt; [home]\n\nå¯ä»¥åˆ é™¤æŒ‡å®šçš„æºï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\nnrm del &lt;registry&gt;\n\nè¿˜å¯ä»¥é€šè¿‡ nrm test â€‹ æµ‹è¯•ç›¸åº”æºçš„å“åº”æ—¶é—´ã€‚\nnrm test npm ","tags":["javascript","npm"]},{"title":"Java ä¸­çš„ char ç±»å‹èƒ½å¦å­˜å‚¨ä¸­æ–‡.md","url":"/2022/02/11/Java%20%E4%B8%AD%E7%9A%84%20char%20%E7%B1%BB%E5%9E%8B%E8%83%BD%E5%90%A6%E5%AD%98%E5%82%A8%E4%B8%AD%E6%96%87/","content":"æ¦‚å¿µè§£æå…ˆæ¥çœ‹å‡ ä¸ªæ¯”è¾ƒå®¹æ˜“æ··æ·†çš„æ¦‚å¿µï¼š\n\nå­—ç¬¦ï¼š ç®€å•çš„è¯´å­—ç¬¦å°±æ˜¯å„ç§æ–‡å­—å’Œç¬¦å·çš„æ€»ç§°ï¼Œä¸€ä¸ªå­—ç¬¦å¯ä»¥æ˜¯ä¸€ä¸ªä¸­æ–‡æ±‰å­—ã€ä¸€ä¸ªè‹±æ–‡å­—æ¯ã€ä¸€ä¸ªé˜¿æ‹‰ä¼¯æ•°å­—ã€ä¸€ä¸ªæ ‡ç‚¹ç¬¦å·ã€ä¸€ä¸ªå›¾å½¢ç¬¦å·ï¼ˆå¦‚ emjoyï¼‰æˆ–è€…æ§åˆ¶ç¬¦å·ï¼ˆå¦‚å›è½¦ï¼‰ç­‰ã€‚\nå­—ç¬¦é›†ï¼š é¡¾åæ€ä¹‰ï¼Œå­—ç¬¦é›†å°±æ˜¯å¤šä¸ªå­—ç¬¦çš„é›†åˆï¼Œä¸åŒçš„å­—ç¬¦é›†ä¸­åŒ…å«çš„å­—ç¬¦ä¸ä¸€æ ·ã€å¯¹å­—ç¬¦çš„ç¼–ç æ–¹å¼ä¹Ÿä¸ä¸€æ ·ã€‚ä¾‹å¦‚ GB 2312 æ˜¯ä¸­å›½å›½å®¶æ ‡å‡†çš„ç®€ä½“ä¸­æ–‡å­—ç¬¦é›†ï¼Œä¸»è¦æ”¶å½•äº†ç®€åŒ–æ±‰å­—ï¼ˆ6763 ä¸ªï¼‰åœ¨å†…çš„ 7445 ä¸ªå›¾å½¢å­—ç¬¦ï¼Œè€Œ ASCII å­—ç¬¦é›†åªåŒ…å«äº† 128 å­—ç¬¦ï¼Œå¦å¤–å¸¸è§çš„å­—ç¬¦é›†è¿˜æœ‰ï¼šGBK å­—ç¬¦é›†ã€GB 18030 å­—ç¬¦é›†ã€Big 5 å­—ç¬¦é›†ã€Unicode å­—ç¬¦é›†ç­‰ã€‚\nç ç‚¹å€¼ï¼šåœ¨æ¯ä¸ªå­—ç¬¦é›†ä¸­éƒ½ä¼šå­—ç¬¦è¿›è¡Œç¼–å·ï¼Œå­—ç¬¦å¯¹åº”çš„ç¼–å·å°±æ˜¯è¯¥å­—ç¬¦åœ¨è¯¥å­—ç¬¦é›†ä¸­çš„ç ç‚¹å€¼ï¼Œæ¯”å¦‚åœ¨ ASCII å­—ç¬¦é›†ä¸­ï¼Œå­—æ¯ A å¯¹åº”çš„ç¼–å· 65ï¼Œé‚£ä¹ˆ 65 å°±æ˜¯å­—ç¬¦ A åœ¨ ASCII å­—ç¬¦é›†ä¸­çš„ç ç‚¹å€¼ã€‚\nå­—ç¬¦ç¼–ç ï¼š å­—ç¬¦ç¼–ç å°±æ˜¯æŒ‡çš„æ˜¯ä¸€ç§æ˜ å°„è§„åˆ™ï¼Œæ ¹æ®è¿™ä¸ªæ˜ å°„è§„åˆ™å¯ä»¥å°†æŸä¸ªå­—ç¬¦æ˜ å°„æˆå¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œç®€å•çš„è®²å°±æ˜¯å­—ç¬¦å¯¹åº”çš„ç ç‚¹å€¼å¦‚ä½•åœ¨è®¡ç®—æœºä¸­å­˜å‚¨ã€‚ä¾‹å¦‚ ASCII å­—ç¬¦ç¼–ç è§„å®šæ¯ä¸ªå­—ç¬¦ä½¿ç”¨ä¸€ä¸ªå­—èŠ‚æ¥å­˜å‚¨ï¼Œå¹¶ä¸”å­—èŠ‚ä¸­çš„ä½ 7 ä½è¡¨ç¤ºå­—ç¬¦å¯¹åº”çš„ç ç‚¹å€¼ï¼Œåœ¨è¿™ä¸ªç¼–ç è§„åˆ™ä¸‹å­—æ¯ A çš„ç ç‚¹å€¼æ˜¯ 65ï¼ˆASCII ç ï¼‰ï¼Œç”¨å•å­—èŠ‚è¡¨ç¤ºå°±æ˜¯ 0 x 41ï¼Œå› æ­¤å†™å…¥å­˜å‚¨è®¾å¤‡çš„æ—¶å€™å°±æ˜¯äºŒè¿›åˆ¶çš„ 01000001ã€‚\n\nç¼–ç æ¨¡å‹ç›®å‰å­˜åœ¨ä¸¤ç§ç¼–ç æ¨¡å‹ï¼Œç®€å•ç¼–ç æ¨¡å‹å’Œç°ä»£ç¼–ç æ¨¡å‹ã€‚\nç®€å•ç¼–ç æ¨¡å‹åœ¨è¿™ç§ç¼–ç æ¨¡å‹é‡Œï¼Œä¸€ä¸ªå­—ç¬¦é›†å®šä¹‰äº†è¿™ä¸ªå­—ç¬¦é›†é‡ŒåŒ…å«ä»€ä¹ˆå­—ç¬¦ï¼ŒåŒæ—¶æŠŠæ¯ä¸ªå­—ç¬¦å¦‚ä½•å¯¹åº”æˆè®¡ç®—æœºé‡Œçš„æ¯”ç‰¹ä¹Ÿè¿›è¡Œäº†å®šä¹‰ï¼Œæœ€å…¸å‹çš„æ˜¯ ASCII å­—ç¬¦é›†ï¼Œç›´æ¥å®šä¹‰äº† A -&gt; 0100 0001ã€‚\nç°ä»£ç¼–ç æ¨¡å‹åœ¨ç°ä»£ç¼–ç æ¨¡å‹é‡Œè¦çŸ¥é“ä¸€ä¸ªå­—ç¬¦å¦‚ä½•æ˜ å°„æˆè®¡ç®—æœºé‡Œæ¯”ç‰¹ï¼Œéœ€è¦ç»è¿‡å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š\n\nçŸ¥é“ä¸€ä¸ªç³»ç»Ÿéœ€è¦æ”¯æŒå“ªäº›å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦çš„é›†åˆè¢«ç§°ä¸ºå­—ç¬¦è¡¨ï¼ˆCharacter repertoireï¼‰ï¼›\nç»™å­—ç¬¦è¡¨é‡Œçš„æŠ½è±¡å­—ç¬¦ç¼–ä¸Šä¸€ä¸ªæ•°å­—ï¼Œä¹Ÿå°±æ˜¯å­—ç¬¦é›†åˆåˆ°ä¸€ä¸ªæ•´æ•°é›†åˆçš„æ˜ å°„ï¼Œè¿™ç§æ˜ å°„ç§°ä¸ºç¼–ç å­—ç¬¦é›†ï¼ˆCCS: Coded Character Setï¼‰ï¼Œunicode å­—ç¬¦é›†å°±æ˜¯å±äºè¿™ä¸€å±‚çš„æ¦‚å¿µï¼Œå®ƒè·Ÿè®¡ç®—æœºé‡Œçš„ä»€ä¹ˆè¿›åˆ¶å•Šæ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œå®ƒæ˜¯å®Œå…¨æ•°å­¦çš„æŠ½è±¡çš„ã€‚\nå°† CCS é‡Œå­—ç¬¦å¯¹åº”çš„æ•´æ•°è½¬æ¢æˆæœ‰é™é•¿åº¦çš„æ¯”ç‰¹å€¼ï¼Œä¾¿äºä»¥åè®¡ç®—æœºä½¿ç”¨ä¸€å®šé•¿åº¦çš„äºŒè¿›åˆ¶å½¢å¼è¡¨ç¤ºè¯¥æ•´æ•°ï¼Œè¿™ä¸ªå¯¹åº”å…³ç³»è¢«ç§°ä¸ºå­—ç¬¦ç¼–ç è¡¨ï¼ˆCEF: Character Encoding Formï¼‰UTF-8ï¼ŒUTF-16 éƒ½å±äºè¿™å±‚ã€‚\nå¯¹äº CEF å¾—åˆ°çš„æ¯”ç‰¹å€¼å…·ä½“å¦‚ä½•åœ¨è®¡ç®—æœºä¸­è¿›è¡Œå­˜å‚¨ä¼ è¾“ï¼Œç”±äºå­˜åœ¨å¤§ç«¯å°ç«¯çš„é—®é¢˜ï¼Œè¿™è·Ÿè·Ÿå…·ä½“çš„æ“ä½œç³»ç»Ÿç›¸å…³ï¼Œå­—ç¬¦ç¼–ç æ–¹æ¡ˆï¼ˆCES: Character Encoding Schemeï¼‰è€ƒè™‘çš„å°±æ˜¯è¿™ä¸ªé—®é¢˜ã€‚\n\nASCII å’Œ UnicodeASCII å­—ç¬¦é›†å‰æ–‡ä¸­æåˆ°è¿‡ ASCII å­—ç¬¦é›†ä½¿ç”¨äº†ç®€å•ç¼–ç æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨å®šä¹‰å­—ç¬¦é›†çš„åŒæ—¶ä¸€å¹¶å®šä¹‰äº†å­—ç¬¦åœ¨è®¡ç®—æœºä¸­å¦‚ä½•ä½¿ä½¿ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œä¸€æ¬¡æ€§å°†ç°ä»£ç¼–ç æ¨¡å‹ä¸­çš„å‰ä¸‰æ­¥å®Œæˆäº†ã€‚ä¸‹å›¾å±•ç¤ºäº† ASCII å­—ç¬¦é›†ä¸­å­—ç¬¦ä¸ç ç‚¹å€¼ä¹‹é—´çš„å…³ç³»ï¼ŒåŒæ—¶ ASCII å­—ç¬¦é›†è¿˜è§„å®šäº†åœ¨è®¡ç®—æœºä¸­æ¯ä¸ªå­—ç¬¦å ç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œæœ€å‰é¢çš„ 1 ä½ç»Ÿä¸€è§„å®šä¸º 0ï¼Œåä¸ƒä½ä½å­—ç¬¦ç ç‚¹å€¼å¯¹åº”çš„äºŒè¿›åˆ¶ã€‚\n\nUnicode å­—ç¬¦é›†ASCII å­—ç¬¦é›†è¡¨ç¤ºçš„å­—ç¬¦é‡æœ‰é™ï¼Œå³ä½¿åç»­å¯¹å…¶æœ‰è¿‡æ‹“å±•ï¼Œä½†å—é™äºå•ä¸ªå­—èŠ‚çš„å­˜å‚¨æ–¹å¼ï¼Œæœ€å¤šä¹Ÿåªèƒ½è¡¨ç¤º 256 ä¸ªå­—ç¬¦ã€‚Unicode å­—ç¬¦é›†æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å­—ç¬¦é›†åˆï¼Œç°åœ¨çš„è§„æ¨¡å¯ä»¥å®¹çº³ 100 å¤šä¸‡ä¸ªç¬¦å·ã€‚æ¯ä¸ªç¬¦å·çš„ç¼–ç éƒ½ä¸ä¸€æ ·ï¼Œæ¯”å¦‚ï¼ŒU+0639 è¡¨ç¤ºé˜¿æ‹‰ä¼¯å­—æ¯ Ainï¼ŒU+0041 è¡¨ç¤ºè‹±è¯­çš„å¤§å†™å­—æ¯ Aï¼ŒU+4 E 25 è¡¨ç¤ºæ±‰å­— â€œä¸¥â€ã€‚\nUnicode ä½¿ç”¨çš„æ˜¯ç°ä»£ç¼–ç æ¨¡å‹ï¼Œå®šä¹‰å‡ºå­—ç¬¦é›†ä»¥ååªå®Œæˆäº†å‰ä¸¤æ­¥ï¼Œè¿˜éœ€è¦è€ƒè™‘åœ¨è®¡ç®—æœºä¸­å¦‚ä½•è¡¨ç¤ºï¼Œäºæ˜¯å°±å‡ºç°äº† UTF-8ã€UTF-6 ä»¥åŠ UTF-32 è¿™äº›ç¼–ç æ–¹å¼ï¼Œå®ƒä»¬çš„ä½œç”¨ç®€å•çš„ç†è§£å°±æ˜¯å°†å­—ç¬¦å¯¹åº”çš„ç ç‚¹å€¼æ˜ å°„æˆå”¯ä¸€çš„äºŒè¿›åˆ¶æ•°æ®ã€‚\nUTF-8 ç¼–ç UTF-8 æœ€å¤§çš„ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯å®ƒæ˜¯ä¸€ç§å˜é•¿çš„ç¼–ç æ–¹å¼ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ 1~4 ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªç¬¦å·ï¼Œæ ¹æ®ä¸åŒçš„ç¬¦å·è€Œå˜åŒ–å­—èŠ‚é•¿åº¦ï¼Œä¸‹å›¾æ€»ç»“äº† UTF-8 çš„ç¼–ç è§„åˆ™ã€‚\n\nUTF-8 åœ¨å­˜å‚¨è‹±æ–‡å­—æ¯æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªå­—èŠ‚æ¥å­˜å‚¨ï¼Œå­˜å‚¨ä¸­æ–‡æ—¶ï¼Œä½¿ç”¨çš„æ˜¯ä¸‰ä¸ªå­—èŠ‚ã€‚ä»¥æ±‰å­— â€œä¸¥â€ ä¸ºä¾‹ï¼Œâ€œä¸¥â€ çš„ unicode æ˜¯ U+4 E 25ï¼ˆ100111000100101ï¼‰ï¼Œæ ¹æ®ä¸Šè¡¨ï¼Œå¯ä»¥å‘ç° 4 E 25 å¤„åœ¨ç¬¬ä¸‰è¡Œçš„èŒƒå›´å†…ï¼ˆ0000 0800-0000 FFFFï¼‰ï¼Œå› æ­¤ â€œä¸¥â€ çš„ UTF-8 ç¼–ç éœ€è¦ä¸‰ä¸ªå­—èŠ‚ï¼Œå³æ ¼å¼æ˜¯ â€œ1110 xxxx 10 xxxxxx 10 xxxxxxâ€ã€‚ç„¶åï¼Œä»â€œä¸¥â€ çš„æœ€åä¸€ä¸ªäºŒè¿›åˆ¶ä½å¼€å§‹ï¼Œä¾æ¬¡ä»åå‘å‰å¡«å…¥æ ¼å¼ä¸­çš„ xï¼Œå¤šå‡ºçš„ä½è¡¥ 0ã€‚è¿™æ ·å°±å¾—åˆ°äº†ï¼Œâ€œä¸¥â€çš„ UTF-8 ç¼–ç æ˜¯â€œ11100100 10111000 10100101â€ã€‚\nUTF-16UTF-16 ä¹Ÿæ˜¯ä¸€ç§å¯å˜é•¿çš„ç¼–ç æ–¹å¼ï¼Œä¸è¿‡å®ƒç¼–ç çš„æœ€å°å•å…ƒæ˜¯ 2 å­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯è¯´å³ä½¿å­˜å‚¨çš„è‹±æ–‡å­—æ¯ï¼Œä¹Ÿéœ€è¦ä¸¤ä¸ªå­—èŠ‚çš„ç©ºé—´ï¼Œä¸‹å›¾å±•ç¤ºäº† UTF-16 çš„ç¼–ç è§„åˆ™ã€‚\n\nç”±äº UTF-16 ä½¿ç”¨äº†ä¸¤ä¸ªå­—èŠ‚ä½œä¸ºæœ€å°å•å…ƒï¼Œæ‰€ä»¥éœ€è¦è€ƒè™‘å­˜å‚¨æ—¶å¤§å°ç«¯çš„é—®é¢˜ï¼Œäºæ˜¯ UTF-16 ä¸­å°±åŒ…æ‹¬ä¸‰ç§ï¼šUTF-16ï¼ŒUTF-16 BEï¼ˆBig Endianï¼‰å’Œ UTF-16 LEï¼ˆLittle Endianï¼‰ã€‚UTF-16 BE å’Œ UTF-16 LE ä¸éš¾ç†è§£ï¼Œåˆ†åˆ«ä»£è¡¨å¤§ç«¯å’Œå°ç«¯æ–¹å¼ï¼Œè€Œ UTF-16 å°±éœ€è¦é€šè¿‡åœ¨æ–‡ä»¶å¼€å¤´ä»¥åä¸º BOMï¼ˆByte Order Markï¼‰çš„å­—ç¬¦æ¥è¡¨æ˜æ–‡ä»¶æ˜¯ Big Endian è¿˜æ˜¯ Little Endianï¼Œå¼€å¤´æ˜¯ FEFF åˆ™æ˜¯å¤§ç«¯ï¼ŒFFEF åˆ™æ˜¯å°ç«¯ã€‚\nJava ä¸­çš„ char ç±»å‹èƒ½å¦å­˜å‚¨ä¸­æ–‡ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼ŒJava ä¸­çš„ char å¯ä»¥ç”¨æ¥å­˜å‚¨ä¸­æ–‡ã€‚\nJava ä¸­çš„ char å›ºå®šå ä¸¤ä¸ªå­—èŠ‚ï¼Œä½¿ç”¨ UTF-16 çš„ç¼–ç æ–¹å¼å¯¹ Unicode å­—ç¬¦é›†ä¸­çš„ U+0000 åˆ° U+FFFF è¿›è¡Œç¼–ç ï¼Œæ‰€ä»¥å¤„åœ¨è¿™ä¸ªèŒƒå›´å†…çš„å­—ç¬¦éƒ½æ˜¯å¯ä»¥è¢«å­˜å‚¨çš„ï¼Œä½†æ˜¯å¦‚æœè¶…å‡ºäº†è¿™ä¸ªèŒƒå›´ï¼Œå°±æ— æ³•å†ä½¿ç”¨ char æ¥å­˜å‚¨äº†ï¼Œå¿…é¡»ä½¿ç”¨ String æ¥å­˜å‚¨ã€‚\nJava ä¸­ String å¦‚ä½•æ¥å­˜å‚¨å­—ç¬¦ä¸²åœ¨ Java 1.8 ä¹‹å‰ï¼ŒJava ä½¿ç”¨çš„ char æ•°ç»„æ¥å­˜å‚¨å­—ç¬¦ä¸²ï¼Œå¯¹äºä¸€ä¸ª char å¯ä»¥è¡¨ç¤ºçš„å­—ç¬¦ï¼Œé‚£ä¹ˆå°±ç”¨ä¸€ä¸ª char æ¥å­˜å‚¨ï¼Œå¦åˆ™åˆ™ç”¨ä¸¤ä¸ª char æ¥å­˜å‚¨ï¼Œè¿™ä¹Ÿæ˜¯å­—ç¬¦ä¸²å¯ä»¥ç”¨æ¥å­˜å‚¨ U+0000 åˆ° U+FFFF ä¹‹å¤–å­—ç¬¦çš„åŸå› ã€‚ä¸è¿‡åœ¨ä½¿ç”¨ Java ä¸­ String çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸­å­˜åœ¨ä¸€äº›ä¸å¸¸ç”¨çš„å­—ç¬¦ï¼Œåœ¨è·å–å­—ç¬¦ä¸²é•¿åº¦çš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œåº”ä¸ºæœ€ç»ˆçš„é•¿åº¦ç»Ÿè®¡çš„æ˜¯ char çš„ä¸ªæ•°ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„ä¸ªæ•°ã€‚\npublic static void main(String[] args) &#123;    System.out.println(&quot;ğŸ€&quot;.length());&#125;// è¾“å‡ºç»“æœä¸º 2\n\nJava ä¸­ String åº•å±‚æ•°æ®ç»“æ„ç”± char[] æ¢æˆ byte[]æ›´æ¢çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†èŠ‚çœå­˜å‚¨ç©ºé—´ï¼ŒåŸå…ˆä½¿ç”¨ char æ•°ç»„æ¥å­˜å‚¨çš„æ—¶å€™ï¼Œå³ä½¿æ˜¯å­˜å‚¨çš„è‹±æ–‡å­—æ¯ï¼Œä¹Ÿå¿…é¡»ä½¿ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼Œè¿™æ˜¾ç„¶æ˜¯éå¸¸æµªè´¹å­˜å‚¨ç©ºé—´çš„ï¼Œæ‰€ä»¥åœ¨ Java 1.9 ä¹‹åä½¿ç”¨ byte æ•°ç»„åšäº†æ›¿æ¢ã€‚å½“å­˜å‚¨çš„å†…å®¹åªæœ‰è‹±æ–‡å­—æ¯ï¼ˆå•å­—èŠ‚å­—ç¬¦ï¼‰çš„æ—¶å€™ï¼Œé‚£ä¹ˆå°±ç”¨ä¸€ä¸ªå­—èŠ‚æ¥å­˜å‚¨ä¸€ä¸ªå­—ç¬¦ï¼Œå½“å­—ç¬¦ä¸²ä¸­ç”±å…¶ä»–å­—ç¬¦çš„æ—¶å€™ï¼Œå°±æ¢æˆåŒå­—èŠ‚æ¥å­˜å‚¨ã€‚\nå‚è€ƒèµ„æ–™\nå­—ç¬¦ã€å­—ç¬¦é›†ã€å­—ç¬¦ç¼–ç çš„åŸºç¡€çŸ¥è¯†ç§‘æ™® - çŸ¥ä¹ (zhihu.com)\nä»£ç ç‚¹(Code Point)å’Œä»£ç å•å…ƒ(Code Unit)_GeekLeeeçš„åšå®¢-CSDNåšå®¢\nåˆ¨æ ¹ç©¶åº•å­—ç¬¦ç¼–ç ä¹‹åâ€”â€”Unicodeå­—ç¬¦é›†çš„ç¼–ç æ–¹å¼ä»¥åŠç ç‚¹ã€ç å…ƒ - ç¬¨ç¬¨é˜¿æ— - åšå®¢å›­ (cnblogs.com)\nUnicodeä¸­UTF-8ä¸UTF-16ç¼–ç è¯¦è§£ - æ˜é‡‘ (juejin.cn)\nJavaä¸­å…³äºCharå­˜å‚¨ä¸­æ–‡åˆ°åº•æ˜¯2ä¸ªå­—èŠ‚è¿˜æ˜¯3ä¸ªè¿˜æ˜¯4ä¸ªï¼Ÿ- çŸ¥ä¹ (zhihu.com)\n\n","tags":["java"]},{"title":"SpringBootæ•´åˆSpringdoc.md","url":"/2023/04/26/SpringBoot%E6%95%B4%E5%90%88Springdoc/","content":"ä»‹ç»Springdoc çš„ä½œç”¨æ˜¯æŠŠåº”ç”¨ä¸­çš„æ¥å£ä»¥æ–‡æ¡£çš„å½¢å¼å±•ç¤ºå‡ºæ¥ï¼ŒåŒæ—¶å¯ä»¥ç›´æ¥åœ¨æ–‡æ¡£ä¸­å¯¹æ¥å£è¿›è¡Œæµ‹è¯•ï¼Œæ–¹ä¾¿å¼€å‘çš„è¿›è¡Œã€‚\n\n\né…ç½®ä¾èµ–å¼•å…¥æ ¹æ® Springdocå®˜æ–¹æ–‡æ¡£ï¼Œæƒ³è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ Springdoc åªéœ€è¦å¼•å…¥å¦‚ä¸‹ä¾èµ–å³å¯ï¼š\n&lt;dependency&gt;  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;  &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;  &lt;version&gt;1.7.0&lt;/version&gt;&lt;/dependency&gt;\n\nä¹‹åå³å¯åœ¨ http://server:port/context-path/swagger-ui.html çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼š\n\nä¿¡æ¯é…ç½®å¦‚æœæƒ³è¦é…ç½®é¢å¤–çš„ä¿¡æ¯ï¼Œå¯ä»¥åœ¨å®¹å™¨ä¸­æ³¨å…¥ä¸€ä¸ª OpenAPIï¼Œè¿™äº›ä¿¡æ¯å°†ä¼šåœ¨é¡µé¢ä¸­å±•ç¤ºã€‚\n@Beanpublic OpenAPI springShopOpenAPI() &#123;    return new OpenAPI()            .info(new Info().title(&quot;Cfile API&quot;)                    .description(&quot;ä¸€ä¸ªåœ¨çº¿æ–‡ä»¶è§£æç½‘ç«™&quot;)                    .version(&quot;v0.0.1&quot;)                    .license(new License()                            .name(&quot;Apache 2.0&quot;)                            .url(&quot;http://www.cfile.com&quot;))                    .contact(new Contact()                            .email(&quot;changliangliang1996@foxmail.com&quot;)                            .name(&quot;chang&quot;)                            .url(&quot;http://changliangliang.github.io&quot;))            );&#125;\n\n\næ‰«æè·¯å¾„æ¥ç€é…ç½®éœ€è¦æ‰«æçš„æ¥å£æ‰€åœ¨çš„åŒ…ï¼Œæ–¹æ³•æ˜¯åœ¨å®¹å™¨ä¸­æ³¨å…¥ä¸€ä¸ª GroupedOpenApiï¼Œå¦‚ä¸‹é¢çš„é…ç½®ä¸­ Springdoc å°†ä¼šæ‰«æ com.liang.cfile.controller ä½†æ˜¯ä¸åŒ…æ‹¬ com.liang.cfile.controller.admin åŒ…ã€‚\n@Beanpublic GroupedOpenApi userApi() &#123;    return GroupedOpenApi.builder()            .group(&quot;user&quot;)            .packagesToScan(&quot;com.liang.cfile.controller&quot;)            .packagesToExclude(&quot;com.liang.cfile.controller.admin&quot;)            .build();&#125;\n\néœ€è¦æ³¨æ„çš„æ˜¯åªæœ‰ç±»ä¸Šæœ‰ @Tag æ³¨è§£ä»¥åŠæ–¹æ³•ä¸Šæœ‰ @Operation æ³¨è§£çš„æ¥å£æ‰ä¼šè¢« Springdoc æ‰«æåˆ°ã€‚\n@Tag(name = &quot;ç”¨æˆ·æ¥å£&quot;)@Controller@RequestMapping(&quot;/user&quot;)public class UserController &#123;    @Operation    @GetMapping(&quot;/login&quot;)    public void login() &#123;    &#125;&#125;\n\nç„¶åå¯åŠ¨é¡¹ç›®å°±èƒ½çœ‹åˆ° UserController ä¸­çš„å€Ÿå£è¢«å±•ç¤ºå‡ºæ¥äº†ã€‚\n\nSpringdoc è¿˜æ”¯æŒ api çš„åˆ†ç»„å±•ç¤ºï¼Œåªéœ€è¦åƒå®¹å™¨ä¸­æ³¨å…¥å¦ä¸€ä¸ª GroupedOpenApi å³å¯ï¼Œåœ¨é¡µé¢é¡¶éƒ¨é€‰æ‹©æ¡†ä¸­èƒ½å¤Ÿå¯¹æ¥å£åˆ†ç»„è¿›è¡Œåˆ‡æ¢ã€‚\n@Beanpublic GroupedOpenApi adminApi() &#123;    return GroupedOpenApi.builder()            .group(&quot;admin&quot;)            .packagesToScan(&quot;com.liang.cfile.controller.admin&quot;)            .build();&#125;\n\n\nå¸¸ç”¨æ³¨è§£@Tag@Tag æ³¨è§£ä½¿ç”¨åœ¨ Controller ç±»ä¸Šï¼Œåªæœ‰è¿™æ ·è¯¥ Controller ç±»æ‰ä¼šè¢« Springdoc æ‰«æåˆ°ã€‚\n@Tag(name = &quot;ç”¨æˆ·æ¥å£&quot;, description = &quot;æ‰€æœ‰ç”¨æˆ·ç›¸å…³çš„æ“ä½œ&quot;)@Controller@RequestMapping(&quot;/user&quot;)public class UserController &#123;    // çœç•¥æ¥å£&#125;\n\n\n@Operation@Operation æ³¨è§£ç”¨åœ¨ Controller ç±»çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºå½“å‰æ–¹æ³•æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¹‹åä¼šè¢«å±•ç¤ºåœ¨é¡µé¢ä¸Šã€‚\n\n@Operation(summary = &quot;ç”¨æˆ·ç™»é™†&quot;)@GetMapping(&quot;/login&quot;)public void login() &#123;&#125;\n\n@Parameters å’Œ @Parameter@Parameters æ³¨è§£ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œ@Parameter æ³¨è§£ç”¨åœ¨ @Parameters å†…éƒ¨æˆ–è€…æ–¹æ³•çš„å‚æ•°ä¸Šï¼Œå¯ä»¥å¯¹å‚æ•°è¿›è¡Œè§£é‡Šï¼Œä»¥ä¸‹ä¸¤ç§ç”¨æ³•éƒ½èƒ½è¾¾åˆ°æ•ˆæœã€‚\n@Operation(summary = &quot;ç”¨æˆ·ç™»é™†&quot;)@GetMapping(&quot;/login&quot;)public void login(@Parameter(description = &quot;ç”¨æˆ·å&quot;) String username) &#123;&#125;\n\n@Operation(summary = &quot;ç”¨æˆ·ç™»é™†&quot;)@Parameters(&#123;        @Parameter(name = &quot;username&quot;, description = &quot;ç”¨æˆ·å&quot;)&#125;)@GetMapping(&quot;/login&quot;)public void login(String username) &#123;&#125;\n\n\n@Schema@Schema æ³¨è§£ç”¨åœ¨ç±»å’Œå±æ€§ä¸Šï¼Œä¸è¿‡æ˜¯ç”¨åœ¨ DTO ç±»ä¸Šï¼Œä¸»è¦å¯¹ DTO çš„å±æ€§è¿›è¡Œæè¿°ï¼Œå½“æ¥å£æ–¹æ³•çš„å‚æ•°æˆ–è¿”å›å€¼ä¸º DTO å¯¹è±¡æ—¶ï¼Œåœ¨é¡µé¢ä¸Šä¼šå±•ç¤ºè¿™äº›æè¿°ä¿¡æ¯ã€‚\n@Schema(name = &quot;Userå¯¹è±¡&quot;)public class User implements Serializable &#123;    private static final long serialVersionUID = 1L;    @Schema(name = &quot;idå€¼&quot;)    @TableId(value = &quot;id&quot;, type = IdType.AUTO)    private Integer id;    @Schema(name = &quot;ç”¨æˆ·å&quot;)    private String username;    @Schema(name = &quot;å¯†ç &quot;)    private String password;    @Schema(name = &quot;é‚®ç®±&quot;)    private String email;    @Schema(name = &quot;åˆ›å»ºæ—¶é—´&quot;)    private LocalDateTime created;    @Schema(name = &quot;æ›´æ–°æ—¶é—´&quot;)    private LocalDateTime updated;    @Schema(name = &quot;æ˜¯å¦åˆ é™¤ï¼š0-æœªåˆ é™¤ï¼Œ1-åˆ é™¤&quot;)    private Boolean delete;    @Schema(name = &quot;ç”¨æˆ·è§’è‰²ï¼š0-æ™®é€šç”¨æˆ·ï¼Œ1-ç®¡ç†å‘˜ç”¨æˆ·&quot;)    private Boolean role;&#125;\n\n@Operation(summary = &quot;ç”¨æˆ·ç™»é™†&quot;)@GetMapping(&quot;/login&quot;)public User login(@Parameter(description = &quot;ç”¨æˆ·ä¿¡æ¯&quot;) User user) &#123;    return null;&#125;\n\n\n\nå‚è€ƒèµ„æ–™\nOpenAPI 3 Library for spring-boot\nSpringBootç»“åˆSpringDoc - lixuelong - åšå®¢å›­\nSwagger3 æ³¨è§£ä½¿ç”¨ï¼ˆOpen API 3ï¼‰_StarJava_çš„åšå®¢-CSDNåšå®¢\nspringdoc-openapi çš„åŸºæœ¬ä½¿ç”¨ - å°äºŒåä¸ƒ - åšå®¢å›­\n\n","categories":["SpringBootæ•´åˆç»„ä»¶"],"tags":["SpringBoot"]},{"title":"é•¿è¿æ¥çš„è‹¥å¹²é—®é¢˜.md","url":"/2022/05/23/%E9%95%BF%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%8B%A5%E5%B9%B2%E9%97%AE%E9%A2%98/","content":"HTTP ä¸­çš„é•¿è¿æ¥åœ¨ HTTP åè®®ä¸­å¯¹é•¿çŸ­é“¾æ¥çš„å®šä¹‰å¦‚ä¸‹ï¼š\n\né•¿è¿æ¥ï¼šæµè§ˆå™¨å‘æœåŠ¡å™¨è¿›è¡Œä¸€æ¬¡ HTTP ä¼šè¯è®¿é—®åï¼Œä¸ä¼šç›´æ¥å…³é—­åº•å±‚çš„ TCP è¿æ¥ï¼Œè€Œæ˜¯ä¼šé»˜è®¤ä¿æŒä¸€æ®µæ—¶é—´ï¼Œä¸‹ä¸€æ¬¡æµè§ˆå™¨ç»§ç»­è®¿é—®åŒæ ·çš„æœåŠ¡å™¨æ—¶ä¼šå†æ¬¡åˆ©ç”¨åˆ°è¿™ä¸ªè¿æ¥ã€‚\nçŸ­è¿æ¥ï¼šæµè§ˆå™¨å‘æœåŠ¡å™¨æ¯è¿›è¡Œä¸€æ¬¡ HTTP æ“ä½œéƒ½è¦å»ºç«‹ä¸€ä¸ªæ–°çš„è¿æ¥ã€‚\n\næ ¹æ®ä¸¤è€…çš„å®šä¹‰å¯ä»¥çœ‹å‡ºï¼Œé•¿çŸ­è¿æ¥ä¹‹é—´æœ€ä¸»è¦çš„åŒºåˆ«åœ¨äºæ˜¯å¦å¤ç”¨åº•å±‚çš„ TCP è¿æ¥ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯çŸ­è¿æ¥ï¼Œé‚£ä¹ˆå°±æ¯æ¬¡è®¿é—®çš„æœåŠ¡ç«¯çš„æ—¶å€™éƒ½éœ€è¦é‡æ–°å»ºç«‹è¿æ¥ï¼Œè®¿é—®å®Œæ¯•åå…³é—­è¿æ¥ï¼›å¦‚æœä½¿ç”¨çš„æ˜¯é•¿é“¾æ¥ï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡ç«¯çš„æ—¶å€™ä¼šå»ºç«‹è¿æ¥ï¼Œåç»­å¯¹æœåŠ¡å™¨çš„è®¿é—®éƒ½ä½¿ç”¨çš„æ˜¯è¯¥é“¾æ¥ã€‚\nä» HTTP&#x2F;1.1 èµ·ï¼Œé»˜è®¤ä¼šä½¿ç”¨é•¿è¿æ¥ï¼Œä½¿ç”¨é•¿è¿æ¥çš„ HTTP åè®®æ—¶ä¼šåœ¨å“åº”å¤´æœ‰åŠ å…¥è¿™è¡Œä»£ç ï¼š\nConnection:keep-alive\n\nKeep-Alive ä¸ä¼šæ°¸ä¹…ä¿æŒè¿æ¥ï¼Œå®ƒæœ‰ä¸€ä¸ªä¿æŒæ—¶é—´ï¼Œå¯ä»¥åœ¨ä¸åŒçš„æœåŠ¡å™¨è½¯ä»¶ï¼ˆå¦‚ Apacheï¼‰ä¸­è®¾å®šè¿™ä¸ªæ—¶é—´ï¼Œå®ç°é•¿è¿æ¥è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æ”¯æŒé•¿è¿æ¥ã€‚\nTCP ä¸­çš„é•¿è¿æ¥TCP ä¸­å®é™…ä¸Šæ²¡æœ‰é•¿è¿æ¥çš„æ¦‚å¿µï¼Œå› ä¸º TCP è¿æ¥åªè¦å»ºç«‹èµ·æ¥å°±ä¼šä¸€ç›´å­˜åœ¨ï¼Œè¿™é‡Œæ‰€è°“çš„é•¿çŸ­æœ¬è´¨ä¸Šæ˜¯å…³é—­è¿æ¥çš„æ—¶æœºä¸åŒï¼Œå¦‚æœé€šä¿¡ä¸€æ¬¡åç«‹é©¬å…³é—­è¿æ¥ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯çŸ­è¿æ¥ï¼ˆHTTP çŸ­è¿æ¥ï¼‰ï¼Œå¦‚æœå»ºç«‹è¿æ¥åå°†è¿æ¥ä¿å­˜ä¸€æ®µæ—¶é—´è¿›è¡Œå¤ç”¨ï¼Œé‚£ä¹ˆå°±æ˜¯é•¿è¿æ¥ï¼ˆHTTP é•¿è¿æ¥ï¼‰ã€‚\nTCP å¦‚ä½•å…³é—­è¿æ¥TCP å…³é—­è¿æ¥æœ‰å¦‚ä¸‹å‡ ä¸ªæ—¶æœºï¼š\n\nå»ºç«‹è¿æ¥çš„åŒæ–¹å…¶ä¸­ä¸€æ–¹ä¸»åŠ¨å…³é—­äº†è¿æ¥ï¼Œæˆ–è€…ç¨‹åºå‘ç”Ÿå´©æºƒæ“ä½œç³»ç»Ÿå…³é—­äº†è¿æ¥ï¼›\nå¦‚æœè¿æ¥å»ºç«‹ä¹‹åç³»ç»Ÿçªç„¶æ–­ç”µäº†ï¼Œå¦‚æœè¿™æ—¶å€™æœ‰æ•°æ®åœ¨ä¼ è¾“ï¼Œé‚£ä¹ˆæ•°æ®åŒ…ä¼šå› ä¸ºæ— æ³•ç¡®è®¤ä¸æ–­çš„è¢«é‡å¤å‘é€ï¼Œé‡å¤ä¸€å®šæ¬¡æ•°åç³»ç»Ÿä¼šå…³é—­è¿æ¥ï¼Œå¦‚æœè¿™æ—¶å€™æ²¡æœ‰æ•°æ®åœ¨ä¼ è¾“ï¼Œé‚£ä¹ˆæœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š\nå¦‚æœè®¾ç½®äº† TCP çš„ KeepAliveï¼Œé‚£ä¹ˆè¿æ¥åŒåä¼šåœ¨ä¸€å®šæ—¶é—´æ²¡æœ‰æ”¶åˆ°æ•°æ®æ—¶ä¼šå‘é€å¿ƒè·³ï¼Œæ£€æµ‹å¯¹æ–¹æ˜¯å¦å­˜æ´»ï¼›\nå¦‚æœæ²¡æœ‰è®¾ç½® TCP çš„ KeepAliveï¼Œé‚£ä¹ˆè¿æ¥å°†ä¼šä¸€ç›´å­˜åœ¨ã€‚\n\n\n\nTCP çš„ KeepAlive æœºåˆ¶KeepAlive æœºåˆ¶çš„ä¸»è¦ä½œç”¨æ˜¯ä¿è¯è¿æ¥å­˜æ´»ï¼Œå…·ä½“æ–¹å¼æ˜¯åœ¨ä¸€å®šæ—¶é—´æ²¡æœ‰æ”¶åˆ°æ•°æ®çš„æ—¶å€™å°±å‘é€å¿ƒè·³åŒ…æ£€æµ‹è¿æ¥çš„å¦ä¸€æ–¹æ˜¯å¦å­˜æ´»ï¼Œæ“ä½œç³»ç»Ÿä¸­æœ‰è¿™ä¹ˆå‡ ä¸ªå‚æ•°æ§åˆ¶ KeepAliveï¼š\n\nKeepalive_timeï¼šç©ºé—²æ—¶é—´ï¼Œå³å¤šé•¿æ—¶é—´è¿æ¥æ²¡æœ‰å‘é€æ•°æ®æ—¶å¼€å§‹ KeepAlive æ£€æµ‹ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸¤ä¸ªå°æ—¶ï¼›\nKeepalive_intvlï¼šå‘é€é—´éš”æ—¶é—´\nKeepalive_probsï¼šæœ€å¤šå‘é€å¤šå°‘ä¸ªæ£€æµ‹æ•°æ®åŒ…ã€‚\n\nä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ KeepAlive å¹¶ä¸æ˜¯ TCP çš„æ ‡å‡†ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ“ä½œç³»ç»Ÿéƒ½å®ç°äº†è¯¥åŠŸèƒ½ï¼Œæ‰€ä»¥æ¨èåœ¨åº”ç”¨å±‚å®ç°å¿ƒè·³æœºåˆ¶ã€‚\nå‚è€ƒèµ„æ–™\nHTTPé•¿è¿æ¥å®ç°åŸç† - æ˜é‡‘ (juejin.cn)\nHTTPé•¿è¿æ¥å’ŒçŸ­è¿æ¥åŸç†æµ…æ-Finclip\n4ä¸ªå®éªŒï¼Œå½»åº•ææ‡‚TCPè¿æ¥çš„æ–­å¼€_51CTOåšå®¢_tcpé¢å‘è¿æ¥\n\n","tags":["è®¡ç®—æœºç½‘ç»œ"]},{"title":"ubuntuä¸­çš„ç½‘ç»œé…ç½®.md","url":"/2022/04/19/ubuntu%E4%B8%AD%E7%9A%84%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/","content":"é…ç½®æµç¨‹ä» Ubuntu 18 å¼€å§‹ï¼ŒUbuntu å¼€å§‹ç”¨ Netplan ä½œä¸ºç½‘ç»œé…ç½®çš„ç¨‹åºï¼Œäºæ˜¯ä¹æƒ³è¦æ›´æ”¹ç½‘ç»œé…ç½®ï¼Œå°±éœ€è¦ç¼–è¾‘æ–‡ä»¶å¤¹ /etc/netplan é‡Œçš„æ–‡ä»¶ï¼Œå…¶ä¸­ 01-network-manager-all.yaml å°±æ˜¯é…ç½®æ–‡ä»¶ã€‚\n\nç¼–è¾‘å®Œé…ç½®æ–‡ä»¶åï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼š\nnetplat apply\n\nä¹‹åé‡å¯ç½‘ç»œæœåŠ¡\nsystemctl restart NetworkManager.service\n\nä½¿ç”¨ ip a å‘½ä»¤å¸¸çœ‹ç½‘å¡çŠ¶æ€ï¼Œåˆ¤æ–­æ˜¯å¦é…ç½®æˆåŠŸã€‚\n\nå¸¸ç”¨é…ç½®åŠ¨æ€ IPnetwork:  version: 2  renderer: networkd  ethernets:    enp3s0:      dhcp4: true\n\né™æ€ IPnetwork:  version: 2  renderer: networkd  ethernets:    enp3s0:      addresses:        - 10.10.10.2/24      routes:         - to: default          via: 10.10.10.1      nameservers:          addresses: [10.10.10.1, 1.1.1.1]\n\nå¤šç½‘å¡network:  version: 2  ethernets:    enred:      dhcp4: yes      dhcp4-overrides:        route-metric: 100    engreen:      dhcp4: yes      dhcp4-overrides:        route-metric: 200\n\næ— å¯†ç  wifinetwork:  version: 2  wifis:    wl0:      access-points:        opennetwork: &#123;&#125;      dhcp4: yes\n\næœ‰å¯†ç  wifinetwork:  version: 2  renderer: networkd  wifis:    wlp2s0b1:      dhcp4: no      dhcp6: no      addresses: [192.168.0.21/24]      routes:         - to: default          via: 10.10.10.1      nameservers:        addresses: [192.168.0.1, 8.8.8.8]      access-points:        &quot;network_ssid_name&quot;:          password: &quot;**********&quot;\n\nå•ç½‘å¡å¤šåœ°å€ï¼ˆåŒä¸€ç½‘æ®µï¼‰network:  version: 2  renderer: networkd  ethernets:    enp3s0:     addresses:       - 10.100.1.38/24       - 10.100.1.39/24     gateway4: 10.100.1.1\n\nå•ç½‘å¡å¤šåœ°å€ï¼ˆä¸åŒç½‘æ®µï¼‰network:  version: 2  renderer: networkd  ethernets:    enp3s0:     addresses:       - 9.0.0.9/24       - 10.0.0.10/24       - 11.0.0.11/24     #gateway4:    # unset, since we configure routes below     routes:       - to: 0.0.0.0/0         via: 9.0.0.1         metric: 100       - to: 0.0.0.0/0         via: 10.0.0.1         metric: 100       - to: 0.0.0.0/0         via: 11.0.0.1         metric: 100\n\nå‚è€ƒèµ„æ–™\nUbuntu 18.04 LTS é€šè¿‡ Netplan é…ç½®ç½‘ç»œæ•™ç¨‹ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘\n\n","tags":["linux"]},{"title":"ucoreæ“ä½œç³»ç»Ÿå®éªŒï¼šlab1.md","url":"/2023/04/19/ucore%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E9%AA%8C%EF%BC%9Alab1/","content":"ç»ƒä¹  1\nç»ƒä¹  1ï¼šç†è§£é€šè¿‡ make ç”Ÿæˆæ‰§è¡Œæ–‡ä»¶çš„è¿‡ç¨‹ã€‚ï¼ˆè¦æ±‚åœ¨æŠ¥å‘Šä¸­å†™å‡ºå¯¹ä¸‹è¿°é—®é¢˜çš„å›ç­”ï¼‰åˆ—å‡ºæœ¬å®éªŒå„ç»ƒä¹ ä¸­å¯¹åº”çš„ OS åŸç†çš„çŸ¥è¯†ç‚¹ï¼Œå¹¶è¯´æ˜æœ¬å®éªŒä¸­çš„å®ç°éƒ¨åˆ†å¦‚ä½•å¯¹åº”å’Œä½“ç°äº†åŸç†ä¸­çš„åŸºæœ¬æ¦‚å¿µå’Œå…³é”®çŸ¥è¯†ç‚¹ã€‚\nåœ¨æ­¤ç»ƒä¹ ä¸­ï¼Œå¤§å®¶éœ€è¦é€šè¿‡é™æ€åˆ†æä»£ç æ¥äº†è§£ï¼š\n\næ“ä½œç³»ç»Ÿé•œåƒæ–‡ä»¶ ucore. img æ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥ç”Ÿæˆçš„ï¼Ÿ(éœ€è¦æ¯”è¾ƒè¯¦ç»†åœ°è§£é‡Š Makefile ä¸­æ¯ä¸€æ¡ç›¸å…³å‘½ä»¤å’Œå‘½ä»¤å‚æ•°çš„å«ä¹‰ï¼Œä»¥åŠè¯´æ˜å‘½ä»¤å¯¼è‡´çš„ç»“æœ)\nä¸€ä¸ªè¢«ç³»ç»Ÿè®¤ä¸ºæ˜¯ç¬¦åˆè§„èŒƒçš„ç¡¬ç›˜ä¸»å¼•å¯¼æ‰‡åŒºçš„ç‰¹å¾æ˜¯ä»€ä¹ˆï¼Ÿ\n\nè¡¥å……ææ–™ï¼š\nå¦‚ä½•è°ƒè¯• Makefile\nå½“æ‰§è¡Œ make æ—¶ï¼Œä¸€èˆ¬åªä¼šæ˜¾ç¤ºè¾“å‡ºï¼Œä¸ä¼šæ˜¾ç¤º make åˆ°åº•æ‰§è¡Œäº†å“ªäº›å‘½ä»¤ã€‚\nå¦‚æƒ³äº†è§£ make æ‰§è¡Œäº†å“ªäº›å‘½ä»¤ï¼Œå¯ä»¥æ‰§è¡Œï¼š\n$ make â€œV&#x3D;â€è¦è·å–æ›´å¤šæœ‰å…³ make çš„ä¿¡æ¯ï¼Œå¯ä¸Šç½‘æŸ¥è¯¢ï¼Œå¹¶è¯·æ‰§è¡Œsdf$ man make\n\né—®é¢˜ 1ï¼šæ“ä½œç³»ç»Ÿé•œåƒæ–‡ä»¶ ucore. img æ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥ç”Ÿæˆçš„ï¼Ÿå®éªŒæºç çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼Œæˆ‘ä»¬åˆ‡æ¢åˆ° ucore_lab/labcodes_answer/lab1_result ç›®å½•ä¸‹æ‰§è¡Œä¸¤æ¡å‘½ä»¤ï¼Œmake clean æ¸…é™¤æ‰ä¸Šä¸€æ¬¡ç”Ÿæˆçš„æ–‡ä»¶ï¼Œmake V= ç¼–è¯‘æ–‡ä»¶ç”Ÿæˆé•œåƒã€‚\n\n\næ‰§è¡Œ make V= çš„å…¨éƒ¨è¾“å‡ºå¦‚ä¸‹ï¼Œå®ƒä¼šç°å®æ•´ä¸ªè¿‡ç¨‹ä¸­æ‰§è¡Œçš„æ‰€æœ‰å‘½ä»¤ï¼š\n+ cc kern/init/init.cgcc -Ikern/init/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/init/init.c -o obj/kern/init/init.o+ cc kern/libs/readline.cgcc -Ikern/libs/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/libs/readline.c -o obj/kern/libs/readline.o+ cc kern/libs/stdio.cgcc -Ikern/libs/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/libs/stdio.c -o obj/kern/libs/stdio.o+ cc kern/debug/kdebug.cgcc -Ikern/debug/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/debug/kdebug.c -o obj/kern/debug/kdebug.o+ cc kern/debug/kmonitor.cgcc -Ikern/debug/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/debug/kmonitor.c -o obj/kern/debug/kmonitor.o+ cc kern/debug/panic.cgcc -Ikern/debug/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/debug/panic.c -o obj/kern/debug/panic.o+ cc kern/driver/clock.cgcc -Ikern/driver/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/driver/clock.c -o obj/kern/driver/clock.o+ cc kern/driver/console.cgcc -Ikern/driver/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/driver/console.c -o obj/kern/driver/console.o+ cc kern/driver/intr.cgcc -Ikern/driver/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/driver/intr.c -o obj/kern/driver/intr.o+ cc kern/driver/picirq.cgcc -Ikern/driver/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/driver/picirq.c -o obj/kern/driver/picirq.o+ cc kern/trap/trap.cgcc -Ikern/trap/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/trap/trap.c -o obj/kern/trap/trap.o+ cc kern/trap/trapentry.Sgcc -Ikern/trap/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/trap/trapentry.S -o obj/kern/trap/trapentry.o+ cc kern/trap/vectors.Sgcc -Ikern/trap/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/trap/vectors.S -o obj/kern/trap/vectors.o+ cc kern/mm/pmm.cgcc -Ikern/mm/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/mm/pmm.c -o obj/kern/mm/pmm.o+ cc libs/printfmt.cgcc -Ilibs/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/  -c libs/printfmt.c -o obj/libs/printfmt.o+ cc libs/string.cgcc -Ilibs/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/  -c libs/string.c -o obj/libs/string.o+ ld bin/kernelld -m    elf_i386 -nostdlib -T tools/kernel.ld -o bin/kernel  obj/kern/init/init.o obj/kern/libs/readline.o obj/kern/libs/stdio.o obj/kern/debug/kdebug.o obj/kern/debug/kmonitor.o obj/kern/debug/panic.o obj/kern/driver/clock.o obj/kern/driver/console.o obj/kern/driver/intr.o obj/kern/driver/picirq.o obj/kern/trap/trap.o obj/kern/trap/trapentry.o obj/kern/trap/vectors.o obj/kern/mm/pmm.o  obj/libs/printfmt.o obj/libs/string.o+ cc boot/bootasm.Sgcc -Iboot/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Os -nostdinc -c boot/bootasm.S -o obj/boot/bootasm.o+ cc boot/bootmain.cgcc -Iboot/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Os -nostdinc -c boot/bootmain.c -o obj/boot/bootmain.o+ cc tools/sign.cgcc -Itools/ -g -Wall -O2 -c tools/sign.c -o obj/sign/tools/sign.ogcc -g -Wall -O2 obj/sign/tools/sign.o -o bin/sign+ ld bin/bootblockld -m    elf_i386 -nostdlib -N -e start -Ttext 0x7C00 obj/boot/bootasm.o obj/boot/bootmain.o -o obj/bootblock.o&#x27;obj/bootblock.out&#x27; size: 488 bytesbuild 512 bytes boot sector: &#x27;bin/bootblock&#x27; success!dd if=/dev/zero of=bin/ucore.img count=1000010000+0 records in10000+0 records out5120000 bytes (5.1 MB) copied, 0.0234475 s, 218 MB/sdd if=bin/bootblock of=bin/ucore.img conv=notrunc1+0 records in1+0 records out512 bytes (512 B) copied, 0.000192811 s, 2.7 MB/sdd if=bin/kernel of=bin/ucore.img seek=1 conv=notrunc146+1 records in146+1 records out74923 bytes (75 kB) copied, 0.000295907 s, 253 MB/s\n\næ ¹æ®ä¸Šè¿°çš„è¾“å‡ºç»“æœæˆ‘ä¹ˆå¯ä»¥å¾—çŸ¥ï¼Œåœ¨é•œåƒç”Ÿæˆçš„æ•´ä¸ªè¿‡ç¨‹ä¸­ä¸»è¦åˆ†ä¸ºä¸‰æ­¥ï¼š\n\nç¼–è¯‘æºç ï¼šgcc å‘½ä»¤çš„ä¼šå¯¹æºç è¿›è¡Œç¼–è¯‘ï¼Œå¦‚ä¸‹é¢çš„å‘½ä»¤å°† kern/init/init.c ç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶ obj/kern/init/init.oï¼š\n  + cc kern/init/init.cgcc -Ikern/init/ -fno-builtin -Wall -ggdb -m32 -gstabs -nostdinc  -fno-stack-protector -Ilibs/ -Ikern/debug/ -Ikern/driver/ -Ikern/trap/ -Ikern/mm/ -c kern/init/init.c -o obj/kern/init/init.o\n\nç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼šld å‘½ä»¤å°†ç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶è¿›è¡Œé“¾æ¥ç”Ÿæˆæ‰§è¡Œæ–‡ä»¶ï¼Œå¦‚ä¸‹é¢çš„å‘½ä»¤å°† obj/kern ç›®å½•ä¸‹çš„ç›®æ ‡æ–‡ä»¶è¿æ¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ bin/kernelï¼š\n  + ld bin/kernelld -m    elf_i386 -nostdlib -T tools/kernel.ld -o bin/kernel  obj/kern/init/init.o obj/kern/libs/readline.o obj/kern/libs/stdio.o obj/kern/debug/kdebug.o obj/kern/debug/kmonitor.o obj/kern/debug/panic.o obj/kern/driver/clock.o obj/kern/driver/console.o obj/kern/driver/intr.o obj/kern/driver/picirq.o obj/kern/trap/trap.o obj/kern/trap/trapentry.o obj/kern/trap/vectors.o obj/kern/mm/pmm.o  obj/libs/printfmt.o obj/libs/string.o\n\nç”Ÿæˆé•œåƒæ–‡ä»¶ï¼šdd å‘½ä»¤çš„ä½œç”¨æ˜¯ç”¨æŒ‡å®šå¤§å°çš„å—æ‹·è´ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶åœ¨æ‹·è´çš„åŒæ—¶è¿›è¡ŒæŒ‡å®šçš„è½¬æ¢ï¼Œä¸‹é¢çš„å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ª bin/ucore.img æ–‡ä»¶ï¼Œå¹¶å°†ä¹‹å‰ç”Ÿæˆçš„ bin/bootblock å’Œ bin/kernel æ‹·è´åˆ° bin/ucore.img æ–‡ä»¶ä¸­ã€‚\n  dd if=/dev/zero of=bin/ucore.img count=1000010000+0 records in10000+0 records out5120000 bytes (5.1 MB) copied, 0.0234475 s, 218 MB/sdd if=bin/bootblock of=bin/ucore.img conv=notrunc1+0 records in1+0 records out512 bytes (512 B) copied, 0.000192811 s, 2.7 MB/sdd if=bin/kernel of=bin/ucore.img seek=1 conv=notrunc146+1 records in146+1 records out74923 bytes (75 kB) copied, 0.000295907 s, 253 MB/s\n\né—®é¢˜ 2ï¼šä¸€ä¸ªè¢«ç³»ç»Ÿè®¤ä¸ºæ˜¯ç¬¦åˆè§„èŒƒçš„ç¡¬ç›˜ä¸»å¼•å¯¼æ‰‡åŒºçš„ç‰¹å¾æ˜¯ä»€ä¹ˆï¼Ÿå¼•å¯¼æ‰‡åŒºçš„å¤§å°ä¸º 512 å­—èŠ‚ï¼Œä½äºç£ç›˜çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºï¼Œä½†æ˜¯ä¸æ˜¯æ‰€æœ‰çš„ç£ç›˜éƒ½è£…æœ‰æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥ç»Ÿä¸€è§„å®šå°†è¿™ 512 ä¸ªå­—èŠ‚çš„æœ€åä¸¤ä¸ªå­—èŠ‚è®¾ç½®ä¸ºæ ‡å¿—ä½ï¼Œå–å›ºå®šå€¼ 0x55 å’Œ 0xAAã€‚\n\nä»å®éªŒæ–‡æ¡£ä¸­å¯ä»¥å¾—çŸ¥ï¼Œbin/sign æ˜¯ç”¨æ¥ç”Ÿç¡¬ç›˜ä¸»å¼•å¯¼æ‰‡åŒºçš„ç¨‹åº, å®ƒçš„æºç ä½äº tools/sigh.c ,å†…å®¹å¦‚ä¸‹ï¼š\n\n#include &lt;stdio.h&gt;#include &lt;errno.h&gt;#include &lt;string.h&gt;#include &lt;sys/stat.h&gt;intmain(int argc, char *argv[]) &#123;    struct stat st;    if (argc != 3) &#123;        fprintf(stderr, &quot;Usage: &lt;input filename&gt; &lt;output filename&gt;\\n&quot;);        return -1;    &#125;    if (stat(argv[1], &amp;st) != 0) &#123;        fprintf(stderr, &quot;Error opening file &#x27;%s&#x27;: %s\\n&quot;, argv[1], strerror(errno));        return -1;    &#125;    printf(&quot;&#x27;%s&#x27; size: %lld bytes\\n&quot;, argv[1], (long long)st.st_size);    if (st.st_size &gt; 510) &#123;        fprintf(stderr, &quot;%lld &gt;&gt; 510!!\\n&quot;, (long long)st.st_size);        return -1;    &#125;    char buf[512];    memset(buf, 0, sizeof(buf));    FILE *ifp = fopen(argv[1], &quot;rb&quot;);    int size = fread(buf, 1, st.st_size, ifp);    if (size != st.st_size) &#123;        fprintf(stderr, &quot;read &#x27;%s&#x27; error, size is %d.\\n&quot;, argv[1], size);        return -1;    &#125;    fclose(ifp);    buf[510] = 0x55;    buf[511] = 0xAA;    FILE *ofp = fopen(argv[2], &quot;wb+&quot;);    size = fwrite(buf, 1, 512, ofp);    if (size != 512) &#123;        fprintf(stderr, &quot;write &#x27;%s&#x27; error, size is %d.\\n&quot;, argv[2], size);        return -1;    &#125;    fclose(ofp);    printf(&quot;build 512 bytes boot sector: &#x27;%s&#x27; success!\\n&quot;, argv[2]);    return 0;&#125;\n\nä»æºç ä¸­å¯ä»¥çœ‹åˆ°å°† 512 ä¸ªå­—èŠ‚æ•°æ®ä¸­çš„æœ€åä¸¤ä¸ªå­—èŠ‚åˆ†åˆ«è®¾ç½®ä¸ºäº† 0x55 å’Œ 0xAAã€‚\nbuf[510] = 0x55;buf[511] = 0xAA;\n\nç»ƒä¹  2\nä¸ºäº†ç†Ÿæ‚‰ä½¿ç”¨ qemu å’Œ gdb è¿›è¡Œçš„è°ƒè¯•å·¥ä½œï¼Œæˆ‘ä»¬è¿›è¡Œå¦‚ä¸‹çš„å°ç»ƒä¹ ï¼š\n\nä» CPU åŠ ç”µåæ‰§è¡Œçš„ç¬¬ä¸€æ¡æŒ‡ä»¤å¼€å§‹ï¼Œå•æ­¥è·Ÿè¸ª BIOS çš„æ‰§è¡Œã€‚\nåœ¨åˆå§‹åŒ–ä½ç½® 0 x 7 c 00 è®¾ç½®å®åœ°å€æ–­ç‚¹, æµ‹è¯•æ–­ç‚¹æ­£å¸¸ã€‚\nä» 0 x 7 c 00 å¼€å§‹è·Ÿè¸ªä»£ç è¿è¡Œ, å°†å•æ­¥è·Ÿè¸ªåæ±‡ç¼–å¾—åˆ°çš„ä»£ç ä¸ bootasm. S å’Œ bootblock. asm è¿›è¡Œæ¯”è¾ƒã€‚\nè‡ªå·±æ‰¾ä¸€ä¸ª bootloader æˆ–å†…æ ¸ä¸­çš„ä»£ç ä½ç½®ï¼Œè®¾ç½®æ–­ç‚¹å¹¶è¿›è¡Œæµ‹è¯•ã€‚\n\næç¤ºï¼šå‚è€ƒé™„å½•â€œå¯åŠ¨åç¬¬ä¸€æ¡æ‰§è¡Œçš„æŒ‡ä»¤â€ï¼Œå¯äº†è§£æ›´è¯¦ç»†çš„è§£é‡Šï¼Œä»¥åŠå¦‚ä½•å•æ­¥è°ƒè¯•å’ŒæŸ¥çœ‹ BIOS ä»£ç ã€‚\næç¤ºï¼šæŸ¥çœ‹ labcodes_answer&#x2F;lab 1_result&#x2F;tools&#x2F;lab 1 init æ–‡ä»¶ï¼Œç”¨å¦‚ä¸‹å‘½ä»¤è¯•è¯•å¦‚ä½•è°ƒè¯• bootloader ç¬¬ä¸€æ¡æŒ‡ä»¤ï¼š\n $ cd labcodes_answer&#x2F;lab 1_result&#x2F; $ make lab 1-mon\n\né—®é¢˜ 1ï¼šä» CPU åŠ ç”µåæ‰§è¡Œçš„ç¬¬ä¸€æ¡æŒ‡ä»¤å¼€å§‹ï¼Œå•æ­¥è·Ÿè¸ª BIOS çš„æ‰§è¡Œåœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ make gdb å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°å¯åŠ¨äº†ä¸€ä¸ª QEMU è™šæ‹Ÿæœºï¼Œæ­¤æ—¶å®ƒæ­£ç­‰å¾…ç€ gdb è¿œç¨‹è¿æ¥ã€‚\n\næ¥ä¸‹æ¥ä½¿ç”¨ gdb å‘½ä»¤è¿›è¡Œè°ƒè¯•ï¼Œè¾“å…¥ set architecture i8086 è®¾ç½®å½“å‰è°ƒè¯•çš„æœºå™¨ä¸º i8086ï¼Œè¾“å…¥ target remote : 1234 è¿æ¥åˆ° QEMUã€‚\n\næ­¤æ—¶è¾“å…¥ si åˆ™ä¼šå¼€å§‹æ‰§è¡Œä¸€æ¡å‘½ä»¤ã€‚\n\né—®é¢˜ 2ï¼šåœ¨åˆå§‹åŒ–ä½ç½® 0x7c00 è®¾ç½®å®åœ°å€æ–­ç‚¹, æµ‹è¯•æ–­ç‚¹æ­£å¸¸æ¯æ¬¡è¿›è¡Œè°ƒè¯•æ—¶éƒ½è¿›è¡Œè¿æ¥æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œå¯ä»¥å°†ä¸€äº›å‰ç½®å‘½ä»¤æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå¦‚ä¸‹é¢çš„æ–‡ä»¶ gdbinitï¼Œæ¯æ¬¡ä½¿ç”¨ gdb -x gdbinit å‘½ä»¤å¯åŠ¨ gdbï¼Œé‚£ä¹ˆæ–‡ä»¶ gdbinit ä¸­æ‰€ç”¨çš„å‘½ä»¤éƒ½ä¼šè¢«æ‰§è¡Œï¼Œä¹‹åéƒ½é€šè¿‡è¿™ç§æ–¹å¼æ¥æ‰§è¡Œã€‚\n\n\nåœ¨ gdbinit æ–‡ä»¶ä¸­è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼Œå†æ¬¡è¿›è¡Œè°ƒè¯•ï¼š\nset architecture i8086target remote:1234b *0x7c00 #è®¾ç½®ç‚¹c     x/10i $pc #æ˜¾ç¤ºæ±‡ç¼–æŒ‡ä»¤\n\n\né—®é¢˜ 3ï¼šä» 0x7c00 å¼€å§‹è·Ÿè¸ªä»£ç è¿è¡Œï¼Œå°†å•æ­¥è·Ÿè¸ªåæ±‡ç¼–å¾—åˆ°çš„ä»£ç ä¸ bootasm.S å’Œ bootblock.asm è¿›è¡Œæ¯”è¾ƒbootasm.S å’Œ bootblock.asm ä¸­çš„å†…å®¹å¦‚ä¸‹ï¼Œæ¯”è¾ƒå¯çŸ¥ä¸¤è€…ä¸ 0x7c00 å¤„çš„æŒ‡ä»¤åŸºæœ¬ä¸€è‡´ã€‚\n\n\né—®é¢˜ 4ï¼šè‡ªå·±æ‰¾ä¸€ä¸ª bootloader æˆ–å†…æ ¸ä¸­çš„ä»£ç ä½ç½®ï¼Œè®¾ç½®æ–­ç‚¹å¹¶è¿›è¡Œæµ‹è¯•è¿™é‡Œé€‰æ‹©ä½¿ç”¨ kern/init/init.c ä¸­çš„ kern_init å‡½æ•°ä½œä¸ºæ–­ç‚¹ï¼š\n\nå°† gdbinit æ–‡ä»¶ä¿®æ”¹ä¸ºï¼š\nset architecture i8086file bin/kerneltarget remote:1234b kern_init #è®¾ç½®ç‚¹c     x/10i $pc #æ˜¾ç¤ºæ±‡ç¼–æŒ‡ä»¤\n\nè·å¾—æ–­ç‚¹å¤„çš„æŒ‡ä»¤å¦‚ä¸‹ï¼š\n\nå¦‚æœæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ä½¿ç”¨ gdb -x gdbinit -tuiï¼Œç”šè‡³å¯ä»¥æ‰“å¼€ä¸€ä¸ª gdb çš„å‘½ä»¤è¡Œç•Œé¢ï¼Œç›´æ¥ç°å®æ–­ç‚¹å¤„çš„æºç æ–‡ä»¶ã€‚\n\nç»ƒä¹  3\nBIOS å°†é€šè¿‡è¯»å–ç¡¬ç›˜ä¸»å¼•å¯¼æ‰‡åŒºåˆ°å†…å­˜ï¼Œå¹¶è½¬è·³åˆ°å¯¹åº”å†…å­˜ä¸­çš„ä½ç½®æ‰§è¡Œ bootloaderã€‚è¯·åˆ†æ bootloader æ˜¯å¦‚ä½•å®Œæˆä»å®æ¨¡å¼è¿›å…¥ä¿æŠ¤æ¨¡å¼çš„ã€‚\næç¤ºï¼šéœ€è¦é˜…è¯»å°èŠ‚â€œä¿æŠ¤æ¨¡å¼å’Œåˆ†æ®µæœºåˆ¶â€å’Œ lab1&#x2F;boot&#x2F;bootasm.S æºç ï¼Œäº†è§£å¦‚ä½•ä»å®æ¨¡å¼åˆ‡æ¢åˆ°ä¿æŠ¤æ¨¡å¼ï¼Œéœ€è¦äº†è§£ï¼š\n\nä¸ºä½•å¼€å¯ A20ï¼Œä»¥åŠå¦‚ä½•å¼€å¯ A20\nå¦‚ä½•åˆå§‹åŒ– GDT è¡¨\nå¦‚ä½•ä½¿èƒ½å’Œè¿›å…¥ä¿æŠ¤æ¨¡å¼\n\n\né—®é¢˜ 1ï¼šä¸ºä½•å¼€å¯ A20ï¼Œä»¥åŠå¦‚ä½•å¼€å¯ A20å½“ A20 å¤„äºå…³é—­çŠ¶æ€æ—¶ï¼Œç¬¬ 21 ä¸€æ ¹åœ°å€æ€»çº¿çš„å€¼æ€»æ˜¯ 0ï¼Œä¼šå¯¼è‡´åªèƒ½è®¿é—®åˆ° 0-1M, 2-3M, 4-5M ç­‰å¥‡æ•°å†…å­˜ï¼Œæ‰€ä»¥æƒ³è¦è®¿é—®å®Œæ•´çš„å†…å­˜ç©ºé—´ï¼Œå¿…é¡»å¼€å¯ A20ã€‚\næ ¹æ®æç¤ºé˜…è¯» lab1/boot/bootasm.Sï¼ˆucoreå®éªŒï¼šbootasm.Sæºç ï¼‰ï¼Œå…¶ä¸­å¼€å¯ A20 çš„ä»£ç å¦‚ä¸‹ï¼Œåœ¨ ucore å®éªŒä¸­é€šè¿‡æ§åˆ¶é”®ç›˜æ§åˆ¶å™¨å®ç° A20 çš„å¼€å¯ã€‚\nseta20.1:    inb $0x64, %al           # ä»0x64ç«¯å£è¯»å–é”®ç›˜æ§åˆ¶å™¨çŠ¶æ€åˆ°alå¯„å­˜å™¨ä¸­    testb $0x2, %al          # åˆ¤æ–­alå¯„å­˜å™¨ç¬¬2ä¸ºæ˜¯å¦ä¸º1ï¼Œå¦‚æœæ˜¯æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤    jnz seta20.1             # è·³è½¬åˆ°seta20.1é‡æ–°æ‰§è¡Œ    movb $0xd1, %al          # è®¾ç½®alå¯„å­˜å™¨çš„å€¼ä¸º 0xd1    outb %al, $0x64          # å°†alä¸­çš„å€¼å†™å…¥0x64ç«¯å£seta20.2:    inb $0x64, %al            # ä»0x64ç«¯å£è¯»å–é”®ç›˜æ§åˆ¶å™¨çŠ¶æ€åˆ°alå¯„å­˜å™¨ä¸­    testb $0x2, %al           # åˆ¤æ–­alå¯„å­˜å™¨ç¬¬2ä¸ºæ˜¯å¦ä¸º1ï¼Œå¦‚æœæ˜¯æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤    jnz seta20.2              # è·³è½¬åˆ°seta20.2é‡æ–°æ‰§è¡Œ    movb $0xdf, %al           # è®¾ç½®alå¯„å­˜å™¨çš„å€¼ä¸º 0xdf    outb %al, $0x60           # å°†alä¸­çš„å€¼å†™å…¥0x60ç«¯å£\n\næ‰€ä»¥å¼€å¯ A20 çš„æ•´ä¸ªæ­¥éª¤ä¸ºï¼š\n\nå‘é”®ç›˜æ§åˆ¶å™¨çš„ 0x64 ç«¯å£å‘é€çš„å‘½ä»¤ 0xd1ï¼Œå³ä»£ç æ®µ seta20.1 å®Œæˆçš„å·¥ä½œï¼›\nå‘é”®ç›˜æ§åˆ¶å™¨çš„ 0x60 ç«¯å£å‘é€çš„å‘½ä»¤ 0xdfï¼Œå³ä»£ç æ®µ seta20.2 å®Œæˆçš„å·¥ä½œï¼›\n\né—®é¢˜ 2ï¼šå¦‚ä½•åˆå§‹åŒ– GDT è¡¨ lab1/boot/bootasm.S æ–‡ä»¶å°¾éƒ¨å®šä¹‰ GDT è¡¨ï¼Œä»£ç å¦‚ä¸‹ï¼š\n# Bootstrap GDT.p2align 2                                  # force 4 byte alignmentgdt:    SEG_NULLASM                             # null seg    SEG_ASM(STA_X|STA_R, 0x0, 0xffffffff)   # code seg for bootloader and kernel    SEG_ASM(STA_W, 0x0, 0xffffffff)         # data seg for bootloader and kernelgdtdesc:    .word 0x17                              # sizeof(gdt) - 1    .long gdt                               # address gdt\n\nå…¶ä¸­ gdtdesc è®°å½•äº† gdt è¡¨çš„é•¿åº¦ä»¥åŠæ‰€åœ¨çš„ä½ç½®ï¼Œåœ¨ lab1/boot/bootasm.S ä¸­æœ‰è¿™ä¹ˆä¸€æ¡æŒ‡ä»¤ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°† gdtdesc å¤„çš„æ•°æ®è¯»å–åˆ°å…¨å±€æè¿°ç¬¦è¡¨å¯„å­˜å™¨ GDTRï¼Œè¿™æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 48 ä½çš„å¯„å­˜å™¨ï¼Œè®¡ç®—æœºæ ¹æ® GDTR å¯ä»¥çŸ¥é“å…¨å±€æè¿°ç¬¦è¡¨æ‰€åœ¨çš„ä½ç½®ä¸Šå’Œé•¿åº¦ã€‚\nlgdt gdtdesc\n\né—®é¢˜ 3ï¼šå¦‚ä½•ä½¿èƒ½å’Œè¿›å…¥ä¿æŠ¤æ¨¡å¼\nåœ¨ CPU ä¸­æœ‰ä¸€ä¸ª CR0 å¯„å­˜å™¨ï¼ŒåŒ…å«äº† 6 ä¸ªé¢„å®šä¹‰æ ‡å¿—ï¼Œç¬¬ 0 ä½æ˜¯ä¿æŠ¤å…è®¸ä½ PE ( Protedted Enable )ï¼Œç”¨äºå¯åŠ¨ä¿æŠ¤æ¨¡å¼ï¼Œå¦‚æœ PE ä½ç½® 1ï¼Œåˆ™ä¿æŠ¤æ¨¡å¼å¯åŠ¨ï¼Œå¦‚æœ PE&#x3D;0ï¼Œåˆ™åœ¨å®æ¨¡å¼ä¸‹è¿è¡Œã€‚æ‰€ä»¥å¯åŠ¨ä¿æŠ¤æ¨¡å¼åªéœ€è¦å°† CR0 å¯„å­˜å™¨ç¬¬ 0 ä½è®¾ä¸º 1 å³å¯ï¼Œç›¸å…³ä»£ç å¦‚ä¸‹ï¼š\nmovl %cr0, %eaxorl $CR0_PE_ON, %eaxmovl %eax, %cr0\n\nç»ƒä¹  4\né€šè¿‡é˜…è¯» bootmain.cï¼Œäº†è§£ bootloader å¦‚ä½•åŠ è½½ ELF æ–‡ä»¶ã€‚é€šè¿‡åˆ†ææºä»£ç å’Œé€šè¿‡ qemu æ¥è¿è¡Œå¹¶è°ƒè¯• bootloader&amp;OSï¼Œ\n\nbootloader å¦‚ä½•è¯»å–ç¡¬ç›˜æ‰‡åŒºçš„ï¼Ÿ\nbootloader æ˜¯å¦‚ä½•åŠ è½½ ELF æ ¼å¼çš„ OSï¼Ÿ\n\n\né—®é¢˜ 1ï¼šbootloader å¦‚ä½•è¯»å–ç¡¬ç›˜æ‰‡åŒºçš„bootmain.c ä¸­æœ‰å¦‚ä¸‹ä»£ç ç‰‡æ®µï¼Œä½œç”¨å°±æ˜¯ä»ç£ç›˜ä¸­è¯»å–æ‰‡åŒºï¼Œæ•´ä¸ªæµç¨‹å¤§è‡´ä¸ºï¼š\n\nç­‰å¾…ç£ç›˜å‡†å¤‡å¥½\nå‘å‡ºè¯»å–æ‰‡åŒºçš„å‘½ä»¤\nç­‰å¾…ç£ç›˜å‡†å¤‡å¥½\næŠŠç£ç›˜æ‰‡åŒºæ•°æ®è¯»åˆ°æŒ‡å®šå†…å­˜\n\n// ä¸æ–­çš„è¯»å–ç£ç›˜çŠ¶æ€ï¼Œç­‰å¾…ç£ç›˜å‡†å¤‡å¥½static void waitdisk(void)&#123;    while ((inb(0x1F7) &amp; 0xC0) != 0x40)&#125;// è¯»å–secnoå¤„ä¸€ä¸ªæ‰‡åŒºåˆ°dstå¤„static void readsect(void *dst, uint32_t secno)&#123;    // ç­‰å¾…ç£ç›˜å‡†å¤‡å¥½    waitdisk();    // åƒç£ç›˜ä¸­çš„å¯„å­˜å™¨å†™å…¥è¦è¯»å–çš„æ‰‡åŒºæ€»æ•°ï¼Œè¿™é‡Œå§‹ç»ˆä¸º1    outb(0x1F2, 1);    // å†™å…¥secno    outb(0x1F3, secno &amp; 0xFF);    outb(0x1F4, (secno &gt;&gt; 8) &amp; 0xFF);    outb(0x1F5, (secno &gt;&gt; 16) &amp; 0xFF);    outb(0x1F6, ((secno &gt;&gt; 24) &amp; 0xF) | 0xE0);    // å‘èµ·è¯»å‘½ä»¤    outb(0x1F7, 0x20); // cmd 0x20 - read sectors    // ç­‰å¾…ç£ç›˜å‡†å¤‡å¥½    waitdisk();    // è¯»å–æ•°æ®    insl(0x1F0, dst, SECTSIZE / 4);&#125;\n\né—®é¢˜ 2ï¼šbootloader æ˜¯å¦‚ä½•åŠ è½½ ELF æ ¼å¼çš„ OSä¸‹é¢æ˜¯ bootloader ä¸­åŠ è½½ os çš„ä»£ç ï¼Œä¸»è¦æ­¥éª¤æ˜¯å°† ELF æ–‡ä»¶å¤´éƒ¨è¯»åˆ°å†…å­˜ä¸­ï¼Œæ ¹æ®å¤´éƒ¨è·å–å…¶ä»–æ®µçš„ä½ç½®å’Œé•¿åº¦ï¼Œå¹¶è¯»å–åˆ°å†…å­˜æŒ‡å®šä½ç½®ï¼Œä¹‹åå¼€å§‹æ‰§è¡Œå…¥å£å‡½æ•°ï¼Œæ“ä½œç³»ç»Ÿæ­£å¼è¢«è¿è¡Œèµ·æ¥ã€‚\nvoid bootmain(void)&#123;    // å°†æ“ä½œç³»ç»Ÿç¬¬ä¸€é¡µè¯»å–åˆ°å†…å­˜ä¸­ï¼Œä½ç½®åœ¨ELFHDRå¤„,    // SECTSIZE * 8 å…¶ä¸­ SECTSIZE å¤§å°ä¸º512å­—èŠ‚ä¸€ä¸ªæ‰‡åŒºï¼Œ8ä¸ªæ‰‡åŒºç»„æˆä¸€é¡µ    readseg((uintptr_t)ELFHDR, SECTSIZE * 8, 0);    // åˆ¤æ–­è¯»å–åˆ°çš„æ•°æ®æ˜¯å¦ä¸ºä¸€ä¸ªåˆæ³•çš„ELFï¼Œä¸»è¦æ ¹æ®ELFå¤´éƒ¨åˆ¤æ–­    if (ELFHDR-&gt;e_magic != ELF_MAGIC)    &#123;        goto bad;    &#125;    struct proghdr *ph, *eph;    // æ ¹æ®ELFå¤´éƒ¨çš„ä¿¡æ¯ï¼Œå°†å‰©ä½™éƒ¨åˆ†è¯»åˆ°å†…å­˜ä¸­    ph = (struct proghdr *)((uintptr_t)ELFHDR + ELFHDR-&gt;e_phoff);    eph = ph + ELFHDR-&gt;e_phnum;    for (; ph &lt; eph; ph++)    &#123;        readseg(ph-&gt;p_va &amp; 0xFFFFFF, ph-&gt;p_memsz, ph-&gt;p_offset);    &#125;    // æ ¹æ®ELFå¤´éƒ¨ä¿¡æ¯ï¼Œæ‰§è¡Œå…¥å£å‡½æ•°    ((void (*)(void))(ELFHDR-&gt;e_entry &amp; 0xFFFFFF))();bad:    outw(0x8A00, 0x8A00);    outw(0x8A00, 0x8E00);    /* do nothing */    while (1)        ;&#125;\n\nucoreæ“ä½œç³»ç»Ÿå®éªŒ-lab1-ç»ƒä¹ 5\nå‚è€ƒèµ„æ–™\nLab_1ï¼šç»ƒä¹ 1â€”â€”ç†è§£é€šè¿‡makeç”Ÿæˆæ‰§è¡Œæ–‡ä»¶çš„è¿‡ç¨‹ - chuyaoxin - åšå®¢å›­\nLab1ï¼šç»ƒä¹ 3â€”â€”åˆ†æbootloaderè¿›å…¥ä¿æŠ¤æ¨¡å¼çš„è¿‡ç¨‹ - huilinmumu - åšå®¢å›­\nä¿æŠ¤æ¨¡å¼å’Œåˆ†æ®µæœºåˆ¶ Â· ucore_os_docs\n\n","categories":["ucoreæ“ä½œç³»ç»Ÿå®éªŒ"],"tags":["æ“ä½œç³»ç»Ÿ"]},{"title":"MySQLç›¸å…³çŸ¥è¯†.md","url":"/2023/04/28/MySQL%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/","content":"change å’Œ modify ä¹‹é—´çš„åŒºåˆ«ä¸¤è€…ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š\nalter table &lt;è¡¨å&gt; change &lt;æ—§åˆ—å&gt; &lt;æ–°åˆ—å&gt; &lt;ç±»å‹&gt;alter table &lt;è¡¨å&gt; modify &lt;åˆ—å&gt; &lt;ç±»å‹&gt;\n\nåŒºåˆ«åœ¨äºï¼š\n\nchangeï¼šå¯ä»¥åŒæ—¶ä¿®æ”¹åˆ—åå’Œåˆ—çš„ç±»å‹\nmodifyï¼šåªèƒ½ç”¨äºä¿®æ”¹åˆ—é¢ç±»å‹\n\n"},{"title":"è®¡ç®—æœºä¸­çš„è·¯ç”±è¡¨.md","url":"/2022/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%AD%E7%9A%84%E8%B7%AF%E7%94%B1%E8%A1%A8/","content":"è®¡ç®—æœºä¸­æœ‰æ—¶å€™ä¼šæœ‰å¤šä¸ªç½‘å¡ï¼Œä¾‹å¦‚ä¸‹é¢çš„å›¾ä¸­æ‰€ç¤ºçš„é‚£æ ·ï¼Œå…¶ä¸­ WIFI è¿™ä¸ªç½‘å¡è¿æ¥è€…å…¬ç½‘ï¼ŒvirtualBox æ˜¯è™šæ‹Ÿæœºæä¾›çš„è™šæ‹Ÿç½‘å¡ã€‚\n\né‚£ä¹ˆå½“æˆ‘ä»¬è®¿é—®æŸä¸ª ip æ—¶ï¼Œé¢å¯¹è¿™ä¹ˆå¤šçš„ç½‘å¡ï¼Œè®¡ç®—æœºä½¿ç”¨å“ªä¸ªå‘é€æ•°æ®å‘¢ï¼Ÿå…¶å®åŸç†å¾ˆç®€å•ï¼Œè®¡ç®—æœºæœ¬åœ°ç»´æŠ¤äº†ä¸€ä¸ªè·¯ç”±è¡¨ï¼Œç±»ä¼¼äºè·¯ç”±å™¨ç»´æŠ¤çš„è·¯ç”±è¡¨ï¼Œæ ¹æ®è·¯ç”±è¡¨ä¸­é…ç½®çš„è§„åˆ™è®¡ç®—æœºå¯ä»¥åˆ¤æ–­èµ°å“ªä¸ªç½‘å¡ã€‚ä»»ä½•æ“ä½œç³»ç»Ÿçš„è®¡ç®—æœºåªè¦æ”¯æŒ TCP/IP åè®®é‚£ä¹ˆå†…éƒ¨éƒ½ä¼šç»´æŠ¤ä¸€ä¸ªè·¯ç”±è¡¨ï¼Œè®¿é—® IP ä¹‹å‰ä¼šå…ˆåœ¨æœ¬åœ°è·¯ç”±è¡¨ä¸­æŸ¥æ‰¾ä¸‹æ˜¯å¦æœ‰ç›´æ¥çš„è·¯ç”±å…³ç³»ï¼Œå¦‚æœæœ‰åˆ™èµ°è¿™ä¸ªç½‘å¡ï¼Œå¦‚æœæ²¡æœ‰åˆ™èµ°é»˜è®¤ç½‘å¡ã€‚åœ¨ windows ç¯å¢ƒä¸‹ä½¿ç”¨ route print å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰è®¡ç®—æœºä¸­çš„è·¯ç”±è¡¨ï¼š\n\næ¥å£ä¿¡æ¯å±•ç¤ºäº†è®¡ç®—æœºä¸­æ‰€æœ‰çš„ç½‘å¡ï¼Œè·¯ç”±è¡¨ä¸­å±•ç¤ºçš„å°±æ˜¯è½¬å‘è§„åˆ™ã€‚\nè·¯ç”±è¡¨ä¸­ç¬¬ä¸€è¡Œç½‘ç»œåœ°å€ä¸º 0.0.0.0ï¼Œæ©ç ä¸º 0.0.0.0 è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé»˜è®¤è·¯ç”±åœ°å€ï¼Œå¯¹åº”çš„ç½‘å…³ä¸º 10.49.0.1, ç½‘å¡åœ°å€ä¸º 10.49.255.9ã€‚é»˜è®¤è·¯ç”±åˆ™è¡¨ç¤ºå¦‚æœä¸€ä¸ª IP åœ°å€ä¸åœ¨ä¸‹é¢çš„è·¯ç”±è§„åˆ™ä¸­ï¼Œåˆ™ä»è¿™ä¸ªç½‘å¡å‘å‡ºã€‚å½“è®¡ç®—æœºä¸­æœ‰ä¸¤ä¸ªé»˜è®¤è·¯ç”±æ—¶ï¼Œè®¡ç®—æœºä¼šé€‰æ‹©è·ƒç‚¹æ•°å°çš„é‚£ä¸ªã€‚\n"},{"title":"SpringMVCé…ç½®.md","url":"/2023/04/09/SpringMVC%E9%85%8D%E7%BD%AE/","content":"å¼•å…¥ SpringMVCé€šè¿‡ web. xml ä¸­å¼•å…¥SpringMVC æ˜¯ä»¥ DispatcherServlet ç±»ä¸ºå…¥å£çš„ï¼Œè¯¥ç±»æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ª Servletï¼Œæ‰€ä»¥é…ç½®æ–¹å¼å’Œæ™®é€šçš„ Servlet å·®ä¸å¤šã€‚\n&lt;web-app&gt;    &lt;listener&gt;        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;    &lt;/listener&gt;    &lt;context-param&gt;        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;        &lt;param-value&gt;/WEB-INF/app-context.xml&lt;/param-value&gt;    &lt;/context-param&gt;    &lt;servlet&gt;        &lt;servlet-name&gt;app&lt;/servlet-name&gt;        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;        &lt;init-param&gt;            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;            &lt;param-value&gt;&lt;/param-value&gt;        &lt;/init-param&gt;        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;    &lt;/servlet&gt;    &lt;servlet-mapping&gt;        &lt;servlet-name&gt;app&lt;/servlet-name&gt;        &lt;url-pattern&gt;/app/*&lt;/url-pattern&gt;    &lt;/servlet-mapping&gt;&lt;/web-app&gt;\n\n\nç›‘å¬å™¨ org.springframework.web.context.ContextLoaderListener çš„ä½œç”¨å°±æ˜¯å¯åŠ¨ Web å®¹å™¨æ—¶è‡ªåŠ¨è£…é… ApplicationContextï¼Œè¿™é‡ŒæŒ‡çš„å°±æ˜¯ Spring å®¹å™¨ã€‚å› ä¸ºå®ƒå®ç°äº† ServletContextListener è¿™ä¸ªæ¥å£ï¼ŒæœåŠ¡å™¨å¯åŠ¨å®¹å™¨æ—¶ï¼Œå°±ä¼šé»˜è®¤æ‰§è¡Œå®ƒå®ç°çš„æ–¹æ³•ã€‚ApplicationContext  é…ç½®æ–‡ä»¶çš„é»˜è®¤è·¯å¾„æ˜¯ /WEB-INF/applicationContext. xmlï¼Œåœ¨ WEB-INF ç›®å½•ä¸‹åˆ›å»ºçš„ xml æ–‡ä»¶çš„åç§°å¿…é¡»æ˜¯ applicationContext. xmlã€‚å¦‚æœæ˜¯è¦è‡ªå®šä¹‰æ–‡ä»¶åå¯ä»¥åœ¨ web. xml é‡ŒåŠ å…¥ contextConfigLocation è¿™ä¸ªå‚æ•°ã€‚å¦‚æœæœ‰å¤šä¸ª xml æ–‡ä»¶ï¼Œå¯ä»¥å†™åœ¨ä¸€èµ·å¹¶ä»¥â€œ,â€å·åˆ†éš”ï¼Œä¹Ÿå¯ä»¥è¿™æ · applicationContext-*. xml é‡‡ç”¨é€šé…ç¬¦ã€‚\nä½¿ç”¨ Spring MVCï¼Œé…ç½® DispatcherServlet æ˜¯ç¬¬ä¸€æ­¥ã€‚DispatcherServlet æ˜¯ä¸€ä¸ª Servletï¼Œæ‰€ä»¥å¯ä»¥é…ç½®å¤šä¸ª DispatcherServletã€‚è¿™ä¸ª Servlet ç”¨äºæ‹¦å‡»è¯·æ±‚ï¼Œä½¿è¯·æ±‚è¿›å…¥åˆ° SpringMVC ä¸­çš„é€»è¾‘ä¸­ï¼Œå®ƒè¿˜ä¼šå¼•å…¥ä¸€ä¸ª SpringMVC å®¹å™¨ï¼Œè¯¥å®¹å™¨é…ç½®æ–‡ä»¶çš„é»˜è®¤è·¯å¾„ä¸º /WEB-INF/&lt;servlet-name&gt;-servlet.xmlï¼Œå¦‚æœè‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä½ç½®çš„è¯ï¼Œå’Œ Spring å®¹å™¨æ˜¯ä¸€æ ·çš„ã€‚\n\nJava é…ç½®å¼•å…¥åœ¨ Servlet 3 è§„èŒƒä¸­å…è®¸ä½¿ç”¨ Java ç±»æ¥ä»£æ›¿ web.xml æ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œå…·ä½“æ–¹å¼æ˜¯åˆ›å»ºä¸€ä¸ª AbstractAnnotationConfigDispatcherServletInitializer çš„å­ç±»ã€‚\npublic class MyWebInitializer extends AbstractAnnotationConfigDispatcherServletInitializer &#123;        @Override      protected String[] getServletMappings() &#123;          return new String[] &#123; &quot;/&quot; &#125;;      &#125;        @Override      protected Class&lt;?&gt;[] getRootConfigClasses() &#123;          return new Class&lt;?&gt;[] &#123; RootConfig.class &#125;;      &#125;        @Override      protected Class&lt;?&gt;[] getServletConfigClasses() &#123;          return new Class&lt;?&gt;[] &#123; WebConfig.class &#125;;      &#125;    &#125;\n\n\ngetRootConfigClasses() è¿”å›æ ¹å®¹å™¨çš„ Java é…ç½®æ–‡ä»¶ï¼Œå¯¹åº”åˆ° web. xml å°±æ˜¯ contextConfigLocation é…ç½®çš„ xml æ–‡ä»¶ï¼›\n  &lt;listener&gt;        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;&lt;/listener&gt;&lt;context-param&gt;    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;    &lt;param-value&gt;/WEB-INF/app-context.xml&lt;/param-value&gt;&lt;/context-param&gt;\n\ngetServletConfigClasses() è¿”å›çš„å°±æ˜¯ DispatcherServlet ä¸­å®¹å™¨çš„ Java é…ç½®æ–‡ä»¶ï¼›\n\ngetServletMappingsâ€‹() è¿”å›çš„æ˜¯ DispatcherServlet è¦å¤„ç†çš„è·¯å¾„ã€‚\n\n\nJavap ç±»é…ç½®çš„åŸç†æ˜¯åœ¨ Servlet 3.0 ç¯å¢ƒä¸­ï¼Œå®¹å™¨ä¼šåœ¨ç±»è·¯å¾„ä¸­æŸ¥æ‰¾å®ç° javax.servlet.ServletContainerInitializer æ¥å£çš„ç±»ï¼Œå¦‚æœèƒ½å‘ç°çš„è¯ï¼Œå°±ä¼šç”¨å®ƒæ¥é…ç½® Servlet å®¹å™¨ã€‚Spring æä¾›äº†è¿™ä¸ªæ¥å£çš„å®ç°ï¼Œåä¸º SpringServletContainerInitializerï¼Œè¿™ä¸ªç±»åè¿‡æ¥åˆä¼šæŸ¥æ‰¾å®ç° WebApplicationInitializer çš„ç±»å¹¶å°†é…ç½®çš„ä»»åŠ¡äº¤ç»™å®ƒä»¬æ¥å®Œæˆã€‚Spring 3.2 å¼•å…¥äº†ä¸€ä¸ªä¾¿åˆ©çš„ WebApplicationInitializer åŸºç¡€å®ç°ï¼Œä¹Ÿå°±æ˜¯ AbstractAnnotationConfigDispatcherServletInitializerã€‚\nå¦‚æœæƒ³å¯¹ DispatcherServlet è¿›è¡Œæ›´ä¸°å¯Œçš„è®¾ç½®ï¼Œå¯ä»¥é€šè¿‡é‡å†™ customizeRegistration æ–¹æ³•æ¥å®ç°ï¼Œå¦‚ä¸‹é¢è®¾ç½®äº†ä¸Šä¼ æ–‡ä»¶æ—¶çš„ä¸´æ—¶æ–‡ä»¶å¤¹ã€‚\n@Overrideprotected void customizeRegistration(Dynamic registration) &#123;      registration.setMultipartConfig(              new MultipartConfigElement(&quot;/tmp/spittr/uploads&quot;);      );  &#125;\n\nå®¹å™¨é…ç½®æ— è®ºæ˜¯ä½¿ç”¨ xml è¿˜æ˜¯ä½¿ç”¨ Java ç±»è¿›è¡Œé…å€¼ï¼Œä¸¤ä¸ªå®¹å™¨æœ¬è´¨ä¸Šè¿˜æ˜¯ Spring å®¹å™¨ï¼Œæ‰€ä»¥é…ç½®ä¸Šæ˜¯ä¸€æ ·çš„ã€‚ä¸åŒçš„åœ°æ–¹åœ¨äº DispatcherServlet â€‹ åˆ›å»ºçš„å®¹å™¨ä¸­ä¼šä½¿ç”¨ä¸€äº›ç‰¹æ®Šçš„ Beanï¼Œè¿™äº› Beanâ€‹ æ˜¯ SpringMVCâ€‹ çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æ˜ å°„å™¨ã€è§†å›¾è§£æå™¨ä¹‹ç±»ã€‚\n@Configuration@EnableWebMvcpublic class WebConfig &#123;&#125;\n\nåœ¨ SpringMVC çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥æ·»åŠ  @EnableWebMvc æ³¨è§£ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å‘å®¹å™¨ä¸­æ·»åŠ é»˜è®¤çš„ Beanï¼Œä¾‹å¦‚é»˜è®¤çš„è¯•å›¾è§£æå™¨ BeanNameViewResolverã€‚\nurl-pattern é…ç½®è¿™éƒ¨åˆ†å±äº web å®¹å™¨çš„é…ç½®ï¼Œä¸»è¦æ˜¯å†³å®šå“ªäº› url è¯·æ±‚è½¬å‘ç»™ SpringMVC æ¥å¤„ç†ã€‚Servlet ä¸­ url-patternâ€‹ æœ‰ä¸‰ç§åŒ¹é…æ¨¡å¼ï¼šç²¾ç¡®åŒ¹é…ã€è·¯å¾„åŒ¹é…å’Œåç¼€åŒ¹é…ï¼Œä¸‰ç§åŒ¹é…æ¨¡å¼çš„ä¼˜å…ˆçº§ä¹Ÿä¾æ¬¡é™ä½ã€‚\nç²¾ç¡®åŒ¹é…&lt;servlet-mapping&gt;    &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;    &lt;url-pattern&gt;/user&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;\n\nä¸Šé¢çš„é…ç½®åªèƒ½åŒ¹é…ï¼š\nhttp://localhost:8080/appDemo/userâ€‹ \n\nè·¯å¾„åŒ¹é…ä»¥ / â€‹ å¼€å¤´ä»¥ /* ç»“å°¾çš„éƒ½å±äºè·¯å¾„åŒ¹é…ã€‚\n&lt;servlet-mapping&gt;    &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;    &lt;url-pattern&gt;/user/*&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;\n\nä¸Šé¢çš„ servletâ€‹ å¯ä»¥åŒ¹é…å¦‚ä¸‹è·¯å¾„ï¼š\nhttp://localhost:8080/appDemo/user/users.htmlhttp://localhost:8080/appDemo/user/addUser.actionhttp://localhost:8080/appDemo/user/updateUser.actionl\n\nåç¼€åŒ¹é…ä»¥ *. â€‹ å¼€å¤´çš„å±äºåç¼€åŒ¹é…ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è·¯å¾„å’Œåç¼€ä¸èƒ½åŒæ—¶è®¾ç½®ã€‚\n&lt;servlet-mapping&gt;    &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;    &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;    &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;\n\nä¸Šé¢çš„ servletâ€‹ å¯ä»¥åŒ¹é…å¦‚ä¸‹è·¯å¾„ï¼š\nhttp://localhost:8080/appDemo/user/users.jsphttp://localhost:8080/appDemo/toHome.action\n\n/ å’Œ /* çš„åŒºåˆ«å½“å…¶ä»– servletâ€‹ æ— æ³•åŒ¹é…æ—¶ï¼Œä¼šåŒ¹é…åˆ° url-patternâ€‹ è®¾ç½®ä¸º / çš„ servletâ€‹ï¼Œ/* å±äºè·¯å¾„åŒ¹é…ï¼Œå¯ä»¥ç”¨æ¥åŒ¹é…ä»»ä½•è·¯å¾„ã€‚\ntomcat ä¸­çš„é»˜è®¤é…ç½®â€‹tomcatâ€‹ é»˜è®¤é…ç½®äº†ä¸¤ä¸ª servletâ€‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n&lt;servlet-mapping&gt;    &lt;servlet-name&gt;default&lt;/servlet-name&gt;    &lt;url-pattern&gt;/&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;&lt;!-- The mappings for the JSP servlet --&gt;&lt;servlet-mapping&gt;    &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;    &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;    &lt;url-pattern&gt;*.jspx&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;\n\nwelcome-file-listâ€‹web.xmlâ€‹ ä¸­æœ‰å¦‚ä¸‹è®¾ç½®ï¼Œç”¨äºé…ç½®æ¬¢è¿é¡µé¢ï¼Œå½“ç”¨æˆ·åœ¨ urlâ€‹ ä¸­è¾“å…¥å·¥ç¨‹åç§°æˆ–è€…è¾“å…¥ webâ€‹ å®¹å™¨ urlâ€‹ å¦‚ http://localhost:8080/â€‹ æ—¶ç›´æ¥è·³è½¬åˆ° welcome-file-listâ€‹ è®¾ç½®çš„è·¯å¾„ã€‚\n&lt;welcome-file-list&gt;    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;    &lt;welcome-file&gt;index.action&lt;/welcome-file&gt;&lt;/welcome-file-list&gt;\n\nSpringMVC é…ç½®WebMvcConfigurer é…ç½®åœ¨ javaâ€‹ é…ç½®ä¸­éœ€è¦ä½¿ç”¨ @EnableWebMvcâ€‹ æ³¨è§£æ¥å¼€å¯ MVCâ€‹ é…ç½®ï¼Œè€Œåœ¨ XMLâ€‹ é…ç½®ä¸­éœ€è¦ä½¿ç”¨ mvc:annotation-driven/â€‹ï¼Œå®ƒä»¬é»˜è®¤ä¼šå¯¼å…¥ä¸€äº›ç±»ã€‚\n@Configuration@EnableWebMvcpublic class WebConfig &#123;  &#125;\n\nä½¿ç”¨ javaâ€‹ ä»£ç è¿›è¡Œé…ç½®éœ€è¦ç¼–å†™ WebMvcConfigurerâ€‹ å®ç°ç±»ï¼ŒXMLâ€‹ ä¸­å¯ä»¥ä½¿ç”¨ mvc:annotation-driven/â€‹ çš„å±æ€§å’Œå­å…ƒç´ è¿›è¡Œé…ç½®ã€‚\n@Configuration@EnableWebMvcpublic class WebConfig implements WebMvcConfigurer &#123;    // Implement configuration methods...&#125;\n\nç±»å‹è½¬åŒ–é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringMVCâ€‹ å®‰è£…äº† Numberâ€‹ å’Œ Dateâ€‹ ç±»å‹çš„æ ¼å¼åŒ–ç¨‹åºï¼ŒåŒ…æ‹¬å¯¹ @NumberFormatâ€‹ å’Œ @DateTimeFormatâ€‹ æ³¨è§£çš„æ”¯æŒã€‚å¦‚æœ Classpathâ€‹ ä¸­å­˜åœ¨ Joda-Timeâ€‹ï¼Œåˆ™è¿˜å°†å®‰è£…å¯¹ Joda-Timeâ€‹ æ ¼å¼åº“çš„å®Œå…¨æ”¯æŒã€‚\n@Configuration@EnableWebMvcpublic class WebConfig implements WebMvcConfigurer &#123;    @Override    public void addFormatters(FormatterRegistry registry) &#123;        // ...    &#125;&#125;\n\næ•°æ®æ ¡éªŒé»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœ Bean Validationâ€‹ å­˜åœ¨äº Classpathâ€‹ ä¸­ï¼Œä¾‹å¦‚ Hibernate Validatorâ€‹ï¼Œåˆ™ LocalValidatorFactoryBeanâ€‹ è¢«æ³¨å†Œä¸ºå…¨å±€ Validatorâ€‹ï¼Œä»¥ä¾¿ä¸æ§åˆ¶å™¨æ–¹æ³•å‚æ•°ä¸Šçš„ @Validâ€‹ å’Œ Validatedâ€‹ ä¸€èµ·ä½¿ç”¨ã€‚åœ¨ Javaâ€‹ é…ç½®ä¸­ï¼Œå¯ä»¥è‡ªå®šä¹‰å…¨å±€ Validatorâ€‹ å®ä¾‹ï¼š\n@Configuration@EnableWebMvcpublic class WebConfig implements WebMvcConfigurer &#123;    @Override    public Validator getValidator(); &#123;        // ...    &#125;&#125;\n\nè¿˜å¯ä»¥åœ¨æœ¬åœ°æ·»åŠ æ ¡éªŒå™¨ã€‚\n@Controllerpublic class MyController &#123;    @InitBinder    protected void initBinder(WebDataBinder binder) &#123;        binder.addValidators(new FooValidator());    &#125;&#125;\n\næ‹¦æˆªå™¨æ‹¦æˆªå™¨çš„ä½œç”¨æ˜¯åœ¨ Controller å¤„ç†è¯·æ±‚ä¹‹å‰æ‹¦æˆªè¯·æ±‚è¿›è¡Œä¸€äº›å¤„ç†ã€‚\n@Configuration@EnableWebMvcpublic class WebConfig implements WebMvcConfigurer &#123;    @Override    public void addInterceptors(InterceptorRegistry registry) &#123;        registry.addInterceptor(new LocaleChangeInterceptor());        registry.addInterceptor(new ThemeChangeInterceptor()).addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/admin/**&quot;);        registry.addInterceptor(new SecurityInterceptor()).addPathPatterns(&quot;/secure/*&quot;);    &#125;&#125;\n\næ¶ˆæ¯è½¬æ¢å™¨ä¸‹å›¾å±•ç¤ºäº†æ¶ˆæ¯è½¬æ¢å™¨çš„ä½œç”¨ï¼Œä¸»è¦æ˜¯æŠŠ http è¯·æ±‚ä¸­çš„ä¿¡æ¯è½¬åŒ–ä¸º Java å¯¹è±¡ï¼Œæˆ–è€…æŠŠ Java å¯¹è±¡è½¬åŒ–ä¸ºç›¸åº”æ•°æ®å¦‚ Json ä¹‹ç±»çš„ã€‚\n\n@Configuration@EnableWebMvcpublic class WebConfiguration implements WebMvcConfigurer &#123;    @Override    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) &#123;        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()                .indentOutput(true)                .dateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;))                .modulesToInstall(new ParameterNamesModule());        converters.add(new MappingJackson2HttpMessageConverter(builder.build()));        converters.add(new MappingJackson2XmlHttpMessageConverter(builder.createXmlMapper(true).build()));    &#125;&#125;\n\næŸ¥çœ‹æ§åˆ¶å™¨@Configuration@EnableWebMvcpublic class WebConfig implements WebMvcConfigurer &#123;    @Override    public void addViewControllers(ViewControllerRegistry registry) &#123;        registry.addViewController(&quot;/&quot;).setViewName(&quot;home&quot;);    &#125;&#125;\n\n&lt;mvc:view-controller path=&quot;/&quot; view-name=&quot;home&quot;/&gt;\n\nè§†å›¾è§£æå™¨@Configuration@EnableWebMvcpublic class WebConfig implements WebMvcConfigurer &#123;    @Override    public void configureViewResolvers(ViewResolverRegistry registry) &#123;        registry.enableContentNegotiation(new MappingJackson2JsonView());        registry.jsp();    &#125;&#125;\n\né™æ€èµ„æºå¤„ç†@Configuration@EnableWebMvcpublic class WebConfig implements WebMvcConfigurer &#123;    @Override    public void addResourceHandlers(ResourceHandlerRegistry registry) &#123;        registry.addResourceHandler(&quot;/resources/**&quot;)            .addResourceLocations(&quot;/public&quot;, &quot;classpath:/static/&quot;)            .setCachePeriod(31556926);    &#125;&#125;\n\né»˜è®¤ servletâ€‹SpringMVCâ€‹ ä¸­æ²¡æœ‰åšå‡ºæ˜ å°„çš„è¯·æ±‚ï¼Œäº¤ç»™å®¹å™¨é»˜è®¤çš„ Servletâ€‹ å»å¤„ç†ã€‚\n@Configuration@EnableWebMvcpublic class WebConfig implements WebMvcConfigurer &#123;    @Override    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) &#123;        configurer.enable();    &#125;&#125;\n\nè¯·æ±‚æ˜ å°„@RequestMappingâ€‹â€‹@RequestMappingâ€‹ ç”¨æ¥å°†è¯·æ˜ å°„åˆ°æ§åˆ¶å™¨æ–¹æ³•ï¼ŒSpringMVCâ€‹ ä¸­è¿˜æä¾›äº†ä¸‹é¢çš„æ³¨è§£æ¥æŒ‡å®šç‰¹å®šçš„ httpâ€‹ è¯·æ±‚ã€‚\n\nâ€‹@GetMappingâ€‹\nâ€‹@PostMappingâ€‹\nâ€‹@PutMappingâ€‹\nâ€‹@DeleteMappingâ€‹\nâ€‹@PatchMappingâ€‹\n\n@RestController@RequestMapping(&quot;/persons&quot;)class PersonController &#123;    @GetMapping(&quot;/user&quot;)    public Person getPerson(@PathVariable Long id) &#123;        // ...    &#125;&#125;\n\nä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ&#x2F;persons&#x2F;userâ€‹ è¯·æ±‚ä¼šè¿›å…¥åˆ° getPersonâ€‹ æ–¹æ³•ä¸­è¿›è¡Œå¤„ç†ã€‚\nâ€‹@RequestMappingâ€‹ ä¸­çš„è·¯å¾„å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ globâ€‹ æ¨¡å¼å’Œé€šé…ç¬¦æ¥æ˜ å°„è¯·æ±‚ï¼š\n\nâ€‹?â€‹ åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚ &#x2F;a?bâ€‹ å¯ä»¥ç”¨æ¥åŒ¹é… &#x2F;abcâ€‹ å’Œ &#x2F;avcâ€‹\nâ€‹* åŒ¹é…è·¯å¾„æ®µä¸­çš„é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œå¦‚ &#x2F;a&#x2F; * &#x2F;câ€‹ å¯ä»¥ç”¨æ¥åŒ¹é… &#x2F;a&#x2F;b&#x2F;câ€‹\nâ€‹** â€‹ åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªè·¯å¾„æ®µï¼Œå¦‚ &#x2F;a&#x2F; ** &#x2F;dâ€‹ å¯ä»¥ç”¨æ¥åŒ¹é… &#x2F;a&#x2F;b&#x2F;c&#x2F;dâ€‹\n\nContent-Type å±æ€§é€šè¿‡ consumesâ€‹ å±æ€§æŒ‡å®šæäº¤å†…å®¹ Content-Typeâ€‹ ç¼©å°æ˜ å°„èŒƒå›´ã€‚\n@PostMapping(path = &quot;/pets&quot;, consumes = &quot;application/json&quot;)public void addPet(@RequestBody Pet pet) &#123;    // ...&#125;\n\nâ€‹!â€‹ è¡¨ç¤ºéçš„å«ä¹‰ï¼Œä¸‹é¢ä¾‹å­ä¸­çš„æ–¹æ³•æ¥æ”¶ Content-Typeâ€‹ ä¸æ˜¯ application&#x2F;jsonâ€‹ çš„ POSTâ€‹ è¯·æ±‚ã€‚\n@PostMapping(path = &quot;/pets&quot;, consumes = &quot;!application/json&quot;) public void addPet(@RequestBody Pet pet) &#123;    // ...&#125;\n\nâ€‹producesâ€‹ å’Œ consumesâ€‹ å·®ä¸å¤šï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºå‰è€…å¯¹åº”çš„ Acceptâ€‹ï¼Œå³å“åº”å†…å®¹ Content-Typeâ€‹ã€‚\n@GetMapping(path = &quot;/pets/&#123;petId&#125;&quot;, produces = &quot;application/json;charset=UTF-8&quot;) (1)@ResponseBodypublic Pet getPet(@PathVariable String petId) &#123;    // ...&#125;\n\nParmes å’Œ Header å±æ€§å¯ä»¥ä½¿ç”¨è¯·æ±‚å‚æ•°æ¡ä»¶æˆ–è€… headerâ€‹ æ¡ä»¶æ¥ç¼©å°æ˜ å°„èŒƒå›´ã€‚\n@GetMapping(path = &quot;/pets/&#123;petId&#125;&quot;, params = &quot;myParam=myValue&quot;)public void findPet(@PathVariable String petId) &#123;    // ...&#125;\n\n@GetMapping(path = &quot;/pets&quot;, headers = &quot;myHeader=myValue&quot;)public void findPet(@PathVariable String petId) &#123;    // ...&#125;\n\nå‚æ•°ç»‘å®šç®€å•ä½¿ç”¨é»˜è®¤æ”¯æŒçš„ç±»å‹åœ¨ Controllerâ€‹ æ–¹æ³•å½¢å‚ä¸­å¯ä»¥éšæ—¶æ·»åŠ å¦‚ä¸‹ç±»å‹çš„å‚æ•°ï¼Œå¤„ç†é€‚é…å™¨ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶è¿›è¡Œèµ‹å€¼\n\nâ€‹HttpServletRequestâ€‹ï¼šé€šè¿‡ requestâ€‹ å¯¹è±¡è·å–è¯·æ±‚ä¿¡æ¯\nâ€‹HttpServletResponseâ€‹ï¼šé€šè¿‡ responseâ€‹ å¤„ç†å“åº”ä¿¡æ¯\nâ€‹HttpSessionâ€‹ï¼šé€šè¿‡ sessionâ€‹ å¯¹è±¡å¾—åˆ° sessionâ€‹ ä¸­å­˜æ”¾çš„å¯¹è±¡\nâ€‹InputStreamâ€‹\nâ€‹OutputStreamâ€‹\nâ€‹Readerâ€‹\nâ€‹Writerâ€‹\nâ€‹Model&#x2F;ModelAndViewâ€‹\n\nç®€å•æ•°æ®ç±»å‹ç®€å•å‚æ•°ç±»å‹æŒ‡çš„æ˜¯ javaâ€‹ å†…ç½®çš„å…«ç§åŸºæœ¬ç±»å‹åŠå…¶å¯¹åº”çš„å°è£…ç±»ï¼ˆå¦‚ StringBufferâ€‹ ç­‰ï¼‰ï¼Œå‡è®¾è¯·æ±‚çš„ urlâ€‹ å¦‚ä¸‹ï¼š\nhttp://localhost:8080/admin/login?username=123&amp;password=123\n\n\nå¦‚æœ httpâ€‹ è¯·æ±‚å‚æ•°çš„ keyâ€‹ å’Œ Controllerâ€‹ æ–¹æ³•çš„å½¢å‚åç§°ä¸€è‡´æ—¶ï¼Œæ‰€æœ‰çš„å‚æ•°éƒ½ä¼šè¢« SpringMVCâ€‹ ä¼šç›´æ¥è¿›è¡Œèµ‹å€¼ã€‚\n\n@PostMapping(&#123;&quot;/admin&quot;, &quot;/admin/login&quot;&#125;)public String login(String username, String password) &#123;      return &quot;&quot;&#125;\n\n\nå½“è¯·æ±‚å‚æ•°çš„ keyâ€‹ å’Œ Controllerâ€‹ æ–¹æ³•çš„å½¢å‚åç§°ä¸ä¸€è‡´æ—¶ï¼Œéœ€è¦ä½¿ç”¨ @RequestParamâ€‹ æ³¨è§£æ‰èƒ½å°†è¯·æ±‚å‚æ•°ç»‘å®šæˆåŠŸã€‚\n\n@PostMapping(&#123;&quot;/admin&quot;, &quot;/admin/login&quot;&#125;)public String login(@RequestParam(&quot;username&quot;) String name, String password) &#123;      return &quot;&quot;&#125;\n\nJavaBeanå½“æ§åˆ¶å™¨æ–¹æ³•ä¸­çš„å‚æ•°æ˜¯å¯¹è±¡æ—¶ï¼Œå¯¹è±¡ä¸­å’Œå‚æ•°åä¸€è‡´çš„æ‰€æœ‰å±æ€§ä¼šè¢«èµ‹å€¼ï¼Œå‡è®¾è¯·æ±‚çš„ urlâ€‹ ä¸ºå¦‚ä¸‹å†…å®¹ï¼š\nhttp://localhost:8080/param/bindPojo?id=3&amp;name=å°ç±³&amp;price=3760\n\n@RequestMapping(value = &quot;bindPojo&quot;)public Item bindPojo(Item item) &#123;    return item;&#125;class Item &#123;    private String id;     private String name;     private String price; &#125;\n\nåŒ…è£…ç±»åŒ…è£…ç±»æœ¬èº«ä¹Ÿæ˜¯ javabeanâ€‹ï¼Œåªæ˜¯å®ƒçš„å†…éƒ¨åŒ…å«äº†å…¶ä»–çš„ javabeanâ€‹ï¼Œæ¯”å¦‚ä¸‹é¢çš„ Orderâ€‹ ç±»ï¼š\nclass Order &#123;    private String id;    private Book book;&#125;class Book &#123;    private String name;&#125;\n\nåŒ…è£…ç±»å†…éƒ¨çš„æ™®é€šå±æ€§å’Œ javabeanâ€‹ ç±»çš„è¦æ±‚æ˜¯ä¸€æ ·çš„ï¼Œå†…éƒ¨ javabeanâ€‹ å±æ€§ç»‘å®šæ—¶ï¼Œéœ€è¦ä½¿ç”¨å¦‚ä¸‹å½¢å¼ï¼š\nhttp://localhost:8080/param/bindPojo?book.name=name\n\næ•°ç»„è¯·æ±‚ä¸­æœ‰å¤šä¸ªåç§°ç›¸åŒçš„å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ç±»å‹è¿›è¡Œæ¥æ”¶ã€‚\nhttp://localhost:8080/param/simpleArray?ids=1&amp;ids=2&amp;ids=3&amp;ids=4\n\n@RequestMapping(value = &quot;simpleArray&quot;)public String[] simpleArray(String[] ids) &#123;    return ids;&#125;\n\nListâ€‹Listâ€‹ ä¸èƒ½ç›´æ¥æ”¾åœ¨å‚æ•°åˆ—è¡¨ä¸­ä½¿ç”¨ï¼Œå¿…é¡»æ”¾åœ¨å®ä½“ç±»ä¸­ä½œä¸ºå±æ€§ã€‚\nclass Order &#123;    private String id;    private List&lt;Book&gt; books;&#125;class Book &#123;    private String name;&#125;\n\nè¯·æ±‚æäº¤æ—¶çš„ keyâ€‹ å¯¹åº”ä¸º books[0].nameâ€‹ã€books[0].nameâ€‹ã€‚\nMapå’Œ Listâ€‹ ä¸€æ ·ï¼ŒMapâ€‹ ä¹Ÿå¿…é¡»æ”¾åœ¨å®ä½“ç±»ä¸­ï¼Œè¯·æ±‚æ—¶å¯¹åº”çš„ keyâ€‹ ä¸º books[â€œkeyâ€].nameâ€‹ã€‚\n@PathVariableå¯ä»¥ç”¨æ¥å°†è·¯å¾„ä¸­å¸¦çš„å€¼ç»‘å®šåˆ°æ§åˆ¶å™¨æ–¹æ³•çš„å‚æ•°ä¸­ï¼Œå‡å¦‚ä¸‹é¢çš„æ–¹æ³•æ¥æ”¶çš„è¯·æ±‚æ˜¯ &#x2F;owners&#x2F;1&#x2F;pets&#x2F;2â€‹ï¼Œé‚£ä¹ˆ findPetâ€‹ æ–¹æ³•ä¸­çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä¼šè¢«ä¼ å…¥ 1â€‹ å’Œ 2â€‹ã€‚é»˜è®¤æƒ…å†µä¸‹åªæ”¯æŒç®€å•ç±»å‹çš„ä¼ é€’ (intâ€‹ï¼Œlongâ€‹ï¼ŒDateâ€‹ ç­‰)ï¼Œå¦‚æœéœ€è¦æ”¯æŒå…¶ä»–ç±»å‹ï¼Œå¯ä»¥é…ç½®ç±»å‹è½¬æ¢å™¨å’Œæ•°æ®ç»‘å®šå™¨ã€‚\n@GetMapping(&quot;/owners/&#123;ownerId&#125;/pets/&#123;petId&#125;&quot;)public Pet findPet(@PathVariable Long ownerId, @PathVariable Long petId) &#123;    // ...&#125;\n\nè¿™ä¸ªæ³¨è§£è¿˜æ”¯æŒä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼š\n@GetMapping(&quot;/&#123;name:[a-z-]+&#125;-&#123;version:\\\\d\\\\.\\\\d\\\\.\\\\d&#125;&#123;ext:\\\\.[a-z]+&#125;&quot;)public void handle(@PathVariable String version, @PathVariable String ext) &#123;    // ...&#125;\n\n@RequestParamå°†è¯·æ±‚å‚æ•° (å³æŸ¥è¯¢å‚æ•°æˆ–è¡¨å•æ•°æ®) ç»‘å®šåˆ°æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•å‚æ•°ã€‚\n@Controller@RequestMapping(&quot;/pets&quot;)public class EditPetForm &#123;    // ...    @GetMapping    public String setupForm(@RequestParam(&quot;petId&quot;) int petId, Model model) &#123; (1)        Pet pet = this.clinic.loadPet(petId);        model.addAttribute(&quot;pet&quot;, pet);        return &quot;petForm&quot;;    &#125;    // ...&#125;\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ­¤æ³¨è§£çš„æ–¹æ³•å‚æ•°æ˜¯å¿…éœ€çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å°† @RequestParamâ€‹ æ³¨è§£çš„ requiredâ€‹ æ ‡å¿—è®¾ç½®ä¸º falseâ€‹ æˆ–é€šè¿‡ java.util.Optionalâ€‹ åŒ…è£…å™¨å£°æ˜å‚æ•°æ¥æŒ‡å®šæ–¹æ³•å‚æ•°æ˜¯å¯é€‰çš„ã€‚å¦‚æœç›®æ ‡æ–¹æ³•å‚æ•°ç±»å‹ä¸æ˜¯ Stringâ€‹ï¼Œåˆ™ä¼šè‡ªåŠ¨åº”ç”¨ç±»å‹è½¬æ¢ã€‚å°†å‚æ•°ç±»å‹å£°æ˜ä¸ºæ•°ç»„æˆ–åˆ—è¡¨ï¼Œå¯ä»¥ä¸ºåŒä¸€å‚æ•°åç§°è§£æå¤šä¸ªå‚æ•°å€¼ã€‚å¦‚æœå°† @RequestParamâ€‹ æ³¨è§£å£°æ˜ä¸º Map&lt;String, String&gt;â€‹ æˆ– MultiValueMap&lt;String, String&gt;â€‹ï¼Œè€Œæœªåœ¨æ³¨è§£ä¸­æŒ‡å®šå‚æ•°åï¼Œåˆ™å°†ä½¿ç”¨æ¯ä¸ªç»™å®šå‚æ•°åçš„è¯·æ±‚å‚æ•°å€¼å¡«å…… Mapâ€‹ã€‚\n@RequestHeaderå°† headerâ€‹ ä¸­çš„å€¼ç»‘å®šåˆ°å‚æ•°ã€‚\n@GetMapping(&quot;/demo&quot;)public void handle(        @RequestHeader(&quot;Accept-Encoding&quot;) String encoding, (1)        @RequestHeader(&quot;Keep-Alive&quot;) long keepAlive) &#123; (2)    //...&#125;\n\nå¦‚æœç›®æ ‡æ–¹æ³•çš„å‚æ•°ç±»å‹ä¸æ˜¯ Stringâ€‹ï¼Œåˆ™å°†è‡ªåŠ¨åº”ç”¨ç±»å‹è½¬æ¢ã€‚åœ¨ Map&lt;String, String&gt;â€‹ï¼ŒMultiValueMap&lt;String, String&gt;â€‹ æˆ– HttpHeadersâ€‹ å‚æ•°ä¸Šä½¿ç”¨ @RequestHeaderâ€‹ Comments æ—¶ï¼Œå°†ä½¿ç”¨æ‰€æœ‰ Headersâ€‹ å€¼å¡«å…… Mapâ€‹ã€‚\n@CookieValueå°† Cookieâ€‹ ä¸­çš„å€¼ç»‘å®šåˆ°å‚æ•°ã€‚\n@GetMapping(&quot;/demo&quot;)public void handle(@CookieValue(&quot;JSESSIONID&quot;) String cookie) &#123; (1)    //...&#125;\n\nå¦‚æœç›®æ ‡æ–¹æ³•çš„å‚æ•°ç±»å‹ä¸æ˜¯ Stringâ€‹ï¼Œé‚£ä¹ˆå°†è‡ªåŠ¨åº”ç”¨ç±»å‹è½¬æ¢ã€‚\n@ModelAttribute\nâ€‹@ModelAttributeâ€‹ æ³¨é‡Š voidâ€‹ è¿”å›å€¼çš„æ–¹æ³•\n  @Controllerpublic class HelloWorldController &#123;    @ModelAttribute    public void populateModel(@RequestParam String abc, Model model) &#123;         model.addAttribute(&quot;attributeName&quot;, abc);      &#125;    @RequestMapping(value = &quot;/helloWorld&quot;)    public String helloWorld() &#123;       return &quot;helloWorld&quot;;        &#125;&#125;\n\n  è¿™ä¸ªä¾‹å­ï¼Œåœ¨è·å¾—è¯·æ±‚ &#x2F;helloWorldâ€‹ åï¼ŒpopulateModelâ€‹ æ–¹æ³•åœ¨ helloWorldâ€‹ æ–¹æ³•ä¹‹å‰å…ˆè¢«è°ƒç”¨ï¼Œå®ƒæŠŠè¯·æ±‚å‚æ•°ï¼ˆä¾‹å¦‚ &#x2F;helloWorld?abc&#x3D;textâ€‹ ä¸­çš„ abc&#x3D;textâ€‹ï¼‰åŠ å…¥åˆ°ä¸€ä¸ªåä¸º attributeNameâ€‹ çš„ modelâ€‹ å±æ€§ä¸­ï¼Œåœ¨å®ƒæ‰§è¡Œå helloWorldâ€‹ è¢«è°ƒç”¨ï¼Œè¿”å›è§†å›¾å helloWorldâ€‹ï¼Œè¿™é‡Œ modelâ€‹ å·²ç”± @ModelAttributeâ€‹ æ–¹æ³•ç”Ÿäº§å¥½äº†ã€‚å½“è¯·æ±‚ä¸­ä¸åŒ…å«æ­¤å‚æ•°æ—¶ï¼Œä¼šæŠ¥é”™ï¼Œå¯ä»¥å°†è¯¥å€¼è®¾ç½®ä¸ºéå¿…è¦ã€‚\n\nâ€‹@ModelAttributeâ€‹ æ³¨é‡Šè¿”å›å…·ä½“ç±»çš„æ–¹æ³•\n  @ModelAttribute public Account addAccount(@RequestParam String number) &#123;     return accountManager.findAccount(number); &#125; \n\n  è¿™ç§æƒ…å†µ modelâ€‹ å±æ€§çš„åç§°æ²¡æœ‰æŒ‡å®šï¼Œå®ƒç”±è¿”å›ç±»å‹éšå«è¡¨ç¤ºï¼Œå¦‚è¿™ä¸ªæ–¹æ³•è¿”å› Accountâ€‹ ç±»å‹ï¼Œé‚£ä¹ˆè¿™ä¸ª modelâ€‹ å±æ€§çš„åç§°æ˜¯ accountâ€‹ã€‚\n\nâ€‹@ModelAttribute(value&#x3D;â€â€)â€‹ æ³¨é‡Šè¿”å›å…·ä½“ç±»çš„æ–¹æ³•\n  @Controllerpublic class HelloWorldController &#123;    @ModelAttribute(&quot;attributeName&quot;)    public String addAccount(@RequestParam String abc) &#123;        return abc;      &#125;    @RequestMapping(value = &quot;/helloWorld&quot;)    public String helloWorld() &#123;        return &quot;helloWorld&quot;;    &#125;&#125;\n\n  è¿™ä¸ªä¾‹å­ä¸­ä½¿ç”¨ @ModelAttributeâ€‹ æ³¨é‡Šçš„ valueâ€‹ å±æ€§ï¼Œæ¥æŒ‡å®š modelâ€‹ å±æ€§çš„åç§°ï¼Œmodelâ€‹ å±æ€§å¯¹è±¡å°±æ˜¯æ–¹æ³•çš„è¿”å›å€¼,å®ƒæ— é¡»è¦ç‰¹å®šçš„å‚æ•°ã€‚\n\nâ€‹@ModelAttributeâ€‹ å’Œ @RequestMappingâ€‹ åŒæ—¶æ³¨é‡Šä¸€ä¸ªæ–¹æ³•\n  @Controllerpublic class HelloWorldController &#123;    @RequestMapping(value = &quot;/helloWorld.do&quot;)    @ModelAttribute(&quot;attributeName&quot;)    public String helloWorld() &#123;         return &quot;hi&quot;;    &#125;&#125;\n\n  è¿™æ—¶è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼å¹¶ä¸æ˜¯è¡¨ç¤ºä¸€ä¸ªè§†å›¾åç§°ï¼Œè€Œæ˜¯ modelâ€‹ å±æ€§çš„å€¼ï¼Œè§†å›¾åç§°ç”± RequestToViewNameTranslatorâ€‹ æ ¹æ®è¯·æ±‚ â€œ&#x2F;helloWorld.doâ€â€‹ è½¬æ¢ä¸ºé€»è¾‘è§†å›¾ helloWorldâ€‹ã€‚modelâ€‹ å±æ€§åç§°ç”± @ModelAttribute(value&#x3D;â€â€)â€‹ æŒ‡å®šï¼Œç›¸å½“äºåœ¨ requestâ€‹ ä¸­å°è£…äº† key&#x3D;attributeNameâ€‹ï¼Œvalue&#x3D;hiâ€‹ã€‚\n\nâ€‹@ModelAttributeâ€‹ æ³¨é‡Šä¸€ä¸ªæ–¹æ³•çš„å‚æ•°\n  @Controllerpublic class HelloWorldController &#123;    @ModelAttribute(&quot;user&quot;)    public User addAccount() &#123;        return new User(&quot;jz&quot;,&quot;123&quot;);    &#125;    @RequestMapping(value = &quot;/helloWorld&quot;)    public String helloWorld(@ModelAttribute(&quot;user&quot;) User user) &#123;           user.setUserName(&quot;jizhou&quot;);           return &quot;helloWorld&quot;;    &#125;&#125;\n\n  åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œ@ModelAttribute(â€œuserâ€) â€‹ æ³¨é‡Šæ–¹æ³•å‚æ•°ï¼Œå‚æ•° userâ€‹ çš„å€¼æ¥æºäº addAccount()â€‹ æ–¹æ³•ä¸­æ·»åŠ çš„å€¼ã€‚\n\n\n@SessionAttributesâ€‹@SessionAttributesâ€‹ ç”¨äºåœ¨è¯·æ±‚ä¹‹é—´çš„ HTTP Servletâ€‹ ä¼šè¯ä¸­å­˜å‚¨æ¨¡å‹å±æ€§ï¼Œå®ƒæ˜¯ç±»å‹çº§åˆ«çš„æ³¨è§£ï¼Œç”¨äºå£°æ˜ç‰¹å®šæ§åˆ¶å™¨ä½¿ç”¨çš„ä¼šè¯å±æ€§ã€‚\n@Controller@SessionAttributes(&quot;pet&quot;) (1)public class EditPetForm &#123;    // ...    @PostMapping(&quot;/pets/&#123;id&#125;&quot;)    public String handle(Pet pet, BindingResult errors, SessionStatus status) &#123;        if (errors.hasErrors) &#123;            // ...        &#125;            status.setComplete(); (2)            // ...        &#125;    &#125;&#125;\n\n\nï¼ˆ1ï¼‰å¤„æ·»åŠ äº†æ³¨è§£ä¹‹åï¼Œè¯¥ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•å‘ modelâ€‹ ä¸­æ·»åŠ  keyâ€‹ ä¸º petâ€‹ çš„å€¼ä½¿ï¼Œå°†ä¼šåœ¨ Session ä¸­å­˜å‚¨ä¸€ä»½å­˜å‚¨åœ¨ Servlet ä¼šè¯ä¸­ã€‚\nï¼ˆ2ï¼‰å¤„å±•ç¤ºæ¸…é™¤ Session ä¸­è®¾ç½®çš„å€¼ã€‚\n\né€šå¸¸ä¸æ¨èä½¿ç”¨è¯¥æ³¨è§£ï¼ŒæŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨åŸç”Ÿ api æ·»åŠ ã€‚\n@SessionAttributeç”¨äºä» sessionâ€‹ ä¸­è·å–æ•°æ®ã€‚\n@RequestMapping(&quot;/&quot;)public String handle(@SessionAttribute User user) &#123; (1)    // ...&#125;\n\n@RequestAttributeç±»ä¼¼äº @SessionAttributeâ€‹ã€‚\n@GetMapping(&quot;/&quot;)public String handle(@RequestAttribute Client client) &#123; (1)    // ...&#125;\n\n@RequestBodyå¯ä»¥ä½¿ç”¨ @RequestBodyâ€‹ æ³¨è§£å°†è¯·æ±‚æ­£æ–‡è¯»å–å¹¶é€šè¿‡ HttpMessageConverterâ€‹ ååºåˆ—åŒ–ä¸º Objectâ€‹ã€‚\n@PostMapping(&quot;/accounts&quot;)public void handle(@RequestBody Account account) &#123;    // ...&#125;\n\nHttpEntityâ€‹HttpEntityâ€‹ ä¸ä½¿ç”¨ @RequestBodyâ€‹ å¤§è‡´ç›¸åŒï¼Œä½†æ˜¯å®ƒåŸºäºä¸€ä¸ªå®¹å™¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«äº† Headersâ€‹ å’Œæ­£æ–‡ã€‚\n@PostMapping(&quot;/accounts&quot;)public void handle(HttpEntity&lt;Account&gt; entity) &#123;     entity.getBody();     entity.getHeaders();&#125;\n\n@ResponseBodyå¯ä»¥ä½¿ç”¨ @ResponseBodyâ€‹ æ³¨è§£å°†è¯·æ±‚æ­£æ–‡é€šè¿‡ HttpMessageConverterâ€‹ åºåˆ—åŒ–å¹¶å‘é€ã€‚\n@GetMapping(&quot;/accounts/&#123;id&#125;&quot;)@ResponseBodypublic Account handle() &#123;    // ...&#125;\n\nResponseEntityä¸ @ResponseBodyâ€‹ ç±»ä¼¼ï¼Œä½†å¯ä»¥æ·»åŠ çŠ¶æ€å’Œæ ‡é¢˜ã€‚\n@GetMapping(&quot;/something&quot;)public ResponseEntity&lt;String&gt; handle() &#123;    String body = ... ;    String etag = ... ;    return ResponseEntity.ok().eTag(etag).build(body);&#125;\n\nSpringMVCæ–‡ä»¶ä¸Šä¼ \nè·¨åŸŸé…ç½®@CrossOriginè¯¥æ³¨è§£å…è®¸è¯·æ±‚è·¨åŸŸï¼Œæ”¯æŒåœ¨ç±»å’Œæ–¹æ³•ä¸Šä½¿ç”¨ï¼Œé»˜è®¤æƒ…å†µä¸‹ @CrossOriginâ€‹ å…è®¸ï¼š\n\næ‰€æœ‰ originsâ€‹\næ‰€æœ‰ headersâ€‹\næ‰€æœ‰ httpâ€‹ æ–¹æ³•\n\n@RestController@RequestMapping (&quot;/account&quot;)Public class AccountController &#123;    @CrossOrigin    @GetMapping (&quot;/&#123;id&#125;&quot;)    Public Account retrieve (@PathVariable Long id) &#123;        // ...    &#125;    @DeleteMapping (&quot;/&#123;id&#125;&quot;)    Public void remove (@PathVariable Long id) &#123;        // ...    &#125;&#125;\n\nå…¨å±€é…ç½®é»˜è®¤æƒ…å†µä¸‹ï¼Œå…è®¸å¦‚ä¸‹è·¨åŸŸè¯·æ±‚ï¼š\n\næ‰€æœ‰ originsâ€‹\næ‰€æœ‰ headersâ€‹\nâ€‹GETâ€‹ï¼ŒHEADâ€‹ å’Œ POSTâ€‹ æ–¹æ³•ã€‚\n\nè¦ä¿®æ”¹å…¨å±€é…ç½®å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ javaâ€‹ æˆ– xmlâ€‹ æ–¹å¼ã€‚\n@Configuration@EnableWebMvcPublic class WebConfig implements WebMvcConfigurer &#123;    @Override    Public void addCorsMappings (CorsRegistry registry) &#123;        Registry.AddMapping (&quot;/api/**&quot;)            .allowedOrigins (&quot; http://domain2.com&quot; )            .allowedMethods (&quot;PUT&quot;, &quot;DELETE&quot;)            .allowedHeaders (&quot;header 1&quot;, &quot;header 2&quot;, &quot;header 3&quot;)            .exposedHeaders (&quot;header 1&quot;, &quot;header 2&quot;)            .allowCredentials (true). MaxAge (3600);        // Add more mappings...    &#125;&#125;\n\n&lt;mvc:cors&gt;    &lt;mvc: mapping path=&quot;/api/**&quot;        allowed-origins=&quot; http://domain1.com , http://domain2.com&quot;        Allowed-methods=&quot;GET, PUT&quot;        Allowed-headers=&quot;header 1, header 2, header 3&quot;        Exposed-headers=&quot;header 1, header 2&quot; allow-credentials=&quot;true&quot;        Max-age=&quot;123&quot; /&gt;    &lt;mvc: mapping path=&quot;/resources/**&quot;        allowed-origins=&quot; http://domain1.com&quot; /&gt;&lt;/mvc:cors&gt;\n\nCORS è¿‡æ»¤å™¨è¿˜å¯ä»¥é€šè¿‡æ·»åŠ è¿‡æ»¤å™¨çš„æ–¹å¼å®ç°è·¨åŸŸã€‚\n@BeanPublic CorsFilter corsFilter () &#123;      CorsConfiguration config = new CorsConfiguration ();    // Possibly...    // config.ApplyPermitDefaultValues ()    Config.SetAllowCredentials (true);    config.AddAllowedOrigin (&quot; http://domain1.com&quot; );    Config.AddAllowedHeader (&quot;*&quot;);    Config.AddAllowedMethod (&quot;*&quot;);    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource ();    Source.RegisterCorsConfiguration (&quot;/**&quot;, config);    CorsFilter filter = new CorsFilter (source);    Return filter;&#125;"},{"title":"vscodeä¸­çš„task.jsonå’Œlaunch.jsonæ–‡ä»¶.md","url":"/2022/01/13/vscode%E4%B8%AD%E7%9A%84task.json%E5%92%8Claunch.json%E6%96%87%E4%BB%B6/","content":"åœ¨ä½¿ç”¨ vscode ç¼–å†™é¡¹ç›®çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™èƒ½çœ‹åˆ°ä¸€ä¸ªåä¸º .vscode çš„æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ä¿å­˜çš„å°±æ˜¯è·Ÿ vscode ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¯¥é…ç½®æ–‡ä»¶ä»…å¯¹å½“å‰é¡¹ç›®æœ‰æ•ˆã€‚å…¶ä¸­ task.json å’Œ launch.json æ˜¯ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„æ–‡ä»¶ï¼Œå‰è€…ä¸»è¦ç”¨äºç”Ÿæˆç¨‹åºï¼ˆå¦‚ä½¿ç”¨ gcc å‘½ä»¤ç¼–è¯‘æºç ï¼‰ï¼Œåè€…ç”¨äºç¨‹åºçš„è°ƒè¯•ã€‚\ntask. json\nåœ¨ task.json æ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š\n&#123;    &quot;tasks&quot;: [        &#123;            &quot;type&quot;: &quot;cppbuild&quot;,            &quot;label&quot;: &quot;build&quot;,            &quot;command&quot;: &quot;D:\\\\scoop\\\\apps\\\\mingw\\\\current\\\\bin\\\\gcc.exe&quot;,            &quot;args&quot;: [                &quot;-fdiagnostics-color=always&quot;,                &quot;-g&quot;,                &quot;$&#123;file&#125;&quot;,                &quot;-o&quot;,                &quot;$&#123;fileDirname&#125;\\\\$&#123;fileBasenameNoExtension&#125;.exe&quot;            ],            &quot;options&quot;: &#123;                &quot;cwd&quot;: &quot;$&#123;fileDirname&#125;&quot;            &#125;,            &quot;group&quot;: &#123;                &quot;kind&quot;: &quot;build&quot;,                &quot;isDefault&quot;: true            &#125;,            &quot;detail&quot;: &quot;è°ƒè¯•å™¨ç”Ÿæˆçš„ä»»åŠ¡ã€‚&quot;        &#125;,    ],    &quot;version&quot;: &quot;2.0.0&quot;&#125;\n\nç‚¹å‡» ç»ˆç«¯-&gt;è¿è¡Œä»»åŠ¡-&gt;buildï¼Œvscode å°†ä¼šè¯»å–ä¸Šè¿°é…ç½®æ–‡ä»¶ï¼Œå¹¶æ ¹æ®é…ç½®æ–‡ä»¶ç¼–è¯‘å½“å‰æ‰“å¼€çš„æ–‡ä»¶ï¼Œå¦‚ main.cã€‚\n\n\nä»ç»ˆç«¯è¾“å‡ºçš„ç»“æœå¯ä»¥çœ‹åˆ°ä»»åŠ¡ build æ‰§è¡Œäº†ï¼Œå¹¶ä¸”å¯ä»¥çœ‹åˆ°å®é™…æ‰§è¡Œçš„å‘½ä»¤ã€‚\n\ntask.json æ›´è¯¦ç»†çš„å‚æ•°ä»‹ç», å¯æŸ¥çœ‹ï¼šTasks in Visual Studio Code\nlaunch. jsonlaunch.json å¯ä»¥é…ç½®è°ƒè¯•ç›¸å…³çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬åœ¨è¯¥æ–‡ä»¶ä¸­é…ç½®ä¸‰ä¸ªä¸åŒçš„è°ƒè¯•é…ç½®ï¼Œé‚£ä¹ˆåœ¨ vscode è°ƒè¯•ç•Œé¢åˆ™å¯ä»¥çœ‹åˆ°æˆ‘ä»¬é…ç½®ã€‚\n&#123;    &quot;version&quot;: &quot;0.2.0&quot;,    &quot;configurations&quot;: [        &#123;            &quot;name&quot;: &quot;js è°ƒè¯•&quot;,            &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;/$&#123;fileBasename&#125;&quot;,            &quot;request&quot;: &quot;launch&quot;,            &quot;skipFiles&quot;: [                &quot;&lt;node_internals&gt;/**&quot;            ],            &quot;type&quot;: &quot;node&quot;        &#125;,        &#123;            &quot;name&quot;: &quot;python è°ƒè¯•&quot;,            &quot;type&quot;: &quot;python&quot;,            &quot;request&quot;: &quot;launch&quot;,            &quot;program&quot;: &quot;$&#123;file&#125;&quot;,            &quot;console&quot;: &quot;integratedTerminal&quot;,            &quot;justMyCode&quot;: true        &#125;,        &#123;            &quot;name&quot;: &quot;c è°ƒè¯•&quot;,            &quot;type&quot;: &quot;cppdbg&quot;,            &quot;request&quot;: &quot;launch&quot;,            &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;/$&#123;fileBasenameNoExtension&#125;.exe&quot;,            &quot;args&quot;: [],            &quot;stopAtEntry&quot;: false,            &quot;cwd&quot;: &quot;$&#123;fileDirname&#125;&quot;,            &quot;environment&quot;: [],            &quot;externalConsole&quot;: false,            &quot;MIMode&quot;: &quot;gdb&quot;,            &quot;miDebuggerPath&quot;: &quot;gdb&quot;,        &#125;    ]&#125;\n\n\nä½¿ç”¨ c è°ƒè¯• åˆ™å¯ä»¥ç”¨æ¥è°ƒè¯• cdebug.c ç¨‹åºï¼Œpythonè°ƒè¯• èƒ½ç”¨æ¥è°ƒè¯• pydebug.py ç¨‹åºã€‚\n\n\nlaunch.json æ›´è¯¦ç»†çš„å‚æ•°ä»‹ç»å¯æŸ¥çœ‹ï¼šDebugging in Visual Studio Code\n","categories":["vscodeé…ç½®"],"tags":["vscode","å·¥å…·"]},{"title":"ucoreæ“ä½œç³»ç»Ÿå®éªŒ-lab1-ç»ƒä¹ 5.md","url":"/2023/06/10/ucore%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E9%AA%8C-lab1-%E7%BB%83%E4%B9%A05/","content":"\næˆ‘ä»¬éœ€è¦åœ¨ lab1 ä¸­å®Œæˆ kdebug.c ä¸­å‡½æ•° print_stackframe çš„å®ç°ï¼Œå¯ä»¥é€šè¿‡å‡½æ•° print_stackframe æ¥è·Ÿè¸ªå‡½æ•°è°ƒç”¨å †æ ˆä¸­è®°å½•çš„è¿”å›åœ°å€ã€‚åœ¨å¦‚æœèƒ½å¤Ÿæ­£ç¡®å®ç°æ­¤å‡½æ•°ï¼Œå¯åœ¨ lab1 ä¸­æ‰§è¡Œ â€œmake qemuâ€åï¼Œåœ¨ qemu æ¨¡æ‹Ÿå™¨ä¸­å¾—åˆ°ç±»ä¼¼å¦‚ä¸‹çš„è¾“å‡ºï¼š\nâ€¦â€¦ebp:0x00007b28 eip:0x00100992 args:0x00010094 0x00010094 0x00007b58 0x00100096    kern&#x2F;debug&#x2F;kdebug.c:305: print_stackframe+22ebp:0x00007b38 eip:0x00100c79 args:0x00000000 0x00000000 0x00000000 0x00007ba8    kern&#x2F;debug&#x2F;kmonitor.c:125: mon_backtrace+10ebp:0x00007b58 eip:0x00100096 args:0x00000000 0x00007b80 0xffff0000 0x00007b84    kern&#x2F;init&#x2F;init.c:48: grade_backtrace2+33ebp:0x00007b78 eip:0x001000bf args:0x00000000 0xffff0000 0x00007ba4 0x00000029    kern&#x2F;init&#x2F;init.c:53: grade_backtrace1+38ebp:0x00007b98 eip:0x001000dd args:0x00000000 0x00100000 0xffff0000 0x0000001d    kern&#x2F;init&#x2F;init.c:58: grade_backtrace0+23ebp:0x00007bb8 eip:0x00100102 args:0x0010353c 0x00103520 0x00001308 0x00000000    kern&#x2F;init&#x2F;init.c:63: grade_backtrace+34ebp:0x00007be8 eip:0x00100059 args:0x00000000 0x00000000 0x00000000 0x00007c53    kern&#x2F;init&#x2F;init.c:28: kern_init+88ebp:0x00007bf8 eip:0x00007d73 args:0xc031fcfa 0xc08ed88e 0x64e4d08e 0xfa7502a8\n\næ ¹æ®è¾“å‡ºæ ·ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“åœ¨ print_stackframe è¦åšçš„çš„æ˜¯æŠŠéå†å½“å‰çš„å‡½æ•°æ ˆï¼Œå¹¶æ‰“å°æ¯ä¸ªæ ˆä¸­çš„ ebpã€eip å’Œå‡½æ•°ä¸­çš„å‚æ•°ã€‚\nvoidprint_stackframe(void) &#123;     /* LAB1 YOUR CODE : STEP 1 */     /* (1) call read_ebp() to get the value of ebp. the type is (uint32_t);      * (2) call read_eip() to get the value of eip. the type is (uint32_t);      * (3) from 0 .. STACKFRAME_DEPTH      *    (3.1) printf value of ebp, eip      *    (3.2) (uint32_t)calling arguments [0..4] = the contents in address (uint32_t)ebp +2 [0..4]      *    (3.3) cprintf(&quot;\\n&quot;);      *    (3.4) call print_debuginfo(eip-1) to print the C calling function name and line number, etc.      *    (3.5) popup a calling stackframe      *           NOTICE: the calling funciton&#x27;s return addr eip  = ss:[ebp+4]      *                   the calling funciton&#x27;s ebp = ss:[ebp]      */    // è¯»å–ebpå’Œeip    uint32_t ebp = read_ebp(), eip = read_eip();        int i, j;    // éå†æ ˆ    for (i = 0; ebp != 0 &amp;&amp; i &lt; STACKFRAME_DEPTH; i ++) &#123;                // æ‰“å° ebp eip        cprintf(&quot;ebp:0x%08x eip:0x%08x args:&quot;, ebp, eip);                // æ‰“åº”å‚æ•°        uint32_t *args = (uint32_t *)ebp + 2;        for (j = 0; j &lt; 4; j ++) &#123;            cprintf(&quot;0x%08x &quot;, args[j]);        &#125;        cprintf(&quot;\\n&quot;);        print_debuginfo(eip - 1);        // åˆ‡æ¢æ ˆä¿¡æ¯        eip = ((uint32_t *)ebp)[1];        ebp = ((uint32_t *)ebp)[0];    &#125;&#125;","categories":["ucoreæ“ä½œç³»ç»Ÿå®éªŒ"]},{"title":"springboot 3 è‡ªåŠ¨è£…é…æ–¹å¼æ›´æ”¹.md","url":"/2023/04/25/springboot%203%20%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E6%96%B9%E5%BC%8F%E6%9B%B4%E6%94%B9/","content":"é—®é¢˜æè¿°åœ¨å¼€å‘è¿‡ç¨‹ä¸­ç”¨åˆ°äº† mybatis-plusï¼Œå¯åŠ¨æ—¶çˆ†å‡ºå¦‚ä¸‹é”™è¯¯ï¼Œå› æ€€ç–‘æ˜¯ springboot å’Œ mybatis-plus ç‰ˆæœ¬ä¸å…¼å®¹æ‰€è‡´ï¼Œå°† springboot ä» 3 ç‰ˆæœ¬è°ƒè‡³äº† 2 ç‰ˆæœ¬ï¼Œé‡å¯åå‘ç°æ­£å¸¸å¯åŠ¨ã€‚\n\nè§£å†³æ–¹æ³•ç½‘ä¸Šæœç´¢ä¹‹åè¿”ç°åŸå› æ˜¯ springboot æ›´æ”¹äº†å¯åŠ¨æ—¶çš„è‡ªåŠ¨è£…é…æ–¹å¼ï¼Œåœ¨ 2.7 ç‰ˆæœ¬å°±ä¸æ¨èä½¿ç”¨ spring.factories çš„æ–¹å¼è¿›è¡Œè‡ªåŠ¨è£…é…äº†ï¼Œåœ¨ springboot 3 å°†å½»åº•ç§»é™¤å¯¹ /META-INF/spring.factories çš„æ”¯æŒã€‚\n\næ ¹æ® springboot 2.7 çš„ç‰ˆæœ¬è¯´æ˜ï¼šSpring Boot 2.7 Release Notes Â· spring-projects&#x2F;spring-boot Wiki Â· GitHubï¼Œå¯ä»¥å¾—çŸ¥è‡ªåŠ¨é…ç½®çš„æ–‡ä»¶è¢«ç§»åŠ¨åˆ°äº† META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports ä¸­ï¼Œæ–‡ä»¶æ ¼å¼æ˜¯æ¯è¡Œå†™ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»ã€‚\n\norg.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfigurationorg.springframework.boot.autoconfigure.aop.AopAutoConfigurationorg.springframework.boot.autoconfigure.amqp.RabbitAutoConfigurationorg.springframework.boot.autoconfigure.batch.BatchAutoConfigurationorg.springframework.boot.autoconfigure.cache.CacheAutoConfiguration\n\nå‚è€ƒèµ„æ–™\nspring.factoriesè¦è¢«å¼ƒç”¨äº†ï¼Œå¿«æ¥Getæ–°å†™æ³•ï¼-Springä¸“åŒºè®ºå›-æŠ€æœ¯å¹²è´§-SpringForAllç¤¾åŒº\n\n","categories":["é—®é¢˜è®°å½•"],"tags":["springboot","é—®é¢˜"]},{"title":"docker å¸¸ç”¨æ“ä½œ.md","url":"/2023/04/18/docker%20%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/","content":"é•œåƒæ“ä½œè·å–é•œåƒdocker pull [é€‰é¡¹] [Docker Registry åœ°å€[:ç«¯å£å·]/]ä»“åº“å[:æ ‡ç­¾]\n\n\nDocker é•œåƒä»“åº“åœ°å€ï¼šæ ¼å¼ä¸€èˆ¬æ˜¯ &lt;åŸŸå/IP&gt;[:ç«¯å£å·]ï¼Œé»˜è®¤åœ°å€æ˜¯ Docker Hub (docker.io)ï¼›\nä»“åº“åï¼šæ ¼å¼ä¸€èˆ¬ä¸º &lt;ç”¨æˆ·å&gt;/&lt;è½¯ä»¶å&gt;ï¼Œå¯¹äº Docker Hubï¼Œå¦‚æœä¸ç»™å‡ºç”¨æˆ·åï¼Œåˆ™é»˜è®¤ä¸º libraryï¼Œä¹Ÿå°±æ˜¯å®˜æ–¹é•œåƒã€‚\n\nåˆ—å‡ºé•œåƒdocker image ls\n\n\nè¯¥å‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰é•œåƒçš„ä¿¡æ¯ï¼ŒåŒ…å«äº† ä»“åº“åã€æ ‡ç­¾ã€é•œåƒ IDã€åˆ›å»ºæ—¶é—´ ä»¥åŠ æ‰€å ç”¨çš„ç©ºé—´ã€‚\næŸ¥çœ‹é•œåƒä½“ç§¯åº”ä¸º docker ä¸­çš„é•œåƒæ˜¯åˆ†å±‚å­˜å‚¨çš„ï¼Œä¸åŒçš„é•œåƒå¯èƒ½ä½¿ç”¨äº†åŒä¸€å±‚çš„å†…å®¹ï¼Œæ‰€ä»¥ docker é•œåƒå ç”¨çš„ç©ºé—´å¹¶ä¸æ˜¯ä¸Šé¢æ¯ä¸ªé•œåƒå ç”¨ç©ºé—´çš„ç®€å•åŠ å’Œï¼Œå¦‚æœæƒ³è¦çŸ¥é“é•œåƒå ç”¨çš„å®é™…ç©ºé—´ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ã€‚\ndocker system df\n\n\næ‚¬æµ®é•œåƒæœ‰æ—¶å€™åœ¨é•œåƒåˆ—è¡¨ä¸­ä¼šå‡ºç°ä»“åº“åå’Œæ ‡ç­¾åä¸º &lt;none&gt; çš„é•œåƒï¼Œè¿™æ˜¯ç”±äºæ–°æ—§é•œåƒåŒåï¼Œæ—§é•œåƒåç§°è¢«å–æ¶ˆï¼Œåƒè¿™ç§æ— æ ‡ç­¾é•œåƒä¹Ÿè¢«ç§°ä¸ºè™šæ‚¬é•œåƒï¼Œä»¥ä¸‹æƒ…å†µå¯èƒ½ä¼šå‡ºç°æ‚¬æµ®é•œåƒï¼š\n\nå®˜æ–¹å¯¹é•œåƒè¿›è¡Œäº†ç»´æŠ¤ï¼Œä¹‹åä½¿ç”¨ docker pull æ‹‰å–é•œåƒï¼›\nä½¿ç”¨ docker build å‘½ä»¤æ„å»ºäº†æ–°çš„åŒåé•œåƒã€‚\n\nREPOSITORY      TAG           IMAGE ID         CREATED          SIZE&lt;none&gt;          &lt;none&gt;        00285df0df87     5 days ago       342 MB\n\ndocker image ls -f dangling=true  å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ‚¬æµ®é•œåƒã€‚ä¸€èˆ¬æ¥è¯´æ‚¬æµ®æƒŠé†’å·²ç»æ²¡æœ‰ä»»ä½•çš„ä½¿ç”¨ä»·å€¼ï¼Œå¯ä»¥é€šè¿‡ docker image prune å‘½ä»¤è¿›è¡Œåˆ é™¤ã€‚\nä¸­é—´å±‚é•œåƒç”±äºé•œåƒæ˜¯åˆ†å±‚å­˜å‚¨çš„ï¼Œæœ‰æ—¶å€™æ‹‰å–é¡¶å±‚é•œåƒçš„æ—¶å€™ä¼šå­˜åœ¨ä¸€äº›ä¸­é—´é•œåƒï¼Œè¿™äº›é•œåƒä¸ä¼šå†åˆ—è¡¨ä¸­å‡ºç°ï¼Œä½†æ˜¯å¯¹äºé¡¶å±‚é•œåƒæ¥è¯´æ˜¯å¿…é¡»çš„ã€‚åŒæ—¶å› ä¸ºè¿™äº›ä¸­é—´é•œåƒæ˜¯ä¼šé‡å¤åˆ©ç”¨çš„ï¼Œåªç”¨åˆ é™¤é¡¶å±‚é•œåƒï¼Œå®ƒä¾èµ–çš„ä¸­é—´é•œåƒä¹Ÿä¼šè¢«åˆ é™¤ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ä¸å¿…æ‹…å¿ƒä¸­é—´é•œåƒå ç”¨å­˜å‚¨ç©ºé—´ã€‚å¦‚æœå¸Œæœ›æŸ¥çœ‹ä¸­é—´é•œåƒï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š\n$ docker image ls -a\n\nåˆ—å‡ºæŒ‡å®šé•œåƒdocker image ls ubuntu\n$ REPOSITORY          TAG                 IMAGE ID            CREATED             SIZEubuntu              18.04               329ed837d508        3 days ago          63.3MBubuntu              bionic              329ed837d508        3 days ago          63.3MB\n\n$ docker image ls ubuntu:18.04REPOSITORY          TAG                 IMAGE ID            CREATED             SIZEubuntu              18.04               329ed837d508        3 days ago          63.3MB\n\n\nå¯ä»¥ä½¿ç”¨ --filter è¿‡æ»¤å™¨ï¼Œæ¯”å¦‚è¦æŸ¥çœ‹ mongo:3.2 ä¹‹åå»ºç«‹çš„é•œåƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\n\n$ docker image ls -f since=mongo:3.2REPOSITORY          TAG                 IMAGE ID            CREATED             SIZEredis               latest              5f515359c7f8        5 days ago          183 MBnginx               latest              05a60462f8ba        5 days ago          181 MB\n\næƒ³æŸ¥çœ‹æŸä¸ªä½ç½®ä¹‹å‰çš„é•œåƒä¹Ÿå¯ä»¥ï¼Œåªéœ€è¦æŠŠ since æ¢æˆ before å³å¯ã€‚æ­¤å¤–ï¼Œå¦‚æœé•œåƒæ„å»ºæ—¶ï¼Œå®šä¹‰äº† LABELï¼Œè¿˜å¯ä»¥é€šè¿‡ LABEL æ¥è¿‡æ»¤ã€‚\n$ docker image ls -f label=com.example.version=0.1\n\nä»¥ç‰¹å®šæ ¼å¼æ˜¾ç¤º\nåªæ˜¾ç¤º id\n\n$ docker image ls -q5f515359c7f805a60462f8bafe9198c04d6200285df0df87329ed837d508329ed837d508\n\n\nè‡ªå®šä¹‰æ ¼å¼ï¼Œæ ¼å¼ä½¿ç”¨ go è¯­è¨€æ¨¡æ¿\n\n$ docker image ls --format &quot;&#123;&#123;.ID&#125;&#125;: &#123;&#123;.Repository&#125;&#125;&quot;5f515359c7f8: redis05a60462f8ba: nginxfe9198c04d62: mongo00285df0df87: &lt;none&gt;329ed837d508: ubuntu329ed837d508: ubuntu\n\nåˆ é™¤é•œåƒdocker image rm [é€‰é¡¹] &lt;é•œåƒ1&gt; [&lt;é•œåƒ2&gt; ...]\n\nå…¶ä¸­ï¼Œ&lt;é•œåƒ&gt; å¯ä»¥æ˜¯ é•œåƒçŸ­ IDã€é•œåƒé•¿ IDã€é•œåƒå æˆ–è€… é•œåƒæ‘˜è¦ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼é…åˆ docker image ls åˆ é™¤å¤šä¸ªé•œåƒã€‚\n$ docker image rm $(docker image ls -q redis)\n\nå®¹å™¨æ“ä½œæ–°å»ºå¹¶å¯åŠ¨æ–°å»ºå®¹å™¨çš„å‘½ä»¤å¦‚ä¸‹ï¼Œå¯ä»¥æŒ‡å®šå®¹å™¨ä¸­æ‰§è¡Œçš„ç¨‹åºä»¥åŠæ‰€éœ€çš„å‚æ•°ã€‚\ndocker run ubuntu:18.04 /bin/echo &#x27;Hello world&#x27;\n\nå½“åˆ©ç”¨ docker run æ¥åˆ›å»ºå®¹å™¨æ—¶ï¼ŒDocker åœ¨åå°è¿è¡Œçš„æ ‡å‡†æ“ä½œåŒ…æ‹¬ï¼š\n\næ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„é•œåƒï¼Œä¸å­˜åœ¨å°±ä» registry ä¸‹è½½\nåˆ©ç”¨é•œåƒåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªå®¹å™¨\nåˆ†é…ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶åœ¨åªè¯»çš„é•œåƒå±‚å¤–é¢æŒ‚è½½ä¸€å±‚å¯è¯»å†™å±‚\nä»å®¿ä¸»ä¸»æœºé…ç½®çš„ç½‘æ¡¥æ¥å£ä¸­æ¡¥æ¥ä¸€ä¸ªè™šæ‹Ÿæ¥å£åˆ°å®¹å™¨ä¸­å»\nä»åœ°å€æ± é…ç½®ä¸€ä¸ª ip åœ°å€ç»™å®¹å™¨\næ‰§è¡Œç”¨æˆ·æŒ‡å®šçš„åº”ç”¨ç¨‹åº\næ‰§è¡Œå®Œæ¯•åå®¹å™¨è¢«ç»ˆæ­¢\n\nå¦‚æœæƒ³è¦å’Œå®¹å™¨ä¸­è¿è¡Œçš„ç¨‹åºè¿›è¡Œäº¤äº’ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š\ndocker run -t -i ubuntu:18.04 /bin/bashroot@af8bae53bdd3:/#\n\n\n-t é€‰é¡¹è®© Docker åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-ttyï¼‰å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Šï¼›\n-i åˆ™è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€ã€‚\n\nå¯åŠ¨å·²ç»å­˜åœ¨çš„å®¹å™¨docker container start\n\nåå°è¿è¡Œ\né»˜è®¤æƒ…å†µä¸‹å®¹å™¨çš„è¾“å‡ºä¼šç›´æ¥åœ¨å‰å°ç°å®ï¼Œ-d å‚æ•°ç”¨æ¥è®©å®¹å™¨åœ¨åå°è¾“å‡ºã€‚\n\næ­¤æ—¶ä¼šè¿”å›ä¸€ä¸ª å®¹å™¨IDï¼Œå¦‚æœæƒ³è¦æŸ¥çœ‹å®¹å™¨çš„è¾“å‡ºå†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ docker container logs å‘½ä»¤ã€‚\n\nè¾“å‡ºå†…å®¹ä½¿ç”¨ docker logs æ¥æŸ¥çœ‹ã€‚\n$ docker run -d ubuntu:18.04 /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;77b2dc01fe0f3f1265df143181e7b9af5e05279a884f4776ee75350ea9d8017a\n\nç»ˆæ­¢å®¹å™¨docker container stop å®¹å™¨ID\n\n\nç»ˆæ­¢åè¿”å›å®¹å™¨å¯¹åº”çš„ IDã€‚\nåˆ—å‡ºå®¹å™¨docker container ls\n\nå¦‚æœæƒ³è¦åˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨ -a å‚æ•°ï¼š\ndocker container ls -a\n\n\né‡å¯å®¹å™¨æ”¹å‘½ä»¤ä¼šå°†ä¸€ä¸ªè¿è¡Œæ€çš„å®¹å™¨ç»ˆæ­¢ï¼Œç„¶åå†é‡æ–°å¯åŠ¨å®ƒã€‚\ndocker container restart å®¹å™¨ID\n\nè¿›å…¥å®¹å™¨å½“å®¹å™¨åå°è¿è¡Œæ—¶ï¼Œæœ‰æ—¶å€™éœ€è¦é‡æ–°è¿›å…¥åˆ°å®¹å™¨ä¸­è¿›è¡Œä¸€äº›æ“ä½œï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ docker exec å‘½ä»¤ã€‚\né¦–å…ˆåˆ›å»ºä¸€ä¸ªåå°è¿è¡Œçš„ ubuntu å®¹å™¨ã€‚\n\né€šè¿‡å¦‚ä¸‹å‘½ä»¤å¯ä»¥è¿›å…¥åˆ°è¯¥å®¹å™¨ä¸­è¿›è¡Œä¸€äº›æ“ä½œï¼š\ndocker exec -it d63a bash\n\n\n-t å’Œ -i å‚æ•°çš„å«ä¹‰å’Œ docker run ä¸­çš„å‚æ•°å«ä¹‰æ˜¯ä¸€æ ·çš„ã€‚\nåˆ é™¤å®¹å™¨docker container rm å®¹å™¨ID\n\n\nç±»ä¼¼äºé•œåƒæ“ä½œï¼Œä½¿ç”¨ docker container prune å¯ä»¥æ¸…ç†æ‰æ‰€æœ‰å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ã€‚\næŸ¥çœ‹å®¹å™¨è¯¦æƒ…docker container inspect å®¹å™¨ID\n\n\næ•°æ®æ“ä½œæ•°æ®å·å®¹å™¨ä¸­æ‰€æœ‰çš„æ•°æ®çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨æ˜¯ä¸€è‡´çš„ï¼Œä¾‹å¦‚æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ª MySQL å®¹å™¨ï¼Œå½“ç§»é™¤è¯¥å®¹å™¨åæ‰€æœ‰å­˜å‚¨çš„æ•°æ®éƒ½å°†ä¼šæ¶ˆå¤±ã€‚æ•°æ®å·æä¾›äº†ä¸€ç§å°†æ•°æ®å’Œå®¹å™¨åˆ†ç¦»çš„æœºåˆ¶ï¼Œç±»ä¼¼äº Linux ä¸­çš„æ–‡ä»¶æŒ‚è½½ï¼Œæ•°æ®å­˜åœ¨äºç¡¬ç›˜ä¸­ï¼Œè€Œç¡¬ç›˜å’Œæ“ä½œç³»ç»Ÿä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹äº†ï¼Œè¿™é‡Œçš„æ•°æ®å·å°±å¯ä»¥çœ‹åšæ˜¯ç¡¬ç›˜ã€‚\nåˆ›å»ºæ•°æ®å·docker volume create æ•°æ®å·åç§°\n\n\næŸ¥çœ‹æ•°æ®å·docker volume ls å¯ä»¥æŸ¥çœ‹ç›®å‰å­˜åœ¨çš„æ‰€æœ‰æ•°æ®å·ï¼Œå¦‚æœæƒ³è¦æŸ¥çœ‹æ•°æ®å·çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ docker volume inspect æ•°æ®å·åç§°ã€‚\n\n\nå¯ä»¥çœ‹åˆ°æ•°æ®å·æœ¬è´¨ä¸Šå°±æ˜¯ /var/lib/docker/volumes/ ç›®å½•ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚\næŒ‚è½½æ•°æ®å·åœ¨åˆ›å»ºå®¹å™¨çš„æ—¶å€™ä½¿ç”¨ --mount å‚æ•°å¯ä»¥ç”¨æ¥æŒ‚è½½æ•°æ®å·ï¼Œ\n\nåœ¨æŒ‚åœ¨ç›®å½• /testdata ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶ååœ¨ä¸»æœºç›®å½•ä¸‹çš„ /var/lib/docker/volumes/mydata/_data ç›®å½•ä¸­å¯ä»¥çœ‹åˆ°æ–‡ä»¶ test.txtï¼Œå³åœ¨å®¹å™¨ä¸­åˆ›å»ºçš„é‚£ä¸ªæ–‡ä»¶ã€‚\n\n\nä½¿ç”¨ docker container inspect å‘½ä»¤æŸ¥çœ‹å®¹å™¨ä¿¡æ¯ï¼Œå¯ä»¥åœ¨ Mounts é¡¹ä¸­çœ‹åˆ°å®¹å™¨æŒ‚è½½çš„æ‰€æœ‰æ•°æ®å·ã€‚\n\nåˆ é™¤æ•°æ®å·docker volume rm æ•°æ®å·åç§°\n\næ•°æ®å·çš„å­˜åœ¨ä¼šå ç”¨ä¸»æœºçš„å­˜å‚¨ç©ºé—´ï¼Œæ‰€ä»¥å½“æ•°æ®å·ä¸åœ¨ä½¿ç”¨æ—¶å°½é‡å°†å…¶åˆ é™¤ï¼Œä½¿ç”¨ $ docker volume prune å‘½ä»¤å¯ä»¥åˆ é™¤æ‰€æœ‰æ²¡æœ‰è¢«æŒ‚è½½çš„æ•°æ®å·ã€‚\næŒ‚è½½ä¸»æœºç›®å½•æœ‰æ—¶å€™æƒ³è¦æŒ‚è½½çš„æ•°æ®ä¸ä¸€å®šæ˜¯å®¹å™¨ç”Ÿæˆçš„ï¼Œæˆ–è€…æ›´ç›´ç™½çš„ä¸€ç‚¹è¯´ï¼Œæƒ³è¦æŠŠä¸»æœºä¸­å·²ç»å­˜åœ¨çš„æ•°æ®æŒ‚è½½åˆ°å®¹å™¨ä¸Šï¼Œä½¿ç”¨ --mount å‚æ•°ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„ï¼ŒåŒæ—¶å¯ä»¥ä½¿ç”¨ readonly è®¾ç½®ä¸ºåªè¯»ã€‚\n--mount type=bind,source=/src/webapp,target=/usr/share/nginx/html,readonly \n\nç½‘ç»œé…ç½®ç«¯å£æ˜ å°„å®¹å™¨ä¸­æœ‰æ—¶å€™ä¼šè¿è¡Œä¸€äº›ç½‘ç»œåº”ç”¨ï¼Œå¦‚ web æœåŠ¡å™¨ï¼Œé‚£ä¹ˆå°±éœ€è¦èƒ½å¤Ÿä»å¤–éƒ¨è®¿é—®åˆ°è¿™äº›ç½‘ç»œåº”ç”¨ï¼Œåœ¨ docker ä¸­æ˜¯é€šè¿‡ç«¯å£æ˜ å°„å®ç°çš„ã€‚\ndocker run å‘½ä»¤æœ‰ä¸¤ä¸ªå‚æ•°å¯ä»¥ç”¨äºç«¯å£æ˜ å°„ï¼š\n\n-P å‚æ•°éšæœºæ˜ å°„ä¸»æœºç«¯å£åˆ°å†…éƒ¨å®¹å™¨å¼€æ–¹çš„ç«¯å£ï¼›\n-p åˆ™å¯ä»¥æŒ‡å®šè¦æ˜ å°„çš„ç«¯å£ï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ªæŒ‡å®šç«¯å£ä¸Šåªå¯ä»¥ç»‘å®šä¸€ä¸ªå®¹å™¨ã€‚\n\n-p å‚æ•°æ”¯æŒçš„æ ¼å¼æœ‰ä¸ºï¼š\nip:hostPort:containerPort | ip::containerPort | hostPort:containerPort\n\n\n-p 80:80ï¼šå°†æ‰€æœ‰æ¥å£ä¸Šçš„ 80 ç«¯å£éƒ½æ˜ å°„çš„å®¹å™¨çš„ 80 ç«¯å£ï¼›\n-p 127.0.0.1:80:80ï¼šå°†æ‰€æœ‰æ¥å£ 127.0.0.1 ä¸Šçš„ 80 ç«¯å£æ˜ å°„çš„å®¹å™¨çš„ 80 ç«¯å£ï¼›\n-p 127.0.0.1::80ï¼šå°†æ‰€æœ‰æ¥å£ 127.0.0.1 ä¸Šçš„éšæœºä¸€ä¸ªç«¯å£æ˜ å°„çš„å®¹å™¨çš„ 80 ç«¯å£ï¼›\n-p 127.0.0.1:80:80/udpï¼šå°†æ‰€æœ‰æ¥å£ 127.0.0.1 ä¸Šçš„ 80 ç«¯å£æ˜ å°„çš„å®¹å™¨çš„ 80 ç«¯å£ï¼Œä¸è¿‡ä½¿ç”¨çš„æ˜¯ udp ç«¯å£ã€‚\n\nå‘½ä»¤ docker port å¯ä»¥æŸ¥çœ‹æ˜ å°„çš„ç«¯å£ã€‚\n\nè¿æ¥å®¹å™¨å®¹å™¨äº’è”çš„ä½œç”¨æ˜¯ä½¿çš„åŒä¸€ä¸ªä¸»æœºä¸Šçš„å®¹å™¨å¯ä»¥å®ç°ç›¸äº’è®¿é—®ï¼Œç¬¬ä¸€æ­¥æ˜¯å…ˆåˆ›å»ºä¸€ä¸ª docker ç½‘ç»œï¼Œä½¿ç”¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š\ndocker network create -d bridge my-net\n\nä¹‹ååˆ›å»ºå®¹å™¨çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ --network å‚æ•°æŒ‡å®šå®¹å™¨ä½¿ç”¨çš„ç½‘ç»œï¼š\n\nä¸‹é¢ä½¿ç”¨å®ä¾‹å±•ç¤ºä¸¤è€…ä¹‹é—´çš„é€šä¿¡ï¼š\n\n\nå…¶ä»–æ“ä½œå®¹å™¨å¼€æœºè‡ªå¯è®¾ç½®å®¹å™¨å¼€æœºè‡ªå¯ä¸»è¦æœ‰ä¸¤æ­¥ï¼Œè®¾ç½® docker æœåŠ¡å¼€æœºè‡ªå·±ï¼Œä»¥åŠå®¹å™¨æœ¬èº«è‡ªåŠ¨é‡å¯ã€‚åœ¨ Ubuntu ä¸­è®¾ç½® docker è‡ªå¯çš„å‘½ä»¤å¦‚ä¸‹ï¼š\nsudo systemctl enable docker.service\n\ndocker run å‘½ä»¤å…·æœ‰å‚æ•° --restartï¼Œç”¨äºè®¾ç½®å®¹å™¨çš„é‡å¯ç­–ç•¥ã€‚\n\n\n\nç­–ç•¥\næè¿°\n\n\n\nno\né»˜è®¤å€¼ï¼Œä¸ä¼šè‡ªåŠ¨é‡å¯ã€‚\n\n\non-failure\nå› ä¸ºé”™è¯¯é€€å‡ºå°±ä¼šé‡å¯ï¼Œé”™è¯¯é€€å‡ºæŒ‡é 0 é€€å‡ºç ã€‚\n\n\nalways\nåœæ­¢å°±ä¼šé‡å¯ã€‚å¦‚æœæ˜¯æ‰‹å·¥åœæ­¢ï¼Œåˆ™åœ¨ Docker daemon æˆ–å®¹å™¨æœ¬èº«é‡å¯æ—¶å¯åŠ¨ã€‚\n\n\nunless-stopped\nç±»ä¼¼äº alwaysï¼Œé™¤äº†å½“å®¹å™¨è¢«åœæ­¢ï¼Œå®ƒæ˜¯ä¸ä¼šé‡å¯çš„ã€‚\n\n\nå·²ç»åˆ›å»ºçš„å®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨ docker update å‘½ä»¤æ¥æ›´æ–°å®ƒçš„é‡å¯ç­–ç•¥ï¼š\ndocker update --restart always å®¹å™¨å \n\næƒé™è®¾ç½®\nåˆšå®‰è£…å¥½çš„ docker åœ¨ä½¿ç”¨æ—¶ä¼šæç¤ºæ²¡æœ‰æƒé™ï¼Œå¿…é¡»ä½¿ç”¨ sudo æ¥æ‰§è¡Œï¼Œè§£å†³æ–¹æ³•ä¸ºï¼š\n\næ·»åŠ  docker ç”¨æˆ·ç»„ï¼šsudo groupadd docker\nå°†å½“å‰ç”¨æˆ·æ·»åŠ è¿› docker ç”¨æˆ·ç»„ï¼šsudo gpasswd -a $&#123;USER&#125; docker\né‡å¯ docekrï¼šsudo systemctl restart docker\nä¿®æ”¹ docker.sock æ–‡ä»¶æƒé™ï¼šsudo chmod a+rw /var/run/docker.sock\n\nä¹‹åå†æ‰§è¡Œå‘½ä»¤å°±ä¸éœ€è¦æ·»åŠ  sudo äº†ï¼š\n\nå‚è€ƒèµ„æ–™\nDockerä»å…¥é—¨åˆ°å®è·µ\næ‰“ä¸æ­»çš„å°å¼ºï¼Œè®©Dockerçš„å®¹å™¨è‡ªåŠ¨é‡å¯ - å—ç“œæ…¢è¯´å®˜ç½‘\n\n","tags":["docker"]},{"title":"MySQLæ“ä½œ.md","url":"/2023/04/28/MySQL%E6%93%8D%E4%BD%9C/","content":"#todo\næ•°æ®åº“æ“ä½œ\nSHOW DATABASESï¼šç”¨äºæ˜¾ç¤ºå½“å‰å­˜åœ¨çš„æ•°æ®åº“ã€‚\n\n\nUSE [DATABASENAME]ï¼šåˆ‡æ¢æ•°æ®åº“ã€‚\n\n\nSHOW TABLESï¼šæŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­å­˜åœ¨çš„è¡¨ã€‚\n\n\nSHOW COLUMNS FROM [TABLENAME]ï¼šæ˜¾ç¤ºæŸä¸ªè¡¨çš„è¡¨å¤´ã€‚\n\n\nåˆ›å»ºæ•°æ®åº“\n\n\nåˆ é™¤æ•°æ®åº“\n\n\n\næ•°æ®ç±»å‹æ•°å€¼ç±»å‹\n\n\nç±»å‹\nå¤§å°\nèŒƒå›´ï¼ˆæœ‰ç¬¦å·ï¼‰\nèŒƒå›´ï¼ˆæ— ç¬¦å·ï¼‰\nç”¨é€”\n\n\n\nTINYINT\n1 byte\n(-128ï¼Œ127)\n(0ï¼Œ255)\nå°æ•´æ•°å€¼\n\n\nSMALLINT\n2 bytes\n(-32 768ï¼Œ32 767)\n(0ï¼Œ65 535)\nå¤§æ•´æ•°å€¼\n\n\nMEDIUMINT\n3 bytes\n(-8 388 608ï¼Œ8 388 607)\n(0ï¼Œ16 777 215)\nå¤§æ•´æ•°å€¼\n\n\nINT æˆ– INTEGER\n4 bytes\n(-2 147 483 648ï¼Œ2 147 483 647)\n(0ï¼Œ4 294 967 295)\nå¤§æ•´æ•°å€¼\n\n\nBIGINT\n8 bytes\n(-9,223,372,036,854,775,808ï¼Œ9 223 372 036 854 775 807)\n(0ï¼Œ18 446 744 073 709 551 615)\næå¤§æ•´æ•°å€¼\n\n\nFLOAT\n4 bytes\n(-3.402 823 466 E+38ï¼Œ-1.175 494 351 E-38)ï¼Œ0ï¼Œ(1.175 494 351 E-38ï¼Œ3.402 823 466 351 E+38)\n0ï¼Œ(1.175 494 351 E-38ï¼Œ3.402 823 466 E+38)\nå•ç²¾åº¦ æµ®ç‚¹æ•°å€¼\n\n\nDOUBLE\n8 bytes\n(-1.797 693 134 862 315 7 E+308ï¼Œ-2.225 073 858 507 201 4 E-308)ï¼Œ0ï¼Œ(2.225 073 858 507 201 4 E-308ï¼Œ1.797 693 134 862 315 7 E+308)\n0ï¼Œ(2.225 073 858 507 201 4 E-308ï¼Œ1.797 693 134 862 315 7 E+308)\nåŒç²¾åº¦ æµ®ç‚¹æ•°å€¼\n\n\nDECIMAL\nå¯¹ DECIMAL(M,D)ï¼Œå¦‚æœ M&gt;Dï¼Œä¸º M+2 å¦åˆ™ä¸º D+2\nä¾èµ–äº M å’Œ D çš„å€¼\nä¾èµ–äº M å’Œ D çš„å€¼\nå°æ•°å€¼\n\n\næ—¶é—´ç±»å‹\n\n\nç±»å‹\nå¤§å° ( bytes)\nèŒƒå›´\næ ¼å¼\nç”¨é€”\n\n\n\nDATE\n3\n1000-01-01&#x2F;9999-12-31\nYYYY-MM-DD\næ—¥æœŸå€¼\n\n\nTIME\n3\nâ€˜-838:59:59â€™&#x2F;â€˜838:59:59â€™\nHH:MM:SS\næ—¶é—´å€¼æˆ–æŒç»­æ—¶é—´\n\n\nYEAR\n1\n1901&#x2F;2155\nYYYY\nå¹´ä»½å€¼\n\n\nDATETIME\n8\n1000-01-01 00:00:00&#x2F;9999-12-31 23:59:59\nYYYY-MM-DD HH:MM:SS\næ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼\n\n\nTIMESTAMP\n4\n1970-01-01 00:00:00&#x2F;2038 ç»“æŸæ—¶é—´æ˜¯ç¬¬ 2147483647 ç§’ï¼ŒåŒ—äº¬æ—¶é—´ 2038-1-19 11:14:07ï¼Œæ ¼æ—å°¼æ²»æ—¶é—´ 2038 å¹´ 1 æœˆ 19 æ—¥ å‡Œæ™¨ 03:14:07\nYYYYMMDD HHMMSS\næ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼ï¼Œæ—¶é—´æˆ³\n\n\nå­—ç¬¦åˆ›ç±»å‹\n\n\nç±»å‹\nå¤§å°\nç”¨é€”\n\n\n\nCHAR\n0-255 bytes\nå®šé•¿å­—ç¬¦ä¸²\n\n\nVARCHAR\n0-65535 bytes\nå˜é•¿å­—ç¬¦ä¸²\n\n\nTINYBLOB\n0-255 bytes\nä¸è¶…è¿‡ 255 ä¸ªå­—ç¬¦çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²\n\n\nTINYTEXT\n0-255 bytes\nçŸ­æ–‡æœ¬å­—ç¬¦ä¸²\n\n\nBLOB\n0-65 535 bytes\näºŒè¿›åˆ¶å½¢å¼çš„é•¿æ–‡æœ¬æ•°æ®\n\n\nTEXT\n0-65 535 bytes\né•¿æ–‡æœ¬æ•°æ®\n\n\nMEDIUMBLOB\n0-16 777 215 bytes\näºŒè¿›åˆ¶å½¢å¼çš„ä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ®\n\n\nMEDIUMTEXT\n0-16 777 215 bytes\nä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ®\n\n\nLONGBLOB\n0-4 294 967 295 bytes\näºŒè¿›åˆ¶å½¢å¼çš„æå¤§æ–‡æœ¬æ•°æ®\n\n\nLONGTEXT\n0-4 294 967 295 bytes\næå¤§æ–‡æœ¬æ•°æ®\n\n\nè¡¨çš„æ“ä½œåˆ›å»ºè¡¨CREATE TABLE table_name (    column_name column_type,    column_name column_type,    column_name column_type,    column_name column_type);\n\n\nè¡¨ä¸å­˜åœ¨æ—¶åˆ›å»ºCREATE TABLE IF NOT EXISTS table_name (column_name column_type) \n\nä½¿ç”¨ NULL å€¼é»˜è®¤æƒ…å†µä¸‹å…è®¸ç©ºå€¼ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­å¥æ˜¾ç¤ºè®¾ç½®ã€‚\nCREATE TABLE IF NOT EXISTS table_name (column_name column_type NULL) \n\nç¦ç”¨ç©ºå€¼CREATE TABLE IF NOT EXISTS table_name (column_name column_type NOT NULL) \n\nä¸»é”®MySQL ä¸­ä¸»é”®çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œæ‰€ä»¥ä¸»é”®ä¸å…è®¸æ˜¯ç©ºå€¼ã€‚\nCREATE TABLE IF NOT EXISTS table_name (                                        column_name column_type NOT NULLï¼Œ                                        PRIMARY KEY (key_1, key_2)                                      );\n\nè®¾ç½®è‡ªå¢æ¯å½“æ–°æ·»åŠ ä¸€è¡Œæ—¶ï¼Œè®¾ç½®äº† AUTO_INCREMENT çš„å­—æ®µä¼šè‡ªåŠ¨å¢åŠ ï¼Œæ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªè‡ªå¢å­—æ®µè€Œä¸”å¿…é¡»è¢«ç´¢å¼•ã€‚\nCREATE TABLE IF NOT EXISTS table_name (column_name column_type NOT NULL AUTO_INCREMENT) \n\næŒ‡å®šé»˜è®¤å€¼é»˜è®¤å€¼åªèƒ½è®¾ç½®ä¸ºå¸¸æ•°ï¼Œä¸æ”¯æŒè®¾ç½®ä¸ºå‡½æ•°ã€‚\nCREATE TABLE IF NOT EXISTS table_name (column_name column_type NOT NULL DEFAULT value)\n\nè®¾ç½®å¼•æ“CREATE TABLE table_name (                          column_name column_type,                          column_name column_type,                          column_name column_type,                          column_name column_type                        ) ENGINE=InnoDB;\n\n\næ›´æ–°è¡¨æ·»åŠ æ–°çš„åˆ—ALTER TABLE table_name ADD column_name column_type;\n\nåˆ é™¤åˆ—ALTER TABLE table_name DROP column_name;\n\nåˆ é™¤è¡¨DROP TABLE table_name;\n\n\né‡å‘½åè¡¨RENAME TABLE old_name TO new_name;\n\næ’å…¥æ•°æ®\nå‘è¡¨ä¸­æ’å…¥æ•°æ®\nINSERT INTO table_name VALUES ( value1, value2,...valueN );\n\nå‘æŒ‡å®šåˆ—æ’å…¥æ•°æ®ï¼š\nINSERT INTO table_name ( field1, field2,...fieldN )                       VALUES                       ( value1, value2,...valueN );\n\næ’å…¥å¤šè¡Œæ•°æ®ï¼š\nINSERT INTO table_name ( field1, field2,...fieldN )                       VALUES                       ( value1, value2,...valueN ),                       ( value1, value2,...valueN ),                       ( value1, value2,...valueN );\n\nä½¿ç”¨ INSERT SELECT:\nINSERT INTO table_name_1 ( field1, field2,...fieldN )                       SELECT field1, field2,...fieldN                        FROM table_name_2;\n\næ›´æ–°æ•°æ®UPDATE table_naem SET column_name=value WHEREè¯­å¥\n\n\n\nåˆ é™¤æ•°æ®DELETE FROM table_name WHEREè¯­å¥\n\næ£€ç´¢æ•°æ®æ£€ç´¢å•åˆ—æ•°æ®SELECT column_name FROM table_name;\n\n\næ£€ç´¢å¤šåˆ—æ•°æ®SELECT column_name_1, column_name_2 FROM table_name;\n\n\næ£€ç´¢æ‰€æœ‰åˆ—SELECT * FROM table_name;\n\n\næ£€ç´¢ä¸åŒè¡Œæœ‰çš„æƒ…å†µä¸‹å¤šè¡Œçš„æ•°æ®å¯èƒ½æ˜¯ç›¸åŒçš„ï¼Œæ¯”å¦‚ä¸‹é¢çš„ age,ç¬¬ä¸€è¡Œå’Œç¬¬ä¸‰è¡Œçš„æ•°æ®æ˜¯ä¸€æ ·çš„ï¼Œç¬¬äºŒè¡Œå’Œç¬¬å››è¡Œçš„æ•°æ®æ˜¯ä¸€æ ·çš„ã€‚\n\nå¦‚æœå¸Œæœ›åªæ˜¾ç¤ºå†…å®¹ä¸åŒçš„è¡Œï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ sql è¯­å¥ï¼š\nSELECT DISTINCT column_name FROM table_name;\n\n\nå¦‚æœæ£€ç´¢çš„æ˜¯å¤šåˆ—ï¼Œæ¯åˆ—å†…å®¹éƒ½ç›¸åŒæ‰ä¼šè§†ä¸ºç›¸åŒçš„è¡Œã€‚\n\né™åˆ¶ç»“æœè¡Œæ•°æœ‰æ—¶å€™æ£€ç´¢ç»“æœæ•°é‡æ¯”è¾ƒå¤šï¼Œå¦‚æœåªå¸Œæœ›æ˜¾ç¤ºå‰å‡ è¡Œï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¯­å¥ï¼š\nSELECT * FROM table_name LIMIT num;\n\n\n\nä¸Šé¢ sql è¯­å¥åªèƒ½é™åˆ¶æœç´¢ç»“æœæ˜¾ç¤ºè¡Œæ•°ï¼Œå¦‚æœå¸Œæœ›æŒ‡å®šç»“æœæ˜¾ç¤ºçš„èµ·å§‹ä½ç½®ï¼Œéœ€è¦ä½¿ç”¨ä¸‹é¢çš„è¯­å¥ï¼Œæ¯”å¦‚ä»ç¬¬äºŒè¡Œå¼€å§‹ï¼Œæ˜¾ç¤º 3 è¡Œæ•°æ®ã€‚\nSELECT * FROM table_name LIMIT num,num;\n\n\né™å®šè¡¨åSELECT table_name.column_name FROM table_name;\n\næ•°æ®æ’åºå•åˆ—æ’åºSELECT * FROM table_name ORDER BY column_name;\n\n\nå¤šåˆ—æ’åºSELECT * FROM table_name ORDER BY column_name_1, column_name_2;\n\n\næŒ‡å®šæ’åºæ–¹å‘é€šè¿‡åœ¨éœ€è¦æ’åºçš„åˆ—åæ·»åŠ  DESC å’Œ ASC å¯ä»¥æŒ‡å®šè¯¥åˆ—ä½¿ç”¨é™åºå’Œå‡åºæ’åˆ—ã€‚\n\nè¿‡æ»¤æ•°æ®ä½¿ç”¨ where å­å¥SELECT * FROM table_name WHERE column_name=value;\n\n\nwhere å­å¥æ”¯æŒçš„æ“ä½œç¬¦\nèŒƒå›´æ£€ç´¢SELECT * FROM table_name WHERE column_name BETWEEN value_1 AND value_2;\n\n\nç©ºå€¼æ£€ç´¢SELECT * FROM table_name WHERE column_name IS NULL;\n\nAND æ“ä½œç¬¦éœ€è¦æ·»åŠ å¤šä¸ªè¿‡æ»¤æ¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ AND æ“ä½œç¬¦ã€‚\nSELECT * FROM table_name WHERE column_name_1=value_1 AND column_name_2&gt;value_2;\n\n\nOR æ“ä½œç¬¦ä¸ AND ä½¿ç”¨æ–¹å¼ç›¸åŒï¼Œè¡¨ç¤ºæ»¡è¶³æ¡ä»¶ä¹‹ä¸€ã€‚\n\nå½“ ADN å’Œ OR åŒæ—¶ä½¿ç”¨çš„æ—¶å€™ AND çš„ä¼˜å…ˆçº§æ¯”è¾ƒé«˜ï¼Œæ‰€ä»¥å¿…è¦æ—¶åˆ»æ·»åŠ æ‹¬å·æ”¹å˜é»˜è®¤é¢„ç®—é¡ºåºã€‚\nIN æ“ä½œç¬¦SELECT * FROM table_name WHERE column_name IN (value_1, value_2);\n\n\nNOT æ“ä½œç¬¦NOT æ“ä½œç¬¦è¡¨ç¤ºå¦å®šåé¢çš„æ¡ä»¶ã€‚\nSELECT * FROM table_name WHERE NOT column_name=value;\n\n\nLIKE æ“ä½œç¬¦LIKE æ“ä½œç¬¦ç”¨æ¥è¿›è¡Œé€šé…ç¬¦è¿‡æ»¤ã€‚\nSELECT * FROM table_name WHERE column_name LIKE value;\n\n% é€šé…ç¬¦è¡¨ç¤ºä»»æ„å­—ç¬¦é‡å¤ä»»æ„æ¬¡ã€‚\n\n_ é€šé…ç¬¦åŒ¹é…å•ä¸ªå­—ç¬¦ã€‚\n\næ­£åˆ™è¡¨è¾¾å¼SELECT * FROM table_name WHERE column_name REGEXP value;\n\n\nOR| åˆ†å‰²æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¡¨ç¤º or çš„å«ä¹‰ï¼Œå¦‚ 1000|2000 è¡¨ç¤ºåŒ¹é… 1000 æˆ– 2000\n[][] è¡¨ç¤ºåŒ¹é…å­—ç¬¦ä¹‹ä¸€ï¼š\n\n[ab]c è¡¨ç¤ºåŒ¹é… ac æˆ– bcã€‚\n[0-9] åŒ¹é… 0~9 ä¹‹ä¸€ã€‚\n\nåŒ¹é…ç‰¹æ®Šå­—ç¬¦å¦‚æœè¦åŒ¹é… . ç¬¦å·ï¼Œéœ€è¦ä½¿ç”¨ \\\\.ï¼ŒåŒ¹é… \\ åˆ™éœ€è¦ \\\\\\ã€‚\n\nåŒ¹é…å­—ç¬¦ç±»\nåŒ¹é…å¤šä¸ªå®ä¾‹\nå®šä½ç¬¦\nè®¡ç®—å­—æ®µæ‹¼æ¥å­—æ®µæœ‰æ—¶å€™éœ€è¦çš„æ•°æ®åˆ†æ•£åœ¨è¡¨æ ¼çš„å¤šä¸ªå­—æ®µé‡Œï¼Œå¯ä»¥ä½¿ç”¨ CONCAT å‡½æ•°è¿›è¡Œæ‹¼æ¥ã€‚\nSELECT CONCAT(value_1, value_2) FROM table_name;\n\n\nå»é™¤ç©ºç™½RTrim å‡½æ•°ç”¨äºå»é™¤å³ä¾§ç©ºç™½ï¼Œç›¸åº”çš„ LTrim ç”¨äºå»é™¤å·¦ä¾§ç©ºç™½ï¼ŒTRim ç”¨äºå»é™¤ä¸¤ä¾§ç©ºç™½ã€‚\nä½¿ç”¨åˆ«åSELECT column_name AS new_name FROM table_name;\n\n\nç®—æ•°è®¡ç®—SELECT column_name_1 * column_name_2 AS new_name FROM table_name;\n\n\næ•°æ®å¤„ç†å‡½æ•°æ–‡æœ¬å¤„ç†å‡½æ•°\n\næ—¶é—´å’Œæ—¥æœŸå¤„ç†å‡½æ•°\næ•°å€¼å¤„ç†å‡½æ•°\nèšåˆå‡½æ•°\n\n\nèšåˆä¸åŒå€¼\næ•°æ®åˆ†ç»„åˆ›å»ºåˆ†ç»„\nè¿‡æ»¤åˆ†ç»„è¿‡æ»¤åˆ†ç»„ä½¿ç”¨çš„ HAVING å…³é”®å­—ï¼Œä½¿ç”¨æ–¹æ³•å’Œ WHERE å®Œå…¨ä¸€è‡´ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºå‰è€…ç”¨äºè¿‡æ»¤åˆ†ç»„ï¼Œåè€…ç”¨äºè¿‡æ»¤è¡Œã€‚\n\nselect å­å¥é¡ºåº\n\nå­æŸ¥è¯¢åˆ©ç”¨å­æŸ¥è¯¢è¿‡æ»¤\nä½œä¸ºè®¡ç®—å­—æ®µä½¿ç”¨å­æŸ¥è¯¢\nè”ç»“è¡¨å†…è”ç»“ç›´æ¥ä»å¤šä¸ªè¡¨ä¸­æŸ¥è¯¢æ˜¯ï¼ŒMySQL ä¼šç®€å•çš„åšå¤šå¼ è¡¨çš„ç¬›å¡å°”ç§¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ WHERE è¯­å¥è¿‡æ»¤åˆ›éœ€è¦çš„å†…å®¹ã€‚\n\nå¤–è”ç»“\nå†…è”ç»“ä¸å¤–è”ç»“çš„åŒºåˆ«åœ¨äºå†…è”ç»“åªä¼šä¿ç•™åŒ¹é…çš„å†…å®¹ï¼Œè€Œå¤–è¿æ¥ä¼šå°†ä¸»è¦è¡¨å†…çš„æ‰€æœ‰å†…å®¹ä¿ç•™ã€‚\nç»„åˆæŸ¥è¯¢UNION å¯ä»¥ç”¨æ¥ç»„åˆå¤šæ¡æŸ¥è¯¢è¯­å¥ã€‚\n\nçº¦æŸæ¦‚å¿µçº¦æŸæ˜¯ç”¨äºè§„å®šè¡¨ä¸­çš„æ•°æ®è§„åˆ™ï¼Œå¦‚æœå­˜åœ¨è¿åçº¦æŸçš„æ•°æ®è¡Œä¸ºï¼Œè¡Œä¸ºä¼šè¢«çº¦æŸç»ˆæ­¢ã€‚Mysql ä¸­çš„çº¦æŸæœ‰ä»¥ä¸‹å‡ ç§ï¼š\n\nä¸»é”®çº¦æŸ\nè‡ªå¢çº¦æŸ\nå¤–é”®çº¦æŸ\nå”¯ä¸€çº¦æŸ\néç©ºçº¦æŸ\né»˜è®¤çº¦æŸ\n\nä½¿ç”¨ä¸»é”®çº¦æŸä¸»é”®ä¸èƒ½é‡å¤ï¼Œä¹Ÿä¸å…è®¸ä¸ºç©ºï¼Œå¹¶ä¸”ä¸€ä¸ªè¡¨ä¸­åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ã€‚é€šå¸¸æƒ…å†µä¸‹ä¸ä¼šä½¿ç”¨ä¸šåŠ¡ä¸­çš„æ•°æ®ä½œä¸ºä¸»é”®ï¼Œå³ä½¿å®ƒæœ‰äº›æ—¶å€™ç¬¦åˆä¸»é”®çš„æ¡ä»¶ï¼ˆæ¯”å¦‚èº«ä»½è¯å·ï¼‰ï¼Œè€Œæ˜¯ä¼šåœ¨ä¸šåŠ¡æ•°æ®ä¹‹å¤–æ–°å¢ä¸€åˆ—æ•°æ®ä¸“é—¨ä½œä¸ºä¸»é”®ã€‚\nåˆ›å»ºè¡¨æ—¶æ·»åŠ ä¸»é”®çº¦æŸ-- æ ¼å¼&lt;å­—æ®µå&gt; &lt;æ•°æ®ç±»å‹&gt; PRIMARY KEY-- ç¤ºä¾‹CREATE TABLE è¡¨å (    id INT PRIMARY KEY,    name VARCHAR(20));\n\n-- æ ¼å¼[CONSTRAINT &lt;çº¦æŸå&gt;] PRIMARY KEY [å­—æ®µå]-- ç¤ºä¾‹CREATE TABLE è¡¨å (    id INT,    name VARCHAR(20),    PRIMARY KEY(id, name));\n\nåˆ›å»ºè¡¨ä¹‹åæ·»åŠ ä¸»é”®çº¦æŸ-- æ ¼å¼ALTER TABLE &lt;æ•°æ®è¡¨å&gt; ADD PRIMARY KEY(&lt;å­—æ®µå&gt;);\n\nåˆ é™¤ä¸»é”®ALTER TABLE &lt;æ•°æ®è¡¨å&gt; DROP PRIMARY KEY;\n\nè‡ªå¢çº¦æŸåœ¨ MySQL ä¸­ï¼Œå½“ä¸»é”®å®šä¹‰ä¸ºè‡ªå¢é•¿åï¼Œè¿™ä¸ªä¸»é”®çš„å€¼å°±ä¸å†éœ€è¦ç”¨æˆ·è¾“å…¥æ•°æ®äº†ï¼Œè€Œç”±æ•°æ®åº“ç³»ç»Ÿæ ¹æ®å®šä¹‰è‡ªåŠ¨èµ‹å€¼ã€‚æ¯å¢åŠ ä¸€æ¡è®°å½•ï¼Œä¸»é”®ä¼šè‡ªåŠ¨ä»¥ç›¸åŒçš„æ­¥é•¿è¿›è¡Œå¢é•¿ã€‚\n\né»˜è®¤æƒ…å†µä¸‹ï¼ŒAUTO_INCREMENT çš„åˆå§‹å€¼æ˜¯ 1ï¼Œæ¯æ–°å¢ä¸€æ¡è®°å½•ï¼Œå­—æ®µå€¼è‡ªåŠ¨åŠ  1ï¼›\nä¸€ä¸ªè¡¨ä¸­åªèƒ½æœ‰ä¸€ä¸ªå­—æ®µä½¿ç”¨ AUTO_INCREMENT çº¦æŸï¼Œä¸”è¯¥å­—æ®µå¿…é¡»æœ‰ç´¢å¼•ï¼›\nAUTO_INCREMENT çº¦æŸçš„å­—æ®µå¿…é¡»å…·å¤‡ NOT NULL å±æ€§ï¼›\nAUTO_INCREMENT çº¦æŸçš„å­—æ®µåªèƒ½æ˜¯æ•´æ•°ç±»å‹ï¼ˆTINYINTã€SMALLINTã€INTã€BIGINT ç­‰ï¼‰ï¼›\nAUTO_INCREMENT çº¦æŸå­—æ®µçš„æœ€å¤§å€¼å—è¯¥å­—æ®µçš„æ•°æ®ç±»å‹çº¦æŸï¼Œå¦‚æœè¾¾åˆ°ä¸Šé™ï¼ŒAUTO_INCREMENT å°±ä¼šå¤±æ•ˆã€‚\n\nåˆ›å»ºè¡¨æ—¶æ·»åŠ è‡ªå¢-- æ ¼å¼&lt;å­—æ®µå&gt; &lt;æ•°æ®ç±»å‹&gt; AUTO_INCREMENT-- ç¤ºä¾‹CREATE TABLE tb_student(    id INT(4) PRIMARY KEY AUTO_INCREMENT,    name VARCHAR(25) NOT NULL);\n\nåˆ›å»ºè¡¨åæ·»åŠ è‡ªå¢ALTER TABLE &lt;è¡¨åç§°&gt; modify &lt;å­—æ®µå&gt; &lt;æ•°æ®ç±»å‹&gt; auto_increment;\n\nåˆ é™¤è‡ªå¢ALTER TABLE &lt;è¡¨åç§°&gt; modify &lt;å­—æ®µå&gt; &lt;æ•°æ®ç±»å‹&gt;;\n\nè®¾ç½®è‡ªå¢åˆå§‹å€¼CREATE TABLE tablename (    -- å­—æ®µ --) AUTO_INCREMENT=100;\n\nå¤–é”®çº¦æŸMySQL å¤–é”®çº¦æŸï¼ˆFOREIGN KEYï¼‰æ˜¯è¡¨çš„ä¸€ä¸ªç‰¹æ®Šå­—æ®µï¼Œç»å¸¸ä¸ä¸»é”®çº¦æŸä¸€èµ·ä½¿ç”¨ã€‚å¯¹äºä¸¤ä¸ªå…·æœ‰å…³è”å…³ç³»çš„è¡¨è€Œè¨€ï¼Œç›¸å…³è”å­—æ®µä¸­ä¸»é”®æ‰€åœ¨çš„è¡¨å°±æ˜¯ä¸»è¡¨ï¼ˆçˆ¶è¡¨ï¼‰ï¼Œå¤–é”®æ‰€åœ¨çš„è¡¨å°±æ˜¯ä»è¡¨ï¼ˆå­è¡¨ï¼‰ã€‚\nå¤–é”®ç”¨æ¥å»ºç«‹ä¸»è¡¨ä¸ä»è¡¨çš„å…³è”å…³ç³»ï¼Œä¸ºä¸¤ä¸ªè¡¨çš„æ•°æ®å»ºç«‹è¿æ¥ï¼Œçº¦æŸä¸¤ä¸ªè¡¨ä¸­æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªå°å­¦åªæœ‰ 1 åˆ° 6 å¹´çºªï¼Œé‚£å­¦ç”Ÿä¿¡æ¯ä¸­å¹´çº§ä¹Ÿåªèƒ½æ˜¯ 1 åˆ° 6ï¼Œä¸èƒ½æ˜¯å…¶å®ƒçš„å€¼ã€‚\nä¸»è¡¨åˆ é™¤æŸæ¡è®°å½•æ—¶ï¼Œä»è¡¨ä¸­ä¸ä¹‹å¯¹åº”çš„è®°å½•ä¹Ÿå¿…é¡»æœ‰ç›¸åº”çš„æ”¹å˜ã€‚ä¸€ä¸ªè¡¨å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå¤–é”®ï¼Œå¤–é”®å¯ä»¥ä¸ºç©ºå€¼ï¼Œè‹¥ä¸ä¸ºç©ºå€¼ï¼Œåˆ™æ¯ä¸€ä¸ªå¤–é”®çš„å€¼å¿…é¡»ç­‰äºä¸»è¡¨ä¸­ä¸»é”®çš„æŸä¸ªå€¼ã€‚\nå®šä¹‰å¤–é”®æ—¶ï¼Œéœ€è¦éµå®ˆä¸‹åˆ—è§„åˆ™ï¼š\n\nä¸»è¡¨å¿…é¡»å·²ç»å­˜åœ¨äºæ•°æ®åº“ä¸­ï¼Œæˆ–è€…æ˜¯å½“å‰æ­£åœ¨åˆ›å»ºçš„è¡¨ã€‚å¦‚æœæ˜¯åä¸€ç§æƒ…å†µï¼Œåˆ™ä¸»è¡¨ä¸ä»è¡¨æ˜¯åŒä¸€ä¸ªè¡¨ï¼Œè¿™æ ·çš„è¡¨ç§°ä¸ºè‡ªå‚ç…§è¡¨ï¼Œè¿™ç§ç»“æ„ç§°ä¸ºè‡ªå‚ç…§å®Œæ•´æ€§ã€‚\nå¿…é¡»ä¸ºä¸»è¡¨å®šä¹‰ä¸»é”®ã€‚\nä¸»é”®ä¸èƒ½åŒ…å«ç©ºå€¼ï¼Œä½†å…è®¸åœ¨å¤–é”®ä¸­å‡ºç°ç©ºå€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦å¤–é”®çš„æ¯ä¸ªéç©ºå€¼å‡ºç°åœ¨æŒ‡å®šçš„ä¸»é”®ä¸­ï¼Œè¿™ä¸ªå¤–é”®çš„å†…å®¹å°±æ˜¯æ­£ç¡®çš„ã€‚\nåœ¨ä¸»è¡¨çš„è¡¨ååé¢æŒ‡å®šåˆ—åæˆ–åˆ—åçš„ç»„åˆã€‚è¿™ä¸ªåˆ—æˆ–åˆ—çš„ç»„åˆå¿…é¡»æ˜¯ä¸»è¡¨çš„ä¸»é”®æˆ–å€™é€‰é”®ã€‚\nå¤–é”®ä¸­åˆ—çš„æ•°ç›®å¿…é¡»å’Œä¸»è¡¨çš„ä¸»é”®ä¸­åˆ—çš„æ•°ç›®ç›¸åŒã€‚\nå¤–é”®ä¸­åˆ—çš„æ•°æ®ç±»å‹å¿…é¡»å’Œä¸»è¡¨ä¸»é”®ä¸­å¯¹åº”åˆ—çš„æ•°æ®ç±»å‹ç›¸åŒã€‚\n\nåˆ›å»ºè¡¨æ—¶è®¾ç½®å¤–é”®-- æ ¼å¼[CONSTRAINT &lt;å¤–é”®å&gt;] FOREIGN KEY å­—æ®µå [ï¼Œå­—æ®µå2ï¼Œâ€¦] REFERENCES &lt;ä¸»è¡¨å&gt; ä¸»é”®åˆ—1 [ï¼Œä¸»é”®åˆ—2ï¼Œâ€¦]\n\nåˆ›å»ºè¡¨åæ·»åŠ å¤–é”®ALTER TABLE &lt;æ•°æ®è¡¨å&gt; ADD CONSTRAINT &lt;å¤–é”®å&gt;FOREIGN KEY(&lt;åˆ—å&gt;) REFERENCES &lt;ä¸»è¡¨å&gt; (&lt;åˆ—å&gt;);\n\nåˆ é™¤å¤–é”®ALTER TABLE &lt;è¡¨å&gt; DROP FOREIGN KEY &lt;å¤–é”®çº¦æŸå&gt;;\n\nå”¯ä¸€çº¦æŸå”¯ä¸€çº¦æŸï¼ˆUnique Keyï¼‰æ˜¯æŒ‡æ‰€æœ‰è®°å½•ä¸­å­—æ®µçš„å€¼ä¸èƒ½é‡å¤å‡ºç°ã€‚ä¾‹å¦‚ï¼Œä¸º id å­—æ®µåŠ ä¸Šå”¯ä¸€æ€§çº¦æŸåï¼Œæ¯æ¡è®°å½•çš„ id å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä¸èƒ½å‡ºç°é‡å¤çš„æƒ…å†µã€‚å¦‚æœå…¶ä¸­ä¸€æ¡è®°å½•çš„ id å€¼ä¸ºâ€˜0001â€™ï¼Œé‚£ä¹ˆè¯¥è¡¨ä¸­å°±ä¸èƒ½å‡ºç°å¦ä¸€æ¡è®°å½•çš„ id å€¼ä¹Ÿä¸ºâ€˜0001â€™ã€‚\nå”¯ä¸€çº¦æŸä¸ä¸»é”®çº¦æŸç›¸ä¼¼çš„æ˜¯å®ƒä»¬éƒ½å¯ä»¥ç¡®ä¿åˆ—çš„å”¯ä¸€æ€§ã€‚ä¸åŒçš„æ˜¯ï¼Œå”¯ä¸€çº¦æŸåœ¨ä¸€ä¸ªè¡¨ä¸­å¯æœ‰å¤šä¸ªï¼Œå¹¶ä¸”è®¾ç½®å”¯ä¸€çº¦æŸçš„åˆ—å…è®¸æœ‰ç©ºå€¼ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªç©ºå€¼ã€‚è€Œä¸»é”®çº¦æŸåœ¨ä¸€ä¸ªè¡¨ä¸­åªèƒ½æœ‰ä¸€ä¸ªï¼Œä¸”ä¸å…è®¸æœ‰ç©ºå€¼ã€‚æ¯”å¦‚ï¼Œåœ¨ç”¨æˆ·ä¿¡æ¯è¡¨ä¸­ï¼Œä¸ºäº†é¿å…è¡¨ä¸­ç”¨æˆ·åé‡åï¼Œå¯ä»¥æŠŠç”¨æˆ·åè®¾ç½®ä¸ºå”¯ä¸€çº¦æŸã€‚\nåˆ›å»ºè¡¨æ—¶æ·»åŠ å”¯ä¸€çº¦æŸ&lt;å­—æ®µå&gt; &lt;æ•°æ®ç±»å‹&gt; UNIQUE\n\nåˆ›å»ºè¡¨åæ·»åŠ å”¯ä¸€çº¦æŸALTER TABLE &lt;æ•°æ®è¡¨å&gt; ADD CONSTRAINT &lt;å”¯ä¸€çº¦æŸå&gt; UNIQUE(&lt;åˆ—å&gt;);\n\nåˆ é™¤å”¯ä¸€çº¦æŸALTER TABLE &lt;è¡¨å&gt; DROP INDEX &lt;å”¯ä¸€çº¦æŸå&gt;;\n\né»˜è®¤å€¼é»˜è®¤å€¼ï¼ˆDefaultï¼‰çš„å®Œæ•´ç§°å‘¼æ˜¯â€œé»˜è®¤å€¼çº¦æŸï¼ˆDefault Constraintï¼‰â€ï¼Œç”¨æ¥æŒ‡å®šæŸåˆ—çš„é»˜è®¤å€¼ã€‚åœ¨è¡¨ä¸­æ’å…¥ä¸€æ¡æ–°è®°å½•æ—¶ï¼Œå¦‚æœæ²¡æœ‰ä¸ºæŸä¸ªå­—æ®µèµ‹å€¼ï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨ä¸ºè¿™ä¸ªå­—æ®µæ’å…¥é»˜è®¤å€¼ã€‚\nåˆ›å»ºè¡¨æ—¶æ·»åŠ é»˜è®¤å€¼&lt;å­—æ®µå&gt; &lt;æ•°æ®ç±»å‹&gt; DEFAULT &lt;é»˜è®¤å€¼&gt;;\n\nåˆ›å»ºè¡¨åæ·»åŠ å”¯ä¸€çº¦æŸALTER TABLE &lt;æ•°æ®è¡¨å&gt;CHANGE COLUMN &lt;å­—æ®µå&gt; &lt;æ•°æ®ç±»å‹&gt; DEFAULT &lt;é»˜è®¤å€¼&gt;;\n\nåˆ é™¤å”¯ä¸€çº¦æŸALTER TABLE &lt;æ•°æ®è¡¨å&gt;CHANGE COLUMN &lt;å­—æ®µå&gt; &lt;å­—æ®µå&gt; &lt;æ•°æ®ç±»å‹&gt; DEFAULT NULL;\n\néç©ºçº¦æŸéç©ºçº¦æŸï¼ˆNOT NULLï¼‰æŒ‡å­—æ®µçš„å€¼ä¸èƒ½ä¸ºç©ºã€‚å¯¹äºä½¿ç”¨äº†éç©ºçº¦æŸçš„å­—æ®µï¼Œå¦‚æœç”¨æˆ·åœ¨æ·»åŠ æ•°æ®æ—¶æ²¡æœ‰æŒ‡å®šå€¼ï¼Œæ•°æ®åº“ç³»ç»Ÿå°±ä¼šæŠ¥é”™ã€‚å¯ä»¥é€šè¿‡ CREATE TABLE æˆ– ALTER TABLE è¯­å¥å®ç°ã€‚åœ¨è¡¨ä¸­æŸä¸ªåˆ—çš„å®šä¹‰ååŠ ä¸Šå…³é”®å­— NOT NULL ä½œä¸ºé™å®šè¯ï¼Œæ¥çº¦æŸè¯¥åˆ—çš„å–å€¼ä¸èƒ½ä¸ºç©ºã€‚\nåˆ›å»ºè¡¨æ—¶æ·»åŠ éç©ºçº¦æŸ&lt;å­—æ®µå&gt; &lt;æ•°æ®ç±»å‹&gt; NOT NULL;\n\nåˆ›å»ºè¡¨åæ·»åŠ éç©ºçº¦æŸALTER TABLE &lt;æ•°æ®è¡¨å&gt;CHANGE COLUMN &lt;å­—æ®µå&gt;&lt;å­—æ®µå&gt; &lt;æ•°æ®ç±»å‹&gt; NOT NULL;\n\nåˆ é™¤å”¯ä¸€çº¦æŸALTER TABLE &lt;æ•°æ®è¡¨å&gt;CHANGE COLUMN &lt;å­—æ®µå&gt; &lt;å­—æ®µå&gt; &lt;æ•°æ®ç±»å‹&gt; NULL;\n\næ£€æŸ¥çº¦æŸæ£€æŸ¥çº¦æŸï¼ˆCHECKï¼‰æ˜¯ç”¨æ¥æ£€æŸ¥æ•°æ®è¡¨ä¸­å­—æ®µå€¼æœ‰æ•ˆæ€§çš„ä¸€ç§æ‰‹æ®µï¼Œå¯ä»¥é€šè¿‡ CREATE TABLE æˆ– ALTER TABLE è¯­å¥å®ç°ã€‚è®¾ç½®æ£€æŸ¥çº¦æŸæ—¶è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè®¾ç½®ï¼Œè¿™æ ·èƒ½å¤Ÿå‡å°‘æ— æ•ˆæ•°æ®çš„è¾“å…¥ã€‚\nåˆ›å»ºè¡¨æ—¶æ·»åŠ éç©ºçº¦æŸCHECK(&lt;æ£€æŸ¥çº¦æŸ&gt;)\n\nåˆ›å»ºè¡¨åæ·»åŠ éç©ºçº¦æŸALTER TABLE tb_emp7 ADD CONSTRAINT &lt;æ£€æŸ¥çº¦æŸå&gt; CHECK(&lt;æ£€æŸ¥çº¦æŸ&gt;)\n\nåˆ é™¤å”¯ä¸€çº¦æŸALTER TABLE &lt;æ•°æ®è¡¨å&gt; DROP CONSTRAINT &lt;æ£€æŸ¥çº¦æŸå&gt;;\n\näº‹åŠ¡\nå¼€å¯äº‹åŠ¡\nSTART TRANSACTION;\n\n\n\nå›æ»š\nROLLBACK;\n\næäº¤\nCOMMIT;\n\nè®¾ç½®å ä½ç‚¹\n  SAVEPOINT name;\n\n\nå›æ»šåˆ°å ä½ç‚¹\nROLLBACK TO name;\n\n\næ›´æ”¹é»˜è®¤æäº¤è¡Œä¸º\nSET autocommit=0;\n\nå…¨çƒåŒ–æŸ¥çœ‹æ”¯æŒçš„å­—ç¬¦é›†SHOW CHARACTER SET;\n\n\næ”¯æŒæ ¡å¯¹çš„åˆ—è¡¨SHOW COLLATION;\n\n\næŸ¥çœ‹å½“å‰å­—ç¬¦é›†åˆæ ¡å¯¹\n\nè®¾ç½®è¡¨çš„é»˜è®¤å­—ç¬¦é›†å’Œæ ¡å¯¹CREATE TABLE table_name (column_name column_type,                         column_name column_type,                         column_name column_type,                         column_name column_type)                         DEFUALT CHARATER SET utf8                         COLLATION utf8mb4_0900_ai_ci\n\næŒ‡å®šåˆ—çš„å­—ç¬¦é›†å’Œæ ¡å¯¹CREATE TABLE table_name (column_name column_type                         DEFUALT CHARATER SET utf8                         COLLATION utf8mb4_0900_ai_ci,                         column_name column_type)  \n\næŸ¥æ‰¾æ—¶è®¾ç½®å­—ç¬¦é›†SELECT * FROM table_name ORDER BY column_name COLLATE utf8mb4_0900_ai_ci;\n\nå®‰å…¨ç®¡ç†æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·USER mysql;SELECT user FROM user;\n\n\nåˆ›å»ºæ–°ç”¨æˆ·CREATE USER user_name IDENTIFIED BY &#x27;password&#x27;;\n\né‡å‘½åè´¦æˆ·RENAME old TO new;\n\nåˆ é™¤è´¦æˆ·DROP USER name;\n\næŸ¥çœ‹ç”¨æˆ·æƒé™SHOW GRANTS FOR name;\n\n\nè®¾ç½®è®¿é—®æƒé™GRANT SELECT ON test.* TO name;\n\n\n\n\næ’¤é”€è®¿é—®æƒé™REVOKE SELECT ON test.* FROM name;\n\nä¿®æ”¹å¯†ç \nè®¾ç½®å…¶å®ƒç”¨æˆ·å¯†ç \nSET PASSWORD FOR username = Password(&quot;password&quot;);\n\nè®¾ç½®è‡ªå·±å¯†ç \nSET PASSWORD = Password(&quot;password&quot;);\n\n"},{"title":"socketè¿æ¥ä¸å®‰å…¨çš„åŸå› .md","url":"/2022/12/19/socket%E8%BF%9E%E6%8E%A5%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E5%8E%9F%E5%9B%A0/","content":"å¤šä¸ªçº¿ç¨‹æ“ä½œ socket çš„æ—¶å€™æ˜¯å¯èƒ½å‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå¦‚ä¸‹é¢å›¾ç¤ºä¸­çš„å±•ç¤ºçš„é‚£æ ·ï¼Œå½“çº¿ç¨‹ 1 é€šè¿‡ socket è¿æ¥å‘æœåŠ¡å™¨å‘é€ä¿¡æ¯ï¼Œè¿™æ—¶å€™çº¿ç¨‹ 2 æ°å¥½é€šè¿‡ socket è¿æ¥åœ¨è¯»å–æœåŠ¡ç«¯çš„æ•°æ®ï¼Œé‚£ä¹ˆæœ¬è¯¥ç”±çº¿ç¨‹ 1 æ¥æ”¶å¹¶å¤„ç†çš„ä¿¡æ¯å°±è¢«çº¿ç¨‹ 2 è¯»å–åˆ°äº†ã€‚\n\nä¸‹é¢ä½¿ç”¨ä»£ç æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ï¼šâ€‹\n//æœåŠ¡ç«¯ä»£ç try ( ServerSocket serverSocket = new ServerSocket(1996))&#123;    // ç›‘å¬è¿æ¥è¯·æ±‚    Socket socket = serverSocket.accept();    // è·å–è¯·æ±‚ä¿¡æ¯    InputStream inputStream = socket.getInputStream();    byte[] bytes = new byte[10234];    int len = inputStream.read(bytes);    // æ‰“å°è¯·æ±‚ä¿¡æ¯    System.out.println(&quot;æ”¶åˆ°ä¿¡æ¯ï¼š&quot; + new String(bytes, 0, len));    // å†™å›å“åº”ä¿¡æ¯    OutputStream outputStream = socket.getOutputStream();    outputStream.write(&quot;æœåŠ¡ç«¯è¿”å›ä¿¡æ¯&quot;.getBytes());    Thread.sleep(10000000);&#125; catch (IOException | InterruptedException e) &#123;    throw new RuntimeException(e);&#125;\n\n//å®¢æˆ·ç«¯ä»£ç Socket socket = new Socket(&quot;127.0.0.1&quot;, 1996);// æ¨¡æ‹Ÿçº¿ç¨‹1new Thread(()-&gt;&#123;    try &#123;        //çº¿ç¨‹1å‘é€ä¿¡æ¯        socket.getOutputStream().write(&quot;çº¿ç¨‹1å‘é€çš„ä¿¡æ¯&quot;.getBytes());        // çº¿ç¨‹1è¿›è¡Œå…¶ä»–æ“ä½œ        Thread.sleep(5000);        byte[] bytes = new byte[10234];        int len = socket.getInputStream().read(bytes);        System.out.println(&quot;çº¿ç¨‹1æ”¶åˆ°çš„ä¿¡æ¯ï¼š&quot;+new String(bytes, 0 , len));    &#125; catch (IOException | InterruptedException e) &#123;        throw new RuntimeException(e);    &#125;&#125;).start();// æ¨¡æ‹Ÿçº¿ç¨‹2Thread.sleep(1000);byte[] bytes = new byte[10234];int len = socket.getInputStream().read(bytes);System.out.println(&quot;çº¿ç¨‹2æ”¶åˆ°çš„ä¿¡æ¯ï¼š&quot;+new String(bytes, 0 , len));\n\næœåŠ¡ç«¯çš„è¿è¡Œç»“æœä¸ºï¼šâ€‹\n\nå®¢æˆ·ç«¯è¿è¡Œç»“æœä¸ºï¼šâ€‹\n\nä»è¿è¡Œç»“æœä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œæœ¬è¯¥ç”±çº¿ç¨‹ 1 æ¥æ”¶çš„ä¿¡æ¯è¢«çº¿ç¨‹ 2 æ”¶åˆ°äº†ã€‚â€‹\n","tags":["è®¡ç®—æœºç½‘ç»œ"]},{"title":"SpringåŸºäºXMLçš„é…ç½®.md","url":"/2023/03/11/Spring%E5%9F%BA%E4%BA%8EXML%E7%9A%84%E9%85%8D%E7%BD%AE/","content":"åˆ›å»ºå®¹å™¨ClassPathXmlApplicationContext æ˜¯ ApplicationContext ç±»çš„ä¸€ä¸ªå®ç°ï¼Œç”¨æ¥åŠ è½½ xml é…ç½®æ–‡ä»¶ç”Ÿæˆå®¹å™¨ã€‚\nClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;classpath:/bean.xml&quot;);Object student = applicationContext.getBean(&quot;student&quot;);System.out.println(student.getClass());\n\nBean å®šä¹‰é…ç½®æ–‡ä»¶çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼Œå…¶ä¸­æ¯ä¸€ä¸ª bean æ ‡ç­¾éƒ½è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡çš„å®šä¹‰ï¼ŒSpring åˆ›å»ºå®¹å™¨çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å®šä¹‰çš„ beanï¼Œä¹‹åå¯ä»¥æ ¹æ® bean ä¸­çš„å„ç§ä¿¡æ¯åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;         &lt;bean id=&quot;hello&quot; class=&quot;com.chang.Car&quot;&gt;        &lt;property name=&quot;name&quot; value=&quot;Spring&quot;/&gt;    &lt;/bean&gt;&lt;/beans&gt;\n\nid å±æ€§æ¯ä¸€ä¸ª bean éƒ½æœ‰ä¸€ä¸ª id å±æ€§ï¼Œå®ƒæ˜¯ bean çš„å”¯ä¸€æ ‡è¯†ï¼Œå¯ä»¥é€šè¿‡ id å±æ€§ä»å®¹å™¨ä¸­è·å¾— beanï¼Œåœ¨åŒä¸€ä¸ªå®¹å™¨ä¸­æ‰€ç”¨çš„ id å±æ€§åº”è¯¥æ˜¯ä¸åŒçš„ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚å’Œé€šè¿‡ id è·å–å¯¹åº”çš„ beanã€‚\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;         &lt;bean id=&quot;student&quot; class=&quot;com.chang.bean.Student&quot;&gt;        &lt;property name=&quot;name&quot; value=&quot;chang&quot;/&gt;    &lt;/bean&gt;&lt;/beans&gt;\n\nObject student = applicationContext.getBean(&quot;student&quot;);\n\nå¦‚æœåœ¨ bean çš„å®šä¹‰ä¸­æ²¡æœ‰æŒ‡å®š id çš„åŒ–ï¼ŒSpring ä¼šåˆ†é…ä¸€ä¸ªé»˜è®¤çš„ id å±æ€§ç»™è¯¥ beanï¼Œä¾‹å¦‚ä¸‹é¢å®šä¹‰çš„ beanï¼ŒSpring ç»™ä»–çš„é»˜è®¤ id å¯èƒ½ä¸º com.liang.bean.Student#0ã€‚\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;         &lt;bean class=&quot;com.chang.bean.Student&quot;&gt;        &lt;property name=&quot;name&quot; value=&quot;chang&quot;/&gt;    &lt;/bean&gt;&lt;/beans&gt;\n\nclass å±æ€§bean æ ‡ç­¾ä¸­çš„ class å±æ€§å€¼ä¸ºä¸€ä¸ªå…¨ç±»åï¼Œå®ƒè¡¨ç¤ºè¯¥ bean çš„ç±»å‹ï¼Œä»å®¹å™¨ä¸­è·å– bean çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ç±»å‹æ¥è·å–ã€‚\nObject student = applicationContext.getBean(Student.class);\n\nname å±æ€§name å±æ€§å¯ä»¥ç”¨æ¥ä¸ª bean èµ·ä¸€ä¸ªæˆ–å¤šä¸ªåˆ«åï¼Œèµ·å¤šä¸ªåˆ«åçš„æ—¶å€™è¦ç”¨é€—å·ã€åˆ†å·æˆ–ç©ºæ ¼éš”å¼€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n&lt;bean name=&quot;studentBean bean&quot; class=&quot;com.liang.bean.StudentBean&quot;/&gt;\n\nalias å±æ€§alias æ ‡ç­¾ä¹Ÿå¯ä»¥ç”¨æ¥ç»™ bean èµ·åˆ«åï¼Œå…¶ä¸­ alias å±æ€§æ˜¯åˆ«åï¼Œname å±æ€§æ˜¯å¯¹åº”è¯¥åˆ«åçš„ bean çš„ idã€‚\n&lt;alias name=&quot;fromName&quot; alias=&quot;toName&quot;/&gt;\n\nå·¥å‚æ–¹æ³•åˆ›å»º Beanå‰æ–‡ä¸­å±•ç¤ºäº† bean æœ€é€šå¸¸çš„é…ç½®æ–¹æ³•ï¼Œä½¿ç”¨é‚£æ ·çš„é…ç½®æ—¶ï¼Œåˆ›å»º bean æ—¶å€™æ˜¯è°ƒç”¨äº†å¯¹åº”ç±»çš„æ„é€ æ–¹æ³•ã€‚\nåœ¨æœ‰äº›ä»£ç ä¸­ï¼Œä¸ºäº†å®ç°ç¨‹åºçš„ä½è€¦åˆï¼Œåˆ›å»ºå®ä¾‹çš„æ—¶å€™é€šå¸¸ä¸ä¼šç›´æ¥è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€äº›å·¥å‚æ–¹æ³•ï¼Œé’ˆå¯¹è¿™ç§æƒ…å†µï¼ŒSpring ä¹Ÿæä¾›äº†æ”¯æŒã€‚\né™æ€å·¥å‚æ–¹æ³•ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•åˆ›å»º bean å®ä¾‹æ—¶ï¼Œclass å±æ€§ä¹Ÿå¿…é¡»æŒ‡å®šï¼Œä½†æ­¤æ—¶ class å±æ€§å¹¶ä¸æ˜¯æŒ‡å®š bean çš„ç±»å‹ï¼Œè€Œæ˜¯è¯¥ bean å¯¹åº”çš„é™æ€å·¥å‚ç±»ï¼Œå› ä¸º Spring éœ€è¦çŸ¥é“æ˜¯ç”¨å“ªä¸ªå·¥å‚æ¥åˆ›å»º Bean å®ä¾‹ã€‚å¦å¤–ï¼Œè¿˜éœ€è¦ä½¿ç”¨ factory-method å±æ€§æ¥æŒ‡å®šé™æ€å·¥å‚æ–¹æ³•åï¼ŒSpring å°†è°ƒç”¨é™æ€å·¥å‚æ–¹æ³•ï¼Œæ¥è¿”å›ä¸€ä¸ª beanã€‚ä¸€æ—¦è·å¾—äº†æŒ‡å®š bean å®ä¾‹ï¼ŒSpring åé¢çš„å¤„ç†æ­¥éª¤ä¸é‡‡ç”¨æ™®é€šæ–¹æ³•åˆ›å»º bean å®ä¾‹åˆ™å®Œå…¨ä¸€æ ·ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•æ¥åˆ›å»º bean æ—¶ï¼Œè¿™ä¸ª factory-method å¿…é¡»è¦æ˜¯é™æ€çš„ã€‚\npublic class Car &#123;    private String name;    private int age;      public void setAge( int age) &#123;        this.age = age;    &#125;      public void setName(String name_) &#123;        this.name = name;    &#125;  &#125;\n\npublic class StaticFactory &#123;     public static Car getCar(String name) &#123;        Car car = new Car();        car.setName(name);        return car;   &#125; &#125;\n\nè¿™é‡Œ constructor-arg æ ‡ç­¾ç”¨äºæŒ‡å®šå·¥å‚æ–¹æ³•éœ€è¦çš„å‚æ•°ï¼Œproperty æ ‡ç­¾ç”¨äºæ³¨å…¥å±æ€§ï¼Œæ­¤å¤„ç®€å•çŸ¥é“ä½œç”¨å³åˆ»ï¼Œåé¢ä¼šå¯¹è¿™ä¸¤ä¸ªæ ‡ç­¾è¯¦ç»†å±•å¼€ã€‚\n&lt;bean id=&quot;car&quot; class=&quot;com.liang.StaticFactory&quot; factory-method=&quot;getCar&quot;&gt;     &lt;constructor-arg value=&quot;Maserati&quot;/&gt;     &lt;property name=&quot;age&quot; value=&quot;12&quot;/&gt;&lt;/bean&gt;\n\nå®ä¾‹å·¥å‚æ–¹æ³•æ—¢ç„¶æœ‰äº†é™æ€å·¥å‚æ–¹æ³•ï¼Œé‚£ä¹ˆå¿…ç„¶ä¼šæœ‰å®ä¾‹å·¥å‚æ–¹æ³•ï¼Œä¸¤è€…çš„åŒºåˆ«ä»…åœ¨äºå‰è€…æ–¹æ³•å±äºç±»ï¼Œåè€…æ–¹æ³•å±äºå¯¹è±¡å®ä¾‹ã€‚\npublic class Car &#123;    private String name;    private int age;      public void setAge( int age) &#123;        this.age = age;    &#125;      public void setName(String name_) &#123;        this.name = name;    &#125;  &#125;\n\npublic class CarFactory &#123;     public Car getCar(String name) &#123;        Car car = new Car();        car.setName(name);        return car;   &#125; &#125;\n\næ—¢ç„¶æ˜¯å®ä¾‹å·¥å‚æ–¹æ³•ï¼Œé‚£ä¹ˆé¦–å…ˆéœ€è¦åˆ›å»ºå‡ºå¯¹åº”çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢ç¬¬ä¸€è¡Œä¸­çš„å®šä¹‰ã€‚ä¹‹åå†æ­£çœŸå®šä¹‰ &#96;b\n&lt;bean id=&quot;carfactory&quot; class=&quot;com.liang.CarFactory&quot;&gt;&lt;/bean&gt;&lt;bean factory-bean=&quot;carfactory&quot; factory-method=&quot;getCar&quot;&gt;    &lt;constructor-arg value=&quot;Maserati&quot;/&gt;    &lt;property name=&quot;age&quot; value=&quot;12&quot;/&gt;&lt;/bean&gt;\n\nFactoryBeanSpring ä¸­æœ‰ä¸¤ç§ç±»å‹çš„ beanï¼Œä¸€ç§æ˜¯æ™®é€šçš„ beanï¼Œå¦ä¸€ç§æ˜¯å·¥å‚ beanï¼Œå³ FactoryBeanã€‚å·¥å‚ bean è·Ÿæ™®é€š bean ä¸åŒï¼Œå…¶è¿”å›çš„å¯¹è±¡ä¸æ˜¯æŒ‡å®šç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œè€Œæ˜¯è¯¥å·¥å‚ bean çš„ getObject æ–¹æ³•è¿”å›çš„å¯¹è±¡ã€‚\npublic interface FactortBean &#123;    //è¿”å›å®ä¾‹    Object getObject() throws Exception;    //è¿”å›ç±»å‹    class getObjectType();    //è¿”å›çš„å®ä¾‹æ˜¯å¦ä¸ºå•ä¾‹    boolean isSingleton();&#125;\n\nä¸Šé¢æ˜¯ FactoryBean æ¥å£ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹å®ƒçš„å…·ä½“ä½¿ç”¨ã€‚\npublic class Car &#123;    private String name;    private int age;    public void setAge( int age) &#123;        this.age = age;    &#125;      public void setName(String name_) &#123;        this.name = name;    &#125;  &#125;\n\npublic class CarFactoryBean implements FactoryBean&#123;    private String name;    private int age;      public void setAge( int age) &#123;        this.age = age;    &#125;      public void setName(String name_) &#123;        this.name = name;    &#125;      public Object getObject() throws Exception &#123;        Car car = new Car();        car.setName(this.name);        car.setAge(this.age);        return car;    &#125;       public Class&lt;?&gt; getObjectType() &#123;  //æ³¨æ„è¿™ä¸ªæ–¹æ³•ä¸»è¦ä½œç”¨æ˜¯ï¼šè¯¥æ–¹æ³•è¿”å›çš„ç±»å‹æ˜¯åœ¨iocå®¹å™¨ä¸­getbeanæ‰€åŒ¹é…çš„ç±»å‹        return Car.class;    &#125;      public boolean isSingleton() &#123;        return true;    &#125;&#125;\n\næˆ‘ä»¬åœ¨å®šä¹‰ä¸­æ²¡æœ‰æ·»åŠ  Carï¼Œè€Œæ˜¯ç›´æ¥åœ¨å®¹å™¨ä¸­æ·»åŠ äº†ä¸€ä¸ª CarFactoryBeanï¼Œä¸è¿‡å¦‚æœä»å®¹å™¨ä¸­è·å– id ä¸º car çš„ bean æ—¶ï¼Œè·å¾—å¹¶ä¸æ˜¯ CarFactoryBean çš„å®ä¾‹ï¼Œè€Œæ˜¯ Car çš„å®ä¾‹ã€‚è¿™æ˜¯åº”ä¸º Spring é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª CarFactoryBean çš„å®ä¾‹ï¼Œç„¶åè°ƒç”¨äº† getObject æ–¹æ³•è·å–è¿”å›å€¼ï¼Œå¹¶å°†è¯¥è¿”å›å€¼ä½œä¸º id å¯¹åº”çš„å®ä¾‹ã€‚\n&lt;bean id=&quot;car&quot; class=&quot;com.liang.CarFactoryBean&quot;&gt;     &lt;property name=&quot;name&quot; value=&quot;chang&quot;/&gt;     &lt;property name=&quot;age&quot; value=&quot;12&quot;/&gt;&lt;/bean&gt;\n\nå¯¼å…¥å…¶ä»–é…ç½®åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼ŒSpring å¯èƒ½ä¼šç®¡ç†åˆ†å±ä¸åŒä¸šåŠ¡çš„ beanï¼Œå¦‚æœå°†æ‰€æœ‰çš„ bean å®šä¹‰åœ¨åŒä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼Œä¼šæ˜¾å¾—æ¯”è¾ƒæ··ä¹±ã€‚é‚£ä¹ˆå¯ä»¥å°†ä¸åŒä¸šåŠ¡çš„ bean å®šä¹‰åœ¨ä¸åŒçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œç„¶åå†å°†å…¶æ±‡æ€»ã€‚é€šè¿‡ä¸‹é¢çš„æ–¹å¼ï¼Œå¯ä»¥å¯¼å…¥å…¶ä»–çš„é…ç½®åˆ°å½“å‰é…ç½®ä¸­ã€‚\n&lt;beans&gt;    &lt;import resource=&quot;services.xml&quot;/&gt;    &lt;import resource=&quot;resources/messageSource.xml&quot;/&gt;    &lt;import resource=&quot;/resources/themeSource.xml&quot;/&gt;    &lt;bean id=&quot;bean1&quot; class=&quot;...&quot;/&gt;    &lt;bean id=&quot;bean2&quot; class=&quot;...&quot;/&gt;&lt;/beans&gt;\n\næ‰€æœ‰è·¯å¾„éƒ½ç›¸å¯¹äºå½“å‰é…ç½®æ–‡ä»¶ï¼Œå› æ­¤ services.xml å¿…é¡»ä¸è¿›è¡Œå¯¼å…¥çš„æ–‡ä»¶ä½äºåŒä¸€ç›®å½•æˆ–ä½ç½®ï¼Œè€Œ messageSource.xml å’Œ themeSource.xml å¿…é¡»ä½äºå¯¼å…¥æ–‡ä»¶ä½ç½®ä¸‹æ–¹çš„ resources ä½ç½®å¼€å¤´çš„æ–œæ ä¼šè¢«å¿½ç•¥ï¼Œæ‰€ä»¥é€šå¸¸å»ºè®®çœå»æ–œæ ã€‚\né™¤äº†ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ classpath:/com/liang/bean.xml ä»¥åŠ file:C:/config/services.xml è¿™æ ·çš„ç»å¯¹è·¯å¾„ã€‚\nä¸åŒé…ç½®æ–‡ä»¶ä¸­çš„ bean å¦‚æœæœ‰ç›¸åŒçš„ idï¼Œå³ä½¿æ˜¯ä¸ç›¸åŒçš„ç±»ï¼Œå…ˆå®šä¹‰çš„ä¼šæŠŠåå®šä¹‰çš„ç±»è¦†ç›–æ‰ã€‚\né™¤äº†ä½¿ç”¨è¿™ç§æ–¹æ³•æ±‡æ€»ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œåœ¨åˆ›å»ºå®¹å™¨çš„æ—¶å€™ä¹Ÿæ”¯æŒæ·»åŠ å¤šä¸ªæ–‡ä»¶ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºã€‚\nClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;classpath:/bean.xml&quot;, &quot;classpath:/bean2.xml&quot;);\n\nä¾èµ–æ³¨å…¥æ‰€è°“çš„ä¾èµ–æ³¨å…¥ï¼Œç®€å•çš„ç†è§£å°±æ˜¯ç»™å®ä¾‹ä¸­çš„å±æ€§èµ‹å€¼ï¼Œæ¯”å¦‚ä¸‹é¢çš„ç±»ï¼Œåœ¨åˆ›å»ºäº†å¯¹è±¡ä¹‹åï¼Œé€šå¸¸è¦å¯¹ age å’Œ name ä¸¤ä¸ªå±æ€§èµ‹å€¼ã€‚\npublic class Car &#123;    private String name;    private int age;    public Car() &#123;     &#125;    public Car(String name, int age) &#123;        this.name = name;        this.age = age;    &#125;      public void setAge( int age) &#123;        this.age = age;    &#125;      public void setName(String name_) &#123;        this.name = name;    &#125;  &#125;\n\nåœ¨ Sping ä¸­æœ‰ä¸¤ç§ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡æ„é€ å‡½æ•°ï¼Œä¸€ç§æ˜¯é€šè¿‡ setter æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”äº†æˆ‘ä»¬ç¼–ç¨‹æ—¶ç»™å¯¹è±¡å±æ€§èµ‹å€¼çš„ä¸¤ç§æ–¹æ³•ã€‚\nCar carOne = new Car(&quot;chang&quot;, 12);Car carTwo = new Car();carTwo.setName(&quot;liang&quot;);carTwo.setAge(13);\n\nè°ƒç”¨çš„å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡å®ä¾‹åï¼Œä»»ç„¶å¯ä»¥ä½¿ç”¨ set æ–¹æ³•æ›´æ–°å±æ€§å€¼ï¼Œæ‰€ä»¥åœ¨ Spring ä¸­ setter æ–¹æ³•å¯ç”¨äºè¦†ç›–æ„é€ å‡½æ•°ä¸­é…ç½®çš„ä¾èµ–ï¼Œæ„é€ å‡½æ•°ä¸€èˆ¬ç”¨äºå¼ºåˆ¶æ€§ä¾èµ–ï¼Œsetter æ–¹æ³•ç”¨äºå¯é€‰ä¾èµ–ã€‚\nåŸºäºæ„é€ å‡½æ•°æ³¨å…¥public class TeacherBean &#123;    private String name;        private StudentBean student;    public TeacherBean(String name, StudentBean student) &#123;        this.name = name;        this.student = student;    &#125;&#125;\n\nå½“ç±»çš„å±æ€§æ˜¯é€šè¿‡æ„é€ å‡½æ•°èµ‹å€¼çš„æ—¶å€™ï¼Œåœ¨å®šä¹‰ bean çš„æ—¶å€™å°±éœ€è¦åŸºäºæ„é€ å‡½æ•°å°†å±æ€§æ³¨å…¥ï¼Œé€šå¸¸é…ç½®å¦‚ä¸‹ï¼š\n&lt;beans&gt;    &lt;bean id=&quot;teacher&quot; class=&quot;con.liang.TeacherBean&quot;&gt;        &lt;constructor-arg value=&quot;chang&quot;/&gt;        &lt;constructor-arg ref=&quot;student&quot;/&gt;    &lt;/bean&gt;    &lt;bean id=&quot;student&quot; class=&quot;com.liang.StudentBean&quot;/&gt;&lt;/beans&gt;\n\nå…¶ä¸­ &lt;constructor-arg value=&quot;chang&quot;/&gt; æŒ‡å®šä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å‚æ•°ï¼Œ&lt;constructor-arg ref=&quot;student&quot;/&gt; æŒ‡å®šä¸€ä¸ªå¯¹è±¡ã€‚\nä¸Šé¢çš„ç¤ºä¾‹ä¸­ä¸¤ä¸ªå‚æ•°æ¯”è¾ƒå®¹æ˜“åŒºåˆ†ï¼Œå¦‚æœä¸¤ä¸ªå‚æ•°éƒ½æ˜¯åŸºæœ¬ç±»å‹æˆ–å±äºåŒä¸€ä¸ªç±»ï¼Œåˆ™éœ€è¦é¢å¤–å±æ€§è¿›è¡Œè¾…åŠ©ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­ï¼š\npublic class TeacherBean &#123;    private String name;    private int age;    public TeacherBean(String name, int age) &#123;        this.name = name;        this.age = age;    &#125;&#125;\n\n\nå¯ä»¥é€šè¿‡ type æŒ‡å®šç±»å‹è¿›è¡ŒåŒºåˆ†ã€‚\nè¿™ä¸ªæ—¶å€™å¦‚æœè¿˜æ˜¯åªç”¨ä¸å¸¦ä»»ä½•å±æ€§çš„ canstructor-arg æ ‡ç­¾çš„è¯ï¼ŒSpring æ˜¯æ— æ³•åˆ†æ¸…æ¥š 1 è¿™ä¸ªå€¼æ—¶èµ‹ç»™ name è¿˜æ˜¯ age çš„ï¼Œå› ä¸ºæ— æ³•åŒºåˆ† 1 è¿™ä¸ªå­—é¢å€¼åˆ°åº•æ˜¯æ•°å­—è¿˜æ˜¯å­—ç¬¦ä¸²ã€‚\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;constructor-arg value=&quot;1&quot;/&gt;    &lt;constructor-arg value=&quot;2&quot;/&gt;&lt;/bean&gt;\n\nä½¿ç”¨ type å±æ€§å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢çš„é…ç½®ä¸­å°±æ˜ç¡®æŒ‡æ˜äº† 1 è¦èµ‹ç»™ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ï¼Œä½†è¿™ç§æ–¹æ³•ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå¦‚æœå¤šä¸ªå‚æ•°ç±»å‹ç›¸åŒçš„è¯ï¼Œå°±æ— æ³•ä½¿ç”¨äº†ã€‚\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;1&quot;/&gt;    &lt;constructor-arg type=&quot;int&quot; value=&quot;2&quot;/&gt;&lt;/bean&gt;\n\nå¯ä»¥æŒ‡å®šç´¢å¼•è¿›è¡ŒåŒºåˆ†ã€‚\nè¿™ä¸ªæ–¹æ³•æ¯”è¾ƒå¥½ç†è§£ï¼Œç›´æ¥ä½¿ç”¨å‚æ•°åœ¨å‚æ•°åˆ—è¡¨ä¸­çš„åºå·å®šä½å³å¯ï¼Œæ¯”å¦‚ä¸‹é¢çš„é…ç½®ï¼Œå°† 1 èµ‹ç»™ 0 å·ä½çš„å‚æ•°ã€‚\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;constructor-arg index=&quot;0&quot; value=&quot;1&quot;/&gt;    &lt;constructor-arg index=&quot;1&quot; value=&quot;2&quot;/&gt;&lt;/bean&gt;\n\nå¯ä»¥æŒ‡å®šå±æ€§åè¿›è¡ŒåŒºåˆ†ã€‚\nè¿™ä¸ªä¹Ÿæ˜¯æ¯”è¾ƒæ¸…æ™°ï¼Œä½¿ç”¨å‚æ•°åæ¥å¯¹åº”å€¼ã€‚\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;constructor-arg name=&quot;name&quot; value=&quot;1&quot;/&gt;    &lt;constructor-arg name=&quot;age&quot; value=&quot;2&quot;/&gt;&lt;/bean&gt;\n\nåŸºäº Setter æ³¨å…¥åœ¨ä¸é€šè¿‡æ„é€ æ–¹æ³•æ³¨å…¥æ—¶ï¼ŒSpring éœ€è¦é¦–å…ˆè°ƒç”¨ç±»ä¸­æ— å‚æ•°çš„æ„é€ å‡½æ•°è¿›è¡Œå®ä¾‹åŒ–ï¼Œä¹‹åå†é€šè¿‡ setter æ–¹æ³•æ³¨å…¥å±æ€§ï¼Œæ‰€ä»¥å¿…é¡»ä¿è¯æ— å‚æ•°çš„æ„é€ å‡½æ•°ä»¥åŠ setter æ–¹æ³•å­˜åœ¨ã€‚\npublic class TeacherBean &#123;    private String name;    private int age;   &#125;\n\nå¯¹äºä¸Šé¢çš„è¿™ä¸ªç±»ï¼Œå¦‚æœéœ€è¦å®ç°å±æ€§æ³¨å…¥ï¼Œé…ç½®å¦‚ä¸‹ï¼š\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;12&quot; /&gt;    &lt;property name=&quot;age&quot; value=&quot;122&quot; /&gt;&lt;/bean&gt;\n\nå¦‚æœæ³¨å…¥çš„å±æ€§æ—¶ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ â€‹ &lt;property name=&quot;student&quot; ref=&quot;student&quot; /&gt; è¿™æ ·çš„æ–¹å¼ï¼š\n&lt;beans&gt;    &lt;bean id=&quot;teacher&quot; class=&quot;con.liang.TeacherBean&quot;&gt;        &lt;property name=&quot;name&quot; value=&quot;12&quot; /&gt;        &lt;property name=&quot;student&quot; ref=&quot;student&quot; /&gt;    &lt;/bean&gt;    &lt;bean id=&quot;student&quot; class=&quot;com.liang.StudentBean&quot;/&gt;&lt;/beans&gt;\n\næ³¨å…¥é…ç½®ç»†èŠ‚å¸¸é‡æ³¨å…¥\nå­—é¢å€¼: å¯ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„å€¼ï¼Œå¯ä»¥é€šè¿‡ value å±æ€§æˆ–æ ‡ç­¾è¿›è¡Œæ³¨å…¥ã€‚\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;       &lt;property name=&quot;name&quot; value=&quot;12&quot; /&gt;       &lt;property name=&quot;age&quot;&gt;               &lt;value&gt;12&lt;/value&gt;       &lt;/property &gt;&lt;/bean&gt;\n\næ”¯æŒå°† value æ ‡ç­¾ä¸­çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸º java.util.Properties ç±»\n&lt;!-- typed as a java.util.Properties --&gt;&lt;property name=&quot;properties&quot;&gt;    &lt;value&gt;        jdbc.driver.className=com.mysql.jdbc.Driver        jdbc.url=jdbc:mysql://localhost:3306/mydb    &lt;/value&gt;&lt;/property&gt;\n\nåŸºæœ¬æ•°æ®ç±»å‹åŠå…¶å°è£…ç±»ã€String ç­‰ç±»å‹éƒ½å¯ä»¥é‡‡å–å­—é¢å€¼æ³¨å…¥çš„æ–¹å¼\n\nè‹¥å­—é¢å€¼ä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨  æŠŠå­—é¢å€¼åŒ…è£¹èµ·æ¥ã€‚\n\n\nBean æ³¨å…¥\nå¯ä»¥ç”¨ ref å±æ€§æˆ–æ ‡ç­¾å¼•å…¥å¤–éƒ¨ç±»\n&lt;bean id=&quot;addr&quot; class=&quot;com.chang.pojo.Address&quot;&gt;    &lt;property name=&quot;address&quot; value=&quot;é‡åº†&quot;/&gt;&lt;/bean&gt;&lt;!-- ä½¿ç”¨refå±æ€§ --&gt;&lt;bean id=&quot;student&quot; class=&quot;com.chang.pojo.Student&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;å°æ˜&quot;/&gt;    &lt;property name=&quot;address&quot; ref=&quot;addr&quot;/&gt;&lt;/bean&gt;&lt;!-- ä½¿ç”¨æ ‡ç­¾ --&gt;&lt;bean id=&quot;student&quot; class=&quot;com.chang.pojo.Student&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;å°æ˜&quot;/&gt;    &lt;property name=&quot;address&quot;&gt;        &lt;ref bean=&quot;addr&quot;/&gt;    &lt;/property&gt;&lt;/bean&gt;\n\nç”¨ ref æ ‡ç­¾çš„ parent å±æ€§å¯ä»¥ä»çˆ¶å®¹å™¨ä¸­è·çš„ bean\n&lt;!-- in the parent context --&gt;&lt;bean id=&quot;accountService&quot; class=&quot;com.something.SimpleAccountService&quot;&gt;    &lt;!-- insert dependencies as required as here --&gt;&lt;/bean&gt;\n\n&lt;!-- in the child (descendant) context --&gt;&lt;bean id=&quot;accountService&quot; &lt;!-- bean name is the same as the parent bean --&gt;    class=&quot;org.springframework.aop.framework.ProxyFactoryBean&quot;&gt;    &lt;property name=&quot;target&quot;&gt;        &lt;ref parent=&quot;accountService&quot;/&gt; &lt;!-- notice how we refer to the parent bean --&gt;    &lt;/property&gt;    &lt;!-- insert other configuration and dependencies as required here --&gt;&lt;/bean&gt;\n\nå¯ä»¥ä½¿ç”¨ idref ä»£æ›¿ ref æ ‡ç­¾\nä½¿ç”¨ idref æ ‡ç­¾åœ¨å®¹å™¨éƒ¨ç½²çš„æ—¶å€™ä¼šéªŒè¯ bean æ˜¯å¦å­˜åœ¨ã€‚\n&lt;bean id=&quot;theTargetBean&quot; class=&quot;...&quot;/&gt;&lt;bean id=&quot;theClientBean&quot; class=&quot;...&quot;&gt;    &lt;property name=&quot;targetName&quot;&gt;        &lt;idref bean=&quot;theTargetBean&quot;/&gt;    &lt;/property&gt;&lt;/bean&gt;\n\nå¯ä»¥ä½¿ç”¨å†…éƒ¨ç±»\n&lt;bean id=&quot;student&quot; class=&quot;com.chang.pojo.Student&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;å°æ˜&quot;/&gt;    &lt;property name=&quot;address&quot;&gt;        &lt;bean id=&quot;addr&quot; class=&quot;com.chang.pojo.Address&quot;&gt;            &lt;property name=&quot;address&quot; value=&quot;é‡åº†&quot;/&gt;    &lt;/bean&gt;    &lt;/property&gt;&lt;/bean&gt;\n\nå†…éƒ¨ç±»ä¸ç”¨æŒ‡æ˜ id å’Œ name å±æ€§ï¼Œä½†ä¸èƒ½ç”¨äºå…¶ä»–åœ°æ–¹ã€‚\n\nSpring æ”¯æŒä½¿ç”¨çº§è”å±æ€§èµ‹å€¼ã€‚\n&lt;bean id=&quot;addr&quot; class=&quot;com.chang.pojo.Address&quot;&gt;    &lt;property name=&quot;address&quot; value=&quot;é‡åº†&quot;/&gt;&lt;/bean&gt;&lt;bean id=&quot;student&quot; class=&quot;com.chang.pojo.Student&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;å°æ˜&quot;/&gt;    &lt;property name=&quot;address&quot; ref=&quot;addr&quot;/&gt;    &lt;property name=&quot;adderss.address&quot; value=&quot;é‡åº†&quot;/&gt;&lt;/bean&gt;\n\næ•°ç»„æ³¨å…¥&lt;bean id=&quot;student&quot; class=&quot;com.kuang.pojo.Student&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;å°æ˜&quot;/&gt;    &lt;property name=&quot;address&quot; ref=&quot;addr&quot;/&gt;    &lt;property name=&quot;books&quot;&gt;        &lt;array&gt;            &lt;value&gt;è¥¿æ¸¸è®°&lt;/value&gt;            &lt;value&gt;çº¢æ¥¼æ¢¦&lt;/value&gt;            &lt;value&gt;æ°´æµ’ä¼ &lt;/value&gt;        &lt;/array&gt;    &lt;/property&gt;&lt;/bean&gt;\n\nList æ³¨å…¥&lt;property name=&quot;someList&quot;&gt;    &lt;list&gt;        &lt;value&gt;a list element followed by a reference&lt;/value&gt;        &lt;ref bean=&quot;myDataSource&quot; /&gt;    &lt;/list&gt;&lt;/property&gt;\n\nMap æ³¨å…¥&lt;property name=&quot;someMap&quot;&gt;    &lt;map&gt;        &lt;entry key=&quot;an entry&quot; value=&quot;just some string&quot;/&gt;        &lt;entry key =&quot;a ref&quot; value-ref=&quot;myDataSource&quot;/&gt;    &lt;/map&gt;&lt;/property&gt;\n\nset æ³¨å…¥&lt;property name=&quot;someSet&quot;&gt;    &lt;set&gt;        &lt;value&gt;just some string&lt;/value&gt;        &lt;ref bean=&quot;myDataSource&quot; /&gt;    &lt;/set&gt;&lt;/property&gt;\n\nProperties æ³¨å…¥&lt;property name=&quot;info&quot;&gt;    &lt;props&gt;        &lt;prop key=&quot;å­¦å·&quot;&gt;20190604&lt;/prop&gt;        &lt;prop key=&quot;æ€§åˆ«&quot;&gt;ç”·&lt;/prop&gt;        &lt;prop key=&quot;å§“å&quot;&gt;å°æ˜&lt;/prop&gt;    &lt;/props&gt;&lt;/property&gt;\n\né›†åˆåˆå¹¶bean æ ‡ç­¾ä¸­æœ‰ä¸€ä¸ªå±æ€§ä¸º abstractï¼Œé»˜è®¤æƒ…å†µä¸‹è¯¥å€¼ä¸º falseï¼Œå¦‚æœå°†ä»–è®¾ç½®ä¸º true çš„è¯ï¼Œé‚£ä¹ˆå®¹å™¨å°†ä¸ä¼šåˆ›å»ºå®ƒçš„å®ä¾‹ã€‚å®ƒéœ€è¦å’Œ parent é…åˆä½¿ç”¨ï¼Œå§‘ä¸”å¯ä»¥å°† abstrcat å±æ€§çš„ bean ç§°ä¸ºçˆ¶ beanï¼Œå°†å¸¦æœ‰ parent å±æ€§çš„ bean ç§°ä¸ºå­ beanï¼Œçˆ¶ bean ä¸­çš„ property æ ‡ç­¾ä¼šè¢«ç»§æ‰¿åˆ°å­ bean ä¸­ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œ&lt;property name=&quot;name&quot; value = &quot;chang&quot;/&gt; ä¼šè¢«è‡ªåŠ¨æ·»åŠ åˆ°å­ bean ä¸­ã€‚\n&lt;beans&gt;    &lt;bean id=&quot;parent&quot; abstract=&quot;true&quot; class=&quot;example.ComplexObject&quot;&gt;        &lt;property name=&quot;name&quot; value = &quot;chang&quot;/&gt;        &lt;property name=&quot;adminEmails&quot;&gt;            &lt;props&gt;                &lt;prop key=&quot;administrator&quot;&gt;[emailprotected]&lt;/prop&gt;                &lt;prop key=&quot;support&quot;&gt;[emailprotected]&lt;/prop&gt;            &lt;/props&gt;        &lt;/property&gt;    &lt;/bean&gt;    &lt;bean id=&quot;child&quot; parent=&quot;parent&quot;&gt;        &lt;property name=&quot;adminEmails&quot;&gt;            &lt;!-- the merge is specified on the child collection definition --&gt;            &lt;props merge=&quot;true&quot;&gt;                &lt;prop key=&quot;sales&quot;&gt;[emailprotected]&lt;/prop&gt;                &lt;prop key=&quot;support&quot;&gt;[emailprotected]&lt;/prop&gt;            &lt;/props&gt;        &lt;/property&gt;    &lt;/bean&gt;&lt;beans&gt;\n\nå­ bean å¦‚æœå’Œçˆ¶ bean å®šä¹‰äº†ç›¸åŒçš„å±æ€§ï¼Œé‚£ä¹ˆåè€…ä¼šæŠŠå‰è€…çš„å€¼è¦†ç›–ã€‚ä¸è¿‡å¦‚æœå±æ€§æ˜¯é›†åˆçš„è¯ï¼Œå¯ä»¥å¼€å¯é›†åˆçš„åˆå¹¶è¡Œä¸ºï¼Œç›®å‰åˆå¹¶è¡Œä¸ºé€‚ç”¨äº &lt;list/&gt;ï¼Œ&lt;map/&gt;ã€&lt;set/&gt; å’Œ &lt;properties&gt; é›†åˆç±»å‹ï¼Œéœ€è¦åšçš„æ˜¯å°† merge å±æ€§è®¾ç½®ä¸º trueã€‚\nåœ¨åˆå¹¶ List å…ƒç´ æ—¶çˆ¶ bean çš„å€¼ä½äºæ‰€æœ‰å­çº§åˆ—è¡¨çš„å€¼ä¹‹å‰ï¼Œå¯¹äº Mapï¼ŒSet å’Œ Properties é›†åˆç±»å‹ï¼Œä¼šç»§æ‰¿æ‰€æœ‰çˆ¶çº§ä¸­çš„å…ƒç´ ï¼Œå¯¹äº key ç›¸åŒçš„å…ƒç´ ä¼šè¿›è¡Œè¦†ç›–ã€‚\nç©ºå­—ç¬¦ä¸²å’Œ null å€¼æ³¨å…¥&lt;!-- ç­‰ä»·äº wife = null --&gt;&lt;property name=&quot;wife&quot;&gt;&lt;null/&gt;&lt;/property&gt;&lt;!-- ç­‰ä»·äº email = &quot;&quot; --&gt;&lt;property name=&quot;email&quot; value=&quot;&quot;/&gt;\n\næ³¨å…¥æ‹“å±•: P å‘½åç©ºé—´åœ¨ beans ä¸­æ·»åŠ  xmlns:p=&quot;http://www.springframework.org/schema/p&quot; å¯ä»¥å¼€å¯ P å‘½åç©ºé—´ï¼Œä½œç”¨æ˜¯å¯ä»¥ä½¿ç”¨ç±»ä¼¼ p:email çš„å±æ€§æ›¿ä»£ property æ ‡ç­¾ã€‚\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;    &lt;bean name=&quot;classic&quot; class=&quot;com.example.ExampleBean&quot;&gt;        &lt;property name=&quot;email&quot; value=&quot;[emailprotected]&quot;/&gt;    &lt;/bean&gt;    &lt;bean name=&quot;p-namespace&quot; class=&quot;com.example.ExampleBean&quot;        p:email=&quot;[emailprotected]&quot;/&gt;&lt;/beans&gt;\n\næ³¨å…¥æ‹“å±•: c å‘½åç©ºé—´åœ¨ beans ä¸­æ·»åŠ  xmlns:c=&quot;http://www.springframework.org/schema/c&quot; å¯ä»¥å¼€å¯ C å‘½åç©ºé—´ï¼Œä½œç”¨æ˜¯ä½¿ç”¨ç±»ä¼¼ c:thingTwo-ref çš„å±æ€§æ›¿ä»£ constructor-arg æ ‡ç­¾ã€‚\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xmlns:c=&quot;http://www.springframework.org/schema/c&quot;    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;    &lt;bean id=&quot;thingOne&quot; class=&quot;x.y.ThingTwo&quot;/&gt;    &lt;bean id=&quot;thingTwo&quot; class=&quot;x.y.ThingThree&quot;/&gt;    &lt;!-- traditional declaration --&gt;    &lt;bean id=&quot;thingOne&quot; class=&quot;x.y.ThingOne&quot;&gt;        &lt;constructor-arg ref=&quot;thingTwo&quot;/&gt;        &lt;constructor-arg ref=&quot;thingThree&quot;/&gt;        &lt;constructor-arg value=&quot;[emailprotected]&quot;/&gt;    &lt;/bean&gt;    &lt;!-- c-namespace declaration --&gt;    &lt;bean id=&quot;thingOne&quot; class=&quot;x.y.ThingOne&quot; c:thingTwo-ref=&quot;thingTwo&quot; c:thingThree-ref=&quot;thingThree&quot; c:email=&quot;[emailprotected]&quot;/&gt;&lt;/beans&gt;\n\nutil é‡Œçš„é›†åˆæ ‡ç­¾ä½¿ç”¨åŸºæœ¬çš„é›†åˆæ ‡ç­¾å®šä¹‰é›†åˆæ—¶ , ä¸èƒ½å°†é›†åˆä½œä¸ºç‹¬ç«‹çš„ bean å®šä¹‰ , å¯¼è‡´å…¶ä»– bean æ— æ³•å¼•ç”¨è¯¥é›†åˆ , æ— æ³•è®©é›†åˆåœ¨ä¸åŒ bean ä¹‹é—´å…±äº«ã€‚åœ¨ beans ä¸­æ·»åŠ  xmlns:util=&quot;http://www.springframework.org/schema/util&quot; å¯ä»¥å¼€å¯é›†åˆæ ‡ç­¾ï¼Œå®ƒå®ç°äº†é›†åˆç±»å‹çš„ç‹¬ç«‹å®šä¹‰ã€‚\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xmlns:util=&quot;http://www.springframework.org/schema/util&quot;    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;    &lt;util:list id=&quot;list&quot;&gt;        &lt;ref bean=&quot;car1&quot;/&gt;        &lt;ref bean=&quot;car2&quot;/&gt;        &lt;ref bean=&quot;car3&quot;/&gt;         &lt;ref bean=&quot;car4&quot;/&gt;    &lt;/util:list&gt;    &lt;bean id=&quot;car1&quot; class=&quot;com.chang.Car&quot;&gt;&lt;/bean&gt;    &lt;bean id=&quot;car2&quot; class=&quot;com.chang.Car&quot;&gt;&lt;/bean&gt;    &lt;bean id=&quot;car3&quot; class=&quot;com.chang.Car&quot;&gt;&lt;/bean&gt;    &lt;bean id=&quot;car4&quot; class=&quot;com.chang.Car&quot;&gt;&lt;/bean&gt;      &lt;bean id=&quot;person&quot; class=&quot;com.chang.Person&quot;&gt;        &lt;property name=&quot;car&quot; ref=&quot;list&quot;/&gt;    &lt;/bean&gt;&lt;/beans&gt;\n\nè‡ªåŠ¨è£…é…Spring å®¹å™¨å¯ä»¥è‡ªåŠ¨è£…é… beanï¼Œéœ€è¦ä½¿ç”¨ autowire å±æ€§é‡ŒæŒ‡å®šè‡ªåŠ¨è£…é…çš„æ¨¡å¼ã€‚è¿™ä¸ªè‡ªåŠ¨è£…é…å¯ä»¥ç®€å•çš„ç†è§£ä¸ºï¼Œå¦‚æœä¸€ä¸ª bean çš„æŸä¸ªå±æ€§ç±»å‹ä¸º Aï¼Œå½“å®¹å™¨ä¸­å­˜åœ¨ä¸€ä¸ªç±»å‹ä¸º A çš„ bean æ—¶ï¼ŒSpirng å¯ä»¥è‡ªåŠ¨å°† A ç±»å‹çš„ bean èµ‹ç»™è¯¥å±æ€§ã€‚\npublic class User &#123;    private Car car;&#125;public class Car &#123;&#125;\n\nåœ¨ä¸‹é¢çš„é…ç½®ä¸­ï¼Œid ä¸º car çš„ bean ä¼šè‡ªåŠ¨è¢«èµ‹ç»™ user çš„ car å±æ€§ã€‚\n&lt;bean id=&quot;user&quot; class=&quot;com.liang.User&quot; autowire=&quot;byName&quot;&gt;&lt;/bean&gt;&lt;bean id=&quot;car&quot; class=&quot;com.liang.Car&quot;&gt;&lt;/bean&gt;\n\nautowire çš„å¯é€‰å€¼æœ‰å¤šä¸ªï¼Œåˆ†åˆ«ä»£è¡¨ä¸åŒçš„è£…é…æ¨¡å¼ï¼š\n\nnoï¼šé»˜è®¤å€¼ï¼Œè¡¨ç¤ºä¸è¿›è¡Œè‡ªåŠ¨è£…é…ï¼Œæ‰€æœ‰çš„ bean å¼•ç”¨å¿…é¡»ç”±æ‰‹åŠ¨å®šä¹‰ã€‚å¯¹äºå¤§å‹éƒ¨ç½²ï¼Œå»ºè®®ä¸è¦æ›´æ”¹é»˜è®¤è®¾ç½®ï¼Œå› ä¸ºæ˜ç¡®æŒ‡å®šåä½œè€…å¯ä»¥æä¾›æ›´å¥½çš„æ§åˆ¶å’Œæ¸…æ™°åº¦ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œå®ƒè®°å½•äº†ç³»ç»Ÿçš„ç»“æ„ã€‚\nbyNameï¼šæŒ‰å±æ€§åç§°è‡ªåŠ¨è£…é…ï¼ŒSpring ä¼šå¯»æ‰¾ä¸å±æ€§åŒåçš„ beanã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ª bean åŒ…å«ä¸€ä¸ª master å±æ€§ï¼Œé‚£ä¹ˆ Spring å°†æŸ¥æ‰¾ä¸€ä¸ªåä¸º master çš„ bean æ¥ä¸ºå®ƒèµ‹å€¼ã€‚\nbyTypeï¼šä¸ byName ç±»ä¼¼ï¼Œåªä¸è¿‡å®ƒæŸ¥æ‰¾ bean çš„ä¾æ®æ˜¯å±æ€§çš„ç±»å‹ã€‚\nconstructorï¼šç±»ä¼¼äº byTypeï¼Œä½†å®ƒé€‚ç”¨äºæ„é€ å‡½æ•°çš„æƒ…å†µã€‚\n\nåœ¨ byType æˆ– constructor è‡ªåŠ¨è£…é…æ¨¡å¼ä¸‹ï¼Œå¯ä»¥è‡ªåŠ¨æŒ‰ç±»å‹è£…é…æ•°ç»„æˆ–é›†åˆã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ map å¹¶ä¸” key æ˜¯ String ç±»å‹ï¼Œåˆ™ä½¿ç”¨ bean çš„ id å±æ€§ä½œä¸º keyã€‚\npublic class TeacherBean &#123;   private StudentBean[] students;    public void setStudents(StudentBean[] students) &#123;        this.students = students;    &#125;&#125;public class StudentBean &#123;&#125;\n\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot; autowire=&quot;byType&quot; /&gt;&lt;bean class=&quot;com.liang.bean.StudentBean&quot;/&gt;&lt;bean class=&quot;com.liang.bean.StudentBean&quot;/&gt;\n\nbean ä¸­è¿˜æœ‰ä¸€ä¸ªå±æ€§ autowire-candidateï¼Œå°†å®ƒè®¾ç½®ä¸º false åï¼Œè¯¥ bean ä¸å‚ä¸æŒ‰ç±»å‹è‡ªåŠ¨è£…é…ï¼Œä½†æ˜¯ä¸å½±å“æŒ‰åå­—è£…é…ã€‚\n&lt;bean class=&quot;com.liang.bean.StudentBean&quot; autowire-candidate=&quot;false&quot;/&gt;\n\nç»§æ‰¿å’Œä¾èµ–ç»§æ‰¿Spring å…è®¸ç»§æ‰¿ bean çš„é…ç½®ï¼Œè¢«ç»§æ‰¿çš„ bean ç§°ä¸ºçˆ¶ â€‹ beanï¼Œç»§æ‰¿è¿™ä¸ªçˆ¶ Bean çš„ Bean â€‹ ç§°ä¸ºå­ Beanï¼Œå‰é¢åœ¨é›†åˆåˆå¹¶ä¸­ç®€å•çš„æè¿‡ï¼Œè¿™é‡Œè¯¦ç»†è®²è§£ä¸€ä¸‹ã€‚å­ bean â€‹ ä»çˆ¶ bean â€‹ ä¸­ç»§æ‰¿é…ç½®ï¼ŒåŒ…æ‹¬ bean çš„å±æ€§é…ç½®ï¼Œå­ bean ä¹Ÿå¯ä»¥è¦†ç›–ä»çˆ¶ bean ç»§æ‰¿è¿‡æ¥çš„é…ç½®ã€‚çˆ¶ bean å¯ä»¥ä½œä¸ºé…ç½®æ¨¡æ¿ï¼Œä¹Ÿå¯ä»¥ä½œä¸º bean å®ä¾‹ã€‚è‹¥åªæƒ³æŠŠçˆ¶ bean ä½œä¸ºæ¨¡æ¿, å¯ä»¥è®¾ç½® bean çš„ abstract â€‹ å±æ€§ä¸º â€‹ trueï¼Œè¿™æ · Spring å°†ä¸ä¼šå®ä¾‹åŒ–è¿™ä¸ª beanï¼Œå¹¶ä¸æ˜¯ bean å…ƒç´ é‡Œçš„æ‰€æœ‰å±æ€§éƒ½ä¼šè¢«ç»§æ‰¿ï¼Œæ¯”å¦‚: autowire, abstract ç­‰ã€‚\n&lt;bean id=&quot;parent&quot; abstract=&quot;true&quot;&gt;    &lt;property name=&quot;parentName&quot;&gt;        &lt;value&gt;&lt;/value&gt;    &lt;/property&gt;&lt;/bean&gt;&lt;bean id=&quot;child&quot; class=&quot;com.spring.auto.autowire.Parent&quot; parent=&quot;parent&quot;&gt;    &lt;property name=&quot;parentName&quot;&gt;        &lt;value&gt;æŠ½è±¡ç±»å®ç°&lt;/value&gt;    &lt;/property&gt;&lt;/bean&gt;\n\nä¾èµ–Spring å…è®¸ç”¨æˆ·é€šè¿‡ depends-on å±æ€§è®¾å®š bean å‰ç½®ä¾èµ–çš„ beanï¼Œå‰ç½®ä¾èµ–çš„ bean ä¼šåœ¨æœ¬ bean å®ä¾‹åŒ–ä¹‹å‰åˆ›å»ºå¥½ã€‚å¦‚æœå‰ç½®ä¾èµ–äºå¤šä¸ª beanï¼Œåˆ™å¯ä»¥é€šè¿‡é€—å·ï¼Œç©ºæ ¼éš”å¼€çš„æ–¹å¼é…ç½® bean çš„åç§°ã€‚\n&lt;bean id=&quot;beanOne&quot; class=&quot;ExampleBean&quot; depends-on=&quot;manager,accountDao&quot;&gt;    &lt;property name=&quot;manager&quot; ref=&quot;manager&quot; /&gt;&lt;/bean&gt;&lt;bean id=&quot;manager&quot; class=&quot;ManagerBean&quot; /&gt;&lt;bean id=&quot;accountDao&quot; class=&quot;x.y.jdbc.JdbcAccountDao&quot; /&gt;\n\næ‡’åŠ è½½ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®¹å™¨åˆ›å»ºçš„æ—¶å€™ bean å°±ä¼šè¢«åŠ è½½ï¼Œæœ‰æ—¶å€™ä¸éœ€è¦ bean åŠ è½½è¿™ä¹ˆæ—©ï¼Œå°±å¯ä»¥ä½¿ç”¨æ‡’åŠ è½½ï¼Œè¿™æ—¶å€™ bean ä¼šåœ¨è·å–çš„æ—¶å€™æ‰è¢«åˆ›å»ºã€‚\n&lt;bean id=&quot;lazy&quot; class=&quot;com.something.ExpensiveToCreateBean&quot; lazy-init=&quot;true&quot;/&gt;&lt;bean name=&quot;not.lazy&quot; class=&quot;com.something.AnotherBean&quot;/&gt;\n\nå¦‚æœå¸Œæœ›æ‰€æœ‰çš„ bean éƒ½å®ç°æ‡’åŠ è½½ï¼Œé‚£ä¹ˆå¯ä»¥å°† beans ä¸Šçš„ default-lazy-init å±æ€§è®¾ç½®ä¸º trueã€‚\n&lt;beans default-lazy-init=&quot;true&quot;&gt;&lt;/beans&gt;\n\næ–¹æ³•æ³¨å…¥å±æ€§ä¸­çš„ bean åªæœ‰ä¸€æ¬¡æ³¨å…¥çš„æœºä¼šï¼Œåç»­ä½¿ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ª beanï¼Œæœ‰çš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›æ¯æ¬¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„ beanï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨åˆ°æ–¹æ³•æ³¨å…¥ã€‚\nApplicationContextAware æ¥å£å®ç°ä¸Šè¿°éœ€æ±‚çš„ä¸€ç§æ–¹æ³•æ˜¯å®ç° ApplicationContextAware æ¥å£ç»™ bean æ³¨å…¥å®¹å™¨ï¼Œæ¯æ¬¡é€šè¿‡å®¹å™¨è·å–æ–°çš„ beanï¼Œä¸è¿‡è¿™ç§æ–¹æ³•è€¦åˆåº¦æ¯”è¾ƒå¤§ï¼Œä¸€èˆ¬ä¸æ¨èä½¿ç”¨ã€‚\npublic class TeacherBean implements ApplicationContextAware &#123;    private ApplicationContext applicationContext;    public StudentBean student() &#123;        return (StudentBean) applicationContext.getBean(&quot;student&quot;);    &#125;    @Override    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123;        this.applicationContext = applicationContext;    &#125;&#125;\n\næŸ¥æ‰¾æ–¹æ³•æ³¨å…¥Sping å¯ä»¥é€šè¿‡é‡å†™å­—èŠ‚ç ç”Ÿæˆå­ç±»è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•å®ç°æ³¨å…¥ã€‚\npublic class TeacherBean  &#123;        public StudentBean student() &#123;        return null;    &#125;&#125;\n\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;lookup-method name=&quot;student&quot; bean=&quot;student&quot; /&gt;&lt;/bean&gt;&lt;bean id=&quot;student&quot; class=&quot;com.liang.bean.StudentBean&quot; scope=&quot;prototype&quot; /&gt;\n\næ³¨å…¥çš„æ–¹æ³•ç­¾ååº”è¯¥æ»¡è¶³å¦‚ä¸‹æ ¼å¼ï¼š\n&lt;public|protected&gt; [abstract] &lt;return-type&gt; theMethodName(no-arguments);\n\nBean çš„ä½œç”¨åŸŸåœ¨ bean æ ‡ç­¾é‡Œå¯ä»¥è®¾ç½® scope å±æ€§è®¾ç½® bean çš„ä½œç”¨åŸŸï¼Œä¸åŒçš„ä½œç”¨åŸŸæœ‰ä¸åŒçš„æ•ˆæœã€‚\n&lt;bean id=&quot;ServiceImpl&quot; class=&quot;cn.csdn.service.ServiceImpl&quot; scope=&quot;singleton&quot;&gt;\n\n\nsingletonï¼šé»˜è®¤çš„ä½œç”¨åŸŸï¼Œå¯ä»¥ç†è§£ä¸ºå•ä¾‹æ¨¡å¼ï¼Œæ¯ä¸ªä»å®¹å™¨ä¸­è·å¾—çš„ bean éƒ½æ˜¯åŒä¸€ä¸ªã€‚\nprotptypeï¼šæ¯æ¬¡è·å– bean çš„æ—¶å€™ï¼ŒSpring éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡ºæ¥ã€‚\n\né™¤æ­¤ä»¥å¤–è¿˜æœ‰ requestã€sessionã€application å’Œ websocket ä½œç”¨åŸŸï¼Œä¸è¿‡æœ€å¸¸ä½¿ç”¨çš„è¿˜æ˜¯ singleton å’Œ protptype ä½œç”¨åŸŸã€‚\nè‡ªå®šä¹‰ Bean çš„æ€§è´¨ç”Ÿå‘½å‘¨æœŸå›è°ƒåœ¨ Spring æ¡†æ¶å†…éƒ¨ä½¿ç”¨ BeanPostProcessor æ¥å¤„ç†å®ƒå¯ä»¥æ‰¾åˆ°çš„ä»»ä½•å›è°ƒæ¥å£å¹¶è°ƒç”¨é€‚å½“çš„æ–¹æ³•ï¼Œä¾‹å¦‚å¯ä»¥å®ç° Spring çš„ InitializingBean å’Œ DisposableBean æ¥å£ã€‚\nåˆå§‹åŒ–å›è°ƒå¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨ bean åˆå§‹åŒ–çš„æ—¶å€™åšä¸€äº›äº‹æƒ…ï¼Œå¯ä»¥å®ç° InitializingBean æ¥å£ï¼ŒSpring ä¼šåœ¨è®¾ç½®å®Œå±æ€§åè°ƒç”¨ afterPropertiesSet æ–¹æ³•ã€‚\n&lt;bean id=&quot;exampleInitBean&quot; class=&quot;examples.AnotherExampleBean&quot;/&gt;\n\npublic class AnotherExampleBean implements InitializingBean &#123;    public void afterPropertiesSet() &#123;        // do some initialization work    &#125;&#125;\n\nä¸Šé¢è¿™ç§æƒ…å†µè€¦åˆåº¦æ¯”è¾ƒå¤§ï¼ŒSpring æä¾›äº†å¦ä¸€ç§å¯ä»¥å®ç°ç›¸åŒåŠŸèƒ½çš„æ–¹å¼ï¼Œinit-method å¯ä»¥ç”¨æ¥æŒ‡å®šä¸€ä¸ªæ–¹æ³•ï¼Œbean å±æ€§è®¾ç½®å®Œæˆåä¼šæ‰§è¡Œè¯¥æ–¹æ³•ã€‚\n&lt;bean id=&quot;exampleInitBean&quot; class=&quot;examples.ExampleBean&quot; init-method=&quot;init&quot;/&gt;\n\npublic class ExampleBean &#123;    public void init() &#123;        // do some initialization work    &#125;&#125;\n\né”€æ¯å›è°ƒå’Œåˆå§‹åŒ–å›è°ƒä¸€æ ·ï¼Œé”€æ¯æ—¶ä¹Ÿå¯ä»¥åšä¸€äº›äº‹æƒ…ã€‚\n&lt;bean id=&quot;exampleInitBean&quot; class=&quot;examples.AnotherExampleBean&quot;/&gt;\n\npublic class AnotherExampleBean implements DisposableBean &#123;    public void destroy() &#123;        // do some destruction work (like releasing pooled connections)    &#125;&#125;\n\nSpring ä¹Ÿæä¾›äº†ç±»ä¼¼ init-method çš„ destroy-method æ–¹æ³•ï¼Œæ¥å®ç°è§£è€¦çš„ç›®çš„ã€‚\n&lt;bean id=&quot;exampleInitBean&quot; class=&quot;examples.ExampleBean&quot; destroy-method=&quot;cleanup&quot;/&gt;\n\npublic class ExampleBean &#123;    public void cleanup() &#123;        // do some destruction work (like releasing pooled connections)    &#125;&#125;\n\né»˜è®¤åˆå§‹åŒ–å’Œé”€æ¯å›è°ƒåœ¨ beans æ ‡ç­¾ä¸­å¯ä»¥ä½¿ç”¨ default-init-method å’Œ default-destroy-method å±æ€§ç»™æ‰€æœ‰ bean è®¾ç½®é»˜è®¤çš„åˆå§‹åŒ–åˆé”€æ¯å›è°ƒï¼Œå¯ä»¥é¿å…å¯¹æ¯ä¸ª bean éƒ½è®¾ç½®ä¸€éã€‚\nä½¿ç”¨æ³¨è§£é™¤äº†ä¸Šé¢æåˆ°çš„ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ @PostConstruct å’Œ @PreDestroy æ³¨è§£ï¼Œä¸è¿‡é¦–å…ˆéœ€è¦å¼€å¯æ³¨è§£ï¼Œæ­¤å¤„åªè¦äº†è§£å³å¯ï¼Œå¯¹æ³¨è§£æ”¯æŒçš„ä»‹ç»ä¼šåœ¨åç»­æ–‡ç« ä¸­ã€‚\n&lt;context:annotation-config/&gt;\n\nä¹‹åéœ€è¦åœ¨æ–¹æ³•ä¸Šè¿›è¡Œæ ‡æ³¨ï¼Œå…¶ä¸­ @PostConstruct æ ‡æ³¨çš„æ–¹æ³•ä¼šåœ¨å±æ€§è®¾ç½®åè¢«æ‰§è¡Œï¼Œ@PreDestroy æ ‡æ³¨çš„æ–¹æ³•ä¼šåœ¨ bean è¢«é”€æ¯å‰æ‰§è¡Œã€‚\npublic class TeacherBean  &#123;    @PostConstruct    public void init() &#123;        System.out.println(&quot;init&quot;);    &#125;    @PostConstruct    public void close() &#123;        System.out.println(&quot;close&quot;);    &#125;&#125;\n\nä¸€ä¸ª bean å¦‚æœä½¿ç”¨ä¸åŒçš„æ–¹æ³•é…ç½®äº†ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œåˆ™æ¯ä¸ªå‡½æ•°éƒ½ä¼šè¢«æ‰§è¡Œï¼Œå¦‚æœæ˜¯åŒåçš„å‡½æ•°ï¼Œä¹Ÿä¼šè¢«æ‰§è¡Œå¤šæ¬¡ã€‚\nApplicationContextAwareApplicationContextAware æ¥å£ç”¨äºè·å– ApplicationContextï¼Œåœ¨åˆ›å»º bean è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ bean å®ç°äº† ApplicationContextAware æ¥å£ï¼ŒSpring ä¼šè°ƒç”¨å®ƒçš„ setApplicationContext æ–¹æ³•ã€‚\npublic interface ApplicationContextAware &#123;    void setApplicationContext(ApplicationContext applicationContext) throws BeansException;&#125;\n\nBeanNameAwareä¸ ApplicationContextAware åŠŸèƒ½ç±»ä¼¼ï¼Œå¦‚æœä¸€ä¸ªå®ç°äº† BeanNameAware æ¥å£ï¼Œé‚£ä¹ˆ Spring ä¼šè°ƒç”¨å®ƒçš„ setBeanName æ–¹æ³•ï¼Œå¹¶å°† bean çš„ id ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚\npublic interface BeanNameAware &#123;    void setBeanName(String name) throws BeansException;&#125;\n\né›†æˆæ¥å£Spring ä¸­å¯ä»¥é€šè¿‡æ’å…¥ç‰¹æ®Šé›†æˆæ¥å£çš„å®ç°æ¥æ‰©å±• Spring IoC å®¹å™¨ã€‚\nä½¿ç”¨ BeanPostProcessor è‡ªå®šä¹‰ BeanBeanPostProcessor æ¥å£å®šä¹‰äº†å›è°ƒæ–¹æ³•ï¼Œé€šè¿‡å®ç°å¯ä»¥å®ç°è¿™äº›å›è°ƒæ–¹æ³•æˆ‘ä»¬å¯ä»¥è¦†ç›–å®¹å™¨çš„é»˜è®¤çš„å®ä¾‹åŒ–é€»è¾‘ã€ä¾èµ–é¡¹è§£æé€»è¾‘ç­‰ã€‚å¦‚æœæ‚¨æƒ³åœ¨ Spring å®¹å™¨å®Œæˆå®ä¾‹åŒ–ï¼Œé…ç½®å’Œåˆå§‹åŒ– bean ä¹‹åå®ç°ä¸€äº›è‡ªå®šä¹‰é€»è¾‘ï¼Œåˆ™å¯ä»¥æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ª BeanPostProcessor å®ç°ã€‚å¦‚æœé…ç½®äº†å¤šä¸ª BeanPostProcessor å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® order å±æ€§æ¥æ§åˆ¶è¿™äº› BeanPostProcessor å®ä¾‹çš„æ‰§è¡Œé¡ºåºï¼Œè¿™éœ€è¦ BeanPostProcessor å®ç° Ordered æ¥å£ã€‚\npublic class MyBeanPostProcessor implements BeanPostProcessor &#123;    @Override    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123;        System.out.println(&quot;postProcessBeforeInitialization&quot;);        return bean;    &#125;    @Override    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException &#123;        System.out.println(&quot;postProcessAfterInitialization&quot;);        return bean;    &#125;&#125;\n\nâ€‹ postProcessBeforeInitializationa åœ¨ bean å±æ€§æ³¨å…¥ä¹‹åã€åˆå§‹åŒ–ä¹‹å‰æ‰§è¡Œï¼Œåœ¨è¯¥æ–¹æ³•ä¸­å¯ä»¥ç”¨æ¥ä¿®æ”¹å·²ç»æ³¨å…¥çš„å±æ€§ï¼Œæˆ–è€…è¿”å›å…¨æ–°çš„ bean ç­‰ï¼ŒpostProcessAfterInitialization åœ¨ bean åˆå§‹åŒ–åæ‰§è¡Œã€‚\nä½¿ç”¨ BeanFactoryPostProcessor è‡ªå®šä¹‰é…ç½®å…ƒæ•°æ®BeanFactoryPostProcessor æ¥å£çš„è¯­ä¹‰ä¸ BeanPostProcessor ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ä¸ªä¸»è¦åŒºåˆ«ï¼šBeanFactoryPostProcessor å¯¹ bean é…ç½®å…ƒæ•°æ®è¿›è¡Œæ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒSpring IoC å®¹å™¨å…è®¸ BeanFactoryPostProcessor è¯»å–é…ç½®å…ƒæ•°æ®ï¼Œåœ¨ bean å®ä¾‹åŒ–ä¹‹å‰å¯¹ bean çš„å®šä¹‰åšå‡ºä¿®æ”¹ï¼Œæ¯”å¦‚æ”¹å˜ bean çš„ç±»å‹ã€‚å¦‚æœé…ç½®å¤šä¸ª BeanFactoryPostProcessorï¼Œä¸ BeanPostProcessor çš„æƒ…å†µç±»ä¼¼ã€‚\nPropertyPlaceholderConfigurer æ˜¯ä¸€ä¸ª BeanFactoryPostProcessor çš„å®ç°ç±»ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä½¿ç”¨å¤–éƒ¨æ–‡ä»¶ä¸­çš„å€¼æ¥æ›¿ä»£ Spring é…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼Œä¾‹å¦‚ä¸‹é¢é…ç½®æ•°æ®åº“çš„ä¾‹å­ã€‚\n&lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;    &lt;property name=&quot;locations&quot; value=&quot;classpath:com/something/jdbc.properties&quot;/&gt;&lt;/bean&gt;&lt;bean id=&quot;dataSource&quot; destroy-method=&quot;close&quot;        class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;    &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driverClassName&#125;&quot;/&gt;    &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;    &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;    &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;&lt;/bean&gt;\n\nå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½åç©ºé—´åšä¸ºä»£æ›¿ï¼š\n&lt;context:property-placeholder location=&quot;classpath:com/something/jdbc.properties&quot;/&gt;\n\nä½¿ç”¨ FactoryBean è‡ªå®šä¹‰å®ä¾‹åŒ–é€»è¾‘å¯¹äºä¸€äº›åˆå§‹åŒ–æ¯”è¾ƒå¤æ‚çš„ç±»ï¼Œå¯ä»¥ä½¿ç”¨å‰é¢æåˆ°çš„ FactoryBean æ³¨å…¥åˆ°å®¹å™¨ä¸­ï¼Œåœ¨è°ƒç”¨ ApplicationContext çš„ getBean() æ–¹æ³•æ—¶ï¼Œå¦‚æœæƒ³è¦è·å¾— FactoryBean æœ¬çœï¼Œéœ€è¦åœ¨ bean çš„ id å‰é¢åŠ ä¸Šä¸€ä¸ªç¬¦å· &amp;ï¼Œå¦‚ getBean(&quot;&amp;myBean&quot;)ã€‚\nâ€\nåˆ›å»ºå®¹å™¨ClassPathXmlApplicationContext æ˜¯ ApplicationContext ç±»çš„ä¸€ä¸ªå®ç°ï¼Œç”¨æ¥åŠ è½½ xml é…ç½®æ–‡ä»¶ç”Ÿæˆå®¹å™¨ã€‚\nClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;classpath:/bean.xml&quot;);Object student = applicationContext.getBean(&quot;student&quot;);System.out.println(student.getClass());\n\nBean å®šä¹‰é…ç½®æ–‡ä»¶çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼Œå…¶ä¸­æ¯ä¸€ä¸ª bean æ ‡ç­¾éƒ½è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡çš„å®šä¹‰ï¼ŒSpring åˆ›å»ºå®¹å™¨çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å®šä¹‰çš„ beanï¼Œä¹‹åå¯ä»¥æ ¹æ® bean ä¸­çš„å„ç§ä¿¡æ¯åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;         &lt;bean id=&quot;hello&quot; class=&quot;com.chang.Car&quot;&gt;        &lt;property name=&quot;name&quot; value=&quot;Spring&quot;/&gt;    &lt;/bean&gt;&lt;/beans&gt;\n\nid å±æ€§æ¯ä¸€ä¸ª bean éƒ½æœ‰ä¸€ä¸ª id å±æ€§ï¼Œå®ƒæ˜¯ bean çš„å”¯ä¸€æ ‡è¯†ï¼Œå¯ä»¥é€šè¿‡ id å±æ€§ä»å®¹å™¨ä¸­è·å¾— beanï¼Œåœ¨åŒä¸€ä¸ªå®¹å™¨ä¸­æ‰€ç”¨çš„ id å±æ€§åº”è¯¥æ˜¯ä¸åŒçš„ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚å’Œé€šè¿‡ id è·å–å¯¹åº”çš„ beanã€‚\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;         &lt;bean id=&quot;student&quot; class=&quot;com.chang.bean.Student&quot;&gt;        &lt;property name=&quot;name&quot; value=&quot;chang&quot;/&gt;    &lt;/bean&gt;&lt;/beans&gt;\n\nObject student = applicationContext.getBean(&quot;student&quot;);\n\nå¦‚æœåœ¨ bean çš„å®šä¹‰ä¸­æ²¡æœ‰æŒ‡å®š id çš„åŒ–ï¼ŒSpring ä¼šåˆ†é…ä¸€ä¸ªé»˜è®¤çš„ id å±æ€§ç»™è¯¥ beanï¼Œä¾‹å¦‚ä¸‹é¢å®šä¹‰çš„ beanï¼ŒSpring ç»™ä»–çš„é»˜è®¤ id å¯èƒ½ä¸º com.liang.bean.Student#0ã€‚\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;         &lt;bean class=&quot;com.chang.bean.Student&quot;&gt;        &lt;property name=&quot;name&quot; value=&quot;chang&quot;/&gt;    &lt;/bean&gt;&lt;/beans&gt;\n\nclass å±æ€§bean æ ‡ç­¾ä¸­çš„ class å±æ€§å€¼ä¸ºä¸€ä¸ªå…¨ç±»åï¼Œå®ƒè¡¨ç¤ºè¯¥ bean çš„ç±»å‹ï¼Œä»å®¹å™¨ä¸­è·å– bean çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ç±»å‹æ¥è·å–ã€‚\nObject student = applicationContext.getBean(Student.class);\n\nname å±æ€§name å±æ€§å¯ä»¥ç”¨æ¥ä¸ª bean èµ·ä¸€ä¸ªæˆ–å¤šä¸ªåˆ«åï¼Œèµ·å¤šä¸ªåˆ«åçš„æ—¶å€™è¦ç”¨é€—å·ã€åˆ†å·æˆ–ç©ºæ ¼éš”å¼€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n&lt;bean name=&quot;studentBean bean&quot; class=&quot;com.liang.bean.StudentBean&quot;/&gt;\n\nalias å±æ€§alias æ ‡ç­¾ä¹Ÿå¯ä»¥ç”¨æ¥ç»™ bean èµ·åˆ«åï¼Œå…¶ä¸­ alias å±æ€§æ˜¯åˆ«åï¼Œname å±æ€§æ˜¯å¯¹åº”è¯¥åˆ«åçš„ bean çš„ idã€‚\n&lt;alias name=&quot;fromName&quot; alias=&quot;toName&quot;/&gt;\n\nå·¥å‚æ–¹æ³•åˆ›å»º Beanå‰æ–‡ä¸­å±•ç¤ºäº† bean æœ€é€šå¸¸çš„é…ç½®æ–¹æ³•ï¼Œä½¿ç”¨é‚£æ ·çš„é…ç½®æ—¶ï¼Œåˆ›å»º bean æ—¶å€™æ˜¯è°ƒç”¨äº†å¯¹åº”ç±»çš„æ„é€ æ–¹æ³•ã€‚\nåœ¨æœ‰äº›ä»£ç ä¸­ï¼Œä¸ºäº†å®ç°ç¨‹åºçš„ä½è€¦åˆï¼Œåˆ›å»ºå®ä¾‹çš„æ—¶å€™é€šå¸¸ä¸ä¼šç›´æ¥è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€äº›å·¥å‚æ–¹æ³•ï¼Œé’ˆå¯¹è¿™ç§æƒ…å†µï¼ŒSpring ä¹Ÿæä¾›äº†æ”¯æŒã€‚\né™æ€å·¥å‚æ–¹æ³•ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•åˆ›å»º bean å®ä¾‹æ—¶ï¼Œclass å±æ€§ä¹Ÿå¿…é¡»æŒ‡å®šï¼Œä½†æ­¤æ—¶ class å±æ€§å¹¶ä¸æ˜¯æŒ‡å®š bean çš„ç±»å‹ï¼Œè€Œæ˜¯è¯¥ bean å¯¹åº”çš„é™æ€å·¥å‚ç±»ï¼Œå› ä¸º Spring éœ€è¦çŸ¥é“æ˜¯ç”¨å“ªä¸ªå·¥å‚æ¥åˆ›å»º Bean å®ä¾‹ã€‚å¦å¤–ï¼Œè¿˜éœ€è¦ä½¿ç”¨ factory-method å±æ€§æ¥æŒ‡å®šé™æ€å·¥å‚æ–¹æ³•åï¼ŒSpring å°†è°ƒç”¨é™æ€å·¥å‚æ–¹æ³•ï¼Œæ¥è¿”å›ä¸€ä¸ª beanã€‚ä¸€æ—¦è·å¾—äº†æŒ‡å®š bean å®ä¾‹ï¼ŒSpring åé¢çš„å¤„ç†æ­¥éª¤ä¸é‡‡ç”¨æ™®é€šæ–¹æ³•åˆ›å»º bean å®ä¾‹åˆ™å®Œå…¨ä¸€æ ·ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•æ¥åˆ›å»º bean æ—¶ï¼Œè¿™ä¸ª factory-method å¿…é¡»è¦æ˜¯é™æ€çš„ã€‚\npublic class Car &#123;    private String name;    private int age;      public void setAge( int age) &#123;        this.age = age;    &#125;      public void setName(String name_) &#123;        this.name = name;    &#125;  &#125;\n\npublic class StaticFactory &#123;     public static Car getCar(String name) &#123;        Car car = new Car();        car.setName(name);        return car;   &#125; &#125;\n\nè¿™é‡Œ constructor-arg æ ‡ç­¾ç”¨äºæŒ‡å®šå·¥å‚æ–¹æ³•éœ€è¦çš„å‚æ•°ï¼Œproperty æ ‡ç­¾ç”¨äºæ³¨å…¥å±æ€§ï¼Œæ­¤å¤„ç®€å•çŸ¥é“ä½œç”¨å³åˆ»ï¼Œåé¢ä¼šå¯¹è¿™ä¸¤ä¸ªæ ‡ç­¾è¯¦ç»†å±•å¼€ã€‚\n&lt;bean id=&quot;car&quot; class=&quot;com.liang.StaticFactory&quot; factory-method=&quot;getCar&quot;&gt;     &lt;constructor-arg value=&quot;Maserati&quot;/&gt;     &lt;property name=&quot;age&quot; value=&quot;12&quot;/&gt;&lt;/bean&gt;\n\nå®ä¾‹å·¥å‚æ–¹æ³•æ—¢ç„¶æœ‰äº†é™æ€å·¥å‚æ–¹æ³•ï¼Œé‚£ä¹ˆå¿…ç„¶ä¼šæœ‰å®ä¾‹å·¥å‚æ–¹æ³•ï¼Œä¸¤è€…çš„åŒºåˆ«ä»…åœ¨äºå‰è€…æ–¹æ³•å±äºç±»ï¼Œåè€…æ–¹æ³•å±äºå¯¹è±¡å®ä¾‹ã€‚\npublic class Car &#123;    private String name;    private int age;      public void setAge( int age) &#123;        this.age = age;    &#125;      public void setName(String name_) &#123;        this.name = name;    &#125;  &#125;\n\npublic class CarFactory &#123;     public Car getCar(String name) &#123;        Car car = new Car();        car.setName(name);        return car;   &#125; &#125;\n\næ—¢ç„¶æ˜¯å®ä¾‹å·¥å‚æ–¹æ³•ï¼Œé‚£ä¹ˆé¦–å…ˆéœ€è¦åˆ›å»ºå‡ºå¯¹åº”çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢ç¬¬ä¸€è¡Œä¸­çš„å®šä¹‰ã€‚ä¹‹åå†æ­£çœŸå®šä¹‰ bean çš„æ—¶å€™ï¼Œä¸åœ¨éœ€è¦ class å±æ€§äº†ï¼Œè€Œæ˜¯éœ€è¦ä½¿ç”¨ factory-bean å±æ€§æ¥æŒ‡å®šå·¥å‚å®ä¾‹ï¼ŒåŒæ—¶ä½¿ç”¨ factory-method æŒ‡å®šå®šçš„å·¥å‚æ–¹æ³•ã€‚å¦‚æœå·¥å‚æ–¹æ³•æœ‰å‚æ•°æˆ–è€…éœ€è¦åœ¨åˆ›å»º bean ä¹‹åæ³¨å…¥å±æ€§ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ constructor-arg å’Œ property ä¸¤ä¸ªæ ‡ç­¾ã€‚\n&lt;bean id=&quot;carfactory&quot; class=&quot;com.liang.CarFactory&quot;&gt;&lt;/bean&gt;&lt;bean factory-bean=&quot;carfactory&quot; factory-method=&quot;getCar&quot;&gt;    &lt;constructor-arg value=&quot;Maserati&quot;/&gt;    &lt;property name=&quot;age&quot; value=&quot;12&quot;/&gt;&lt;/bean&gt;\n\nFactoryBeanSpring ä¸­æœ‰ä¸¤ç§ç±»å‹çš„ beanï¼Œä¸€ç§æ˜¯æ™®é€šçš„ beanï¼Œå¦ä¸€ç§æ˜¯å·¥å‚ beanï¼Œå³ FactoryBeanã€‚å·¥å‚ bean è·Ÿæ™®é€š bean ä¸åŒï¼Œå…¶è¿”å›çš„å¯¹è±¡ä¸æ˜¯æŒ‡å®šç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œè€Œæ˜¯è¯¥å·¥å‚ bean çš„ getObject æ–¹æ³•è¿”å›çš„å¯¹è±¡ã€‚\npublic interface FactortBean &#123;    //è¿”å›å®ä¾‹    Object getObject() throws Exception;    //è¿”å›ç±»å‹    class getObjectType();    //è¿”å›çš„å®ä¾‹æ˜¯å¦ä¸ºå•ä¾‹    boolean isSingleton();&#125;\n\nä¸Šé¢æ˜¯ FactoryBean æ¥å£ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹å®ƒçš„å…·ä½“ä½¿ç”¨ã€‚\npublic class Car &#123;    private String name;    private int age;    public void setAge( int age) &#123;        this.age = age;    &#125;      public void setName(String name_) &#123;        this.name = name;    &#125;  &#125;\n\npublic class CarFactoryBean implements FactoryBean&#123;    private String name;    private int age;      public void setAge( int age) &#123;        this.age = age;    &#125;      public void setName(String name_) &#123;        this.name = name;    &#125;      public Object getObject() throws Exception &#123;        Car car = new Car();        car.setName(this.name);        car.setAge(this.age);        return car;    &#125;       public Class&lt;?&gt; getObjectType() &#123;  //æ³¨æ„è¿™ä¸ªæ–¹æ³•ä¸»è¦ä½œç”¨æ˜¯ï¼šè¯¥æ–¹æ³•è¿”å›çš„ç±»å‹æ˜¯åœ¨iocå®¹å™¨ä¸­getbeanæ‰€åŒ¹é…çš„ç±»å‹        return Car.class;    &#125;      public boolean isSingleton() &#123;        return true;    &#125;&#125;\n\næˆ‘ä»¬åœ¨å®šä¹‰ä¸­æ²¡æœ‰æ·»åŠ  Carï¼Œè€Œæ˜¯ç›´æ¥åœ¨å®¹å™¨ä¸­æ·»åŠ äº†ä¸€ä¸ª CarFactoryBeanï¼Œä¸è¿‡å¦‚æœä»å®¹å™¨ä¸­è·å– id ä¸º car çš„ bean æ—¶ï¼Œè·å¾—å¹¶ä¸æ˜¯ CarFactoryBean çš„å®ä¾‹ï¼Œè€Œæ˜¯ Car çš„å®ä¾‹ã€‚è¿™æ˜¯åº”ä¸º Spring é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª CarFactoryBean çš„å®ä¾‹ï¼Œç„¶åè°ƒç”¨äº† getObject æ–¹æ³•è·å–è¿”å›å€¼ï¼Œå¹¶å°†è¯¥è¿”å›å€¼ä½œä¸º id å¯¹åº”çš„å®ä¾‹ã€‚\n&lt;bean id=&quot;car&quot; class=&quot;com.liang.CarFactoryBean&quot;&gt;     &lt;property name=&quot;name&quot; value=&quot;chang&quot;/&gt;     &lt;property name=&quot;age&quot; value=&quot;12&quot;/&gt;&lt;/bean&gt;\n\nå¯¼å…¥å…¶ä»–é…ç½®åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼ŒSpring å¯èƒ½ä¼šç®¡ç†åˆ†å±ä¸åŒä¸šåŠ¡çš„ beanï¼Œå¦‚æœå°†æ‰€æœ‰çš„ bean å®šä¹‰åœ¨åŒä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼Œä¼šæ˜¾å¾—æ¯”è¾ƒæ··ä¹±ã€‚é‚£ä¹ˆå¯ä»¥å°†ä¸åŒä¸šåŠ¡çš„ bean å®šä¹‰åœ¨ä¸åŒçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œç„¶åå†å°†å…¶æ±‡æ€»ã€‚é€šè¿‡ä¸‹é¢çš„æ–¹å¼ï¼Œå¯ä»¥å¯¼å…¥å…¶ä»–çš„é…ç½®åˆ°å½“å‰é…ç½®ä¸­ã€‚\n&lt;beans&gt;    &lt;import resource=&quot;services.xml&quot;/&gt;    &lt;import resource=&quot;resources/messageSource.xml&quot;/&gt;    &lt;import resource=&quot;/resources/themeSource.xml&quot;/&gt;    &lt;bean id=&quot;bean1&quot; class=&quot;...&quot;/&gt;    &lt;bean id=&quot;bean2&quot; class=&quot;...&quot;/&gt;&lt;/beans&gt;\n\næ‰€æœ‰è·¯å¾„éƒ½ç›¸å¯¹äºå½“å‰é…ç½®æ–‡ä»¶ï¼Œå› æ­¤ services.xml å¿…é¡»ä¸è¿›è¡Œå¯¼å…¥çš„æ–‡ä»¶ä½äºåŒä¸€ç›®å½•æˆ–ä½ç½®ï¼Œè€Œ messageSource.xml å’Œ themeSource.xml å¿…é¡»ä½äºå¯¼å…¥æ–‡ä»¶ä½ç½®ä¸‹æ–¹çš„ resources ä½ç½®å¼€å¤´çš„æ–œæ ä¼šè¢«å¿½ç•¥ï¼Œæ‰€ä»¥é€šå¸¸å»ºè®®çœå»æ–œæ ã€‚\né™¤äº†ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ classpath:/com/liang/bean.xml ä»¥åŠ file:C:/config/services.xml è¿™æ ·çš„ç»å¯¹è·¯å¾„ã€‚\nä¸åŒé…ç½®æ–‡ä»¶ä¸­çš„ bean å¦‚æœæœ‰ç›¸åŒçš„ idï¼Œå³ä½¿æ˜¯ä¸ç›¸åŒçš„ç±»ï¼Œå…ˆå®šä¹‰çš„ä¼šæŠŠåå®šä¹‰çš„ç±»è¦†ç›–æ‰ã€‚\né™¤äº†ä½¿ç”¨è¿™ç§æ–¹æ³•æ±‡æ€»ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œåœ¨åˆ›å»ºå®¹å™¨çš„æ—¶å€™ä¹Ÿæ”¯æŒæ·»åŠ å¤šä¸ªæ–‡ä»¶ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºã€‚\nClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;classpath:/bean.xml&quot;, &quot;classpath:/bean2.xml&quot;);\n\nä¾èµ–æ³¨å…¥æ‰€è°“çš„ä¾èµ–æ³¨å…¥ï¼Œç®€å•çš„ç†è§£å°±æ˜¯ç»™å®ä¾‹ä¸­çš„å±æ€§èµ‹å€¼ï¼Œæ¯”å¦‚ä¸‹é¢çš„ç±»ï¼Œåœ¨åˆ›å»ºäº†å¯¹è±¡ä¹‹åï¼Œé€šå¸¸è¦å¯¹ age å’Œ name ä¸¤ä¸ªå±æ€§èµ‹å€¼ã€‚\npublic class Car &#123;    private String name;    private int age;    public Car() &#123;     &#125;    public Car(String name, int age) &#123;        this.name = name;        this.age = age;    &#125;      public void setAge( int age) &#123;        this.age = age;    &#125;      public void setName(String name_) &#123;        this.name = name;    &#125;  &#125;\n\nåœ¨ Sping ä¸­æœ‰ä¸¤ç§ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡æ„é€ å‡½æ•°ï¼Œä¸€ç§æ˜¯é€šè¿‡ setter æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”äº†æˆ‘ä»¬ç¼–ç¨‹æ—¶ç»™å¯¹è±¡å±æ€§èµ‹å€¼çš„ä¸¤ç§æ–¹æ³•ã€‚\nCar carOne = new Car(&quot;chang&quot;, 12);Car carTwo = new Car();carTwo.setName(&quot;liang&quot;);carTwo.setAge(13);\n\nè°ƒç”¨çš„å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡å®ä¾‹åï¼Œä»»ç„¶å¯ä»¥ä½¿ç”¨ set æ–¹æ³•æ›´æ–°å±æ€§å€¼ï¼Œæ‰€ä»¥åœ¨ Spring ä¸­ setter æ–¹æ³•å¯ç”¨äºè¦†ç›–æ„é€ å‡½æ•°ä¸­é…ç½®çš„ä¾èµ–ï¼Œæ„é€ å‡½æ•°ä¸€èˆ¬ç”¨äºå¼ºåˆ¶æ€§ä¾èµ–ï¼Œsetter æ–¹æ³•ç”¨äºå¯é€‰ä¾èµ–ã€‚\nåŸºäºæ„é€ å‡½æ•°æ³¨å…¥public class TeacherBean &#123;    private String name;        private StudentBean student;    public TeacherBean(String name, StudentBean student) &#123;        this.name = name;        this.student = student;    &#125;&#125;\n\nå½“ç±»çš„å±æ€§æ˜¯é€šè¿‡æ„é€ å‡½æ•°èµ‹å€¼çš„æ—¶å€™ï¼Œåœ¨å®šä¹‰ bean çš„æ—¶å€™å°±éœ€è¦åŸºäºæ„é€ å‡½æ•°å°†å±æ€§æ³¨å…¥ï¼Œé€šå¸¸é…ç½®å¦‚ä¸‹ï¼š\n&lt;beans&gt;    &lt;bean id=&quot;teacher&quot; class=&quot;con.liang.TeacherBean&quot;&gt;        &lt;constructor-arg value=&quot;chang&quot;/&gt;        &lt;constructor-arg ref=&quot;student&quot;/&gt;    &lt;/bean&gt;    &lt;bean id=&quot;student&quot; class=&quot;com.liang.StudentBean&quot;/&gt;&lt;/beans&gt;\n\nå…¶ä¸­ &lt;constructor-arg value=&quot;chang&quot;/&gt; æŒ‡å®šä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å‚æ•°ï¼Œ&lt;constructor-arg ref=&quot;student&quot;/&gt; æŒ‡å®šä¸€ä¸ªå¯¹è±¡ã€‚\nä¸Šé¢çš„ç¤ºä¾‹ä¸­ä¸¤ä¸ªå‚æ•°æ¯”è¾ƒå®¹æ˜“åŒºåˆ†ï¼Œå¦‚æœä¸¤ä¸ªå‚æ•°éƒ½æ˜¯åŸºæœ¬ç±»å‹æˆ–å±äºåŒä¸€ä¸ªç±»ï¼Œåˆ™éœ€è¦é¢å¤–å±æ€§è¿›è¡Œè¾…åŠ©ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­ï¼š\npublic class TeacherBean &#123;    private String name;    private int age;    public TeacherBean(String name, int age) &#123;        this.name = name;        this.age = age;    &#125;&#125;\n\n\nå¯ä»¥é€šè¿‡ type æŒ‡å®šç±»å‹è¿›è¡ŒåŒºåˆ†ã€‚\nè¿™ä¸ªæ—¶å€™å¦‚æœè¿˜æ˜¯åªç”¨ä¸å¸¦ä»»ä½•å±æ€§çš„ canstructor-arg æ ‡ç­¾çš„è¯ï¼ŒSpring æ˜¯æ— æ³•åˆ†æ¸…æ¥š 1 è¿™ä¸ªå€¼æ—¶èµ‹ç»™ name è¿˜æ˜¯ age çš„ï¼Œå› ä¸ºæ— æ³•åŒºåˆ† 1 è¿™ä¸ªå­—é¢å€¼åˆ°åº•æ˜¯æ•°å­—è¿˜æ˜¯å­—ç¬¦ä¸²ã€‚\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;constructor-arg value=&quot;1&quot;/&gt;    &lt;constructor-arg value=&quot;2&quot;/&gt;&lt;/bean&gt;\n\nä½¿ç”¨ type å±æ€§å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢çš„é…ç½®ä¸­å°±æ˜ç¡®æŒ‡æ˜äº† 1 è¦èµ‹ç»™ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ï¼Œä½†è¿™ç§æ–¹æ³•ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå¦‚æœå¤šä¸ªå‚æ•°ç±»å‹ç›¸åŒçš„è¯ï¼Œå°±æ— æ³•ä½¿ç”¨äº†ã€‚\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;1&quot;/&gt;    &lt;constructor-arg type=&quot;int&quot; value=&quot;2&quot;/&gt;&lt;/bean&gt;\n\nå¯ä»¥æŒ‡å®šç´¢å¼•è¿›è¡ŒåŒºåˆ†ã€‚\nè¿™ä¸ªæ–¹æ³•æ¯”è¾ƒå¥½ç†è§£ï¼Œç›´æ¥ä½¿ç”¨å‚æ•°åœ¨å‚æ•°åˆ—è¡¨ä¸­çš„åºå·å®šä½å³å¯ï¼Œæ¯”å¦‚ä¸‹é¢çš„é…ç½®ï¼Œå°† 1 èµ‹ç»™ 0 å·ä½çš„å‚æ•°ã€‚\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;constructor-arg index=&quot;0&quot; value=&quot;1&quot;/&gt;    &lt;constructor-arg index=&quot;1&quot; value=&quot;2&quot;/&gt;&lt;/bean&gt;\n\nå¯ä»¥æŒ‡å®šå±æ€§åè¿›è¡ŒåŒºåˆ†ã€‚\nè¿™ä¸ªä¹Ÿæ˜¯æ¯”è¾ƒæ¸…æ™°ï¼Œä½¿ç”¨å‚æ•°åæ¥å¯¹åº”å€¼ã€‚\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;constructor-arg name=&quot;name&quot; value=&quot;1&quot;/&gt;    &lt;constructor-arg name=&quot;age&quot; value=&quot;2&quot;/&gt;&lt;/bean&gt;\n\nåŸºäº Setter æ³¨å…¥åœ¨ä¸é€šè¿‡æ„é€ æ–¹æ³•æ³¨å…¥æ—¶ï¼ŒSpring éœ€è¦é¦–å…ˆè°ƒç”¨ç±»ä¸­æ— å‚æ•°çš„æ„é€ å‡½æ•°è¿›è¡Œå®ä¾‹åŒ–ï¼Œä¹‹åå†é€šè¿‡ setter æ–¹æ³•æ³¨å…¥å±æ€§ï¼Œæ‰€ä»¥å¿…é¡»ä¿è¯æ— å‚æ•°çš„æ„é€ å‡½æ•°ä»¥åŠ setter æ–¹æ³•å­˜åœ¨ã€‚\npublic class TeacherBean &#123;    private String name;    private int age;   &#125;\n\nå¯¹äºä¸Šé¢çš„è¿™ä¸ªç±»ï¼Œå¦‚æœéœ€è¦å®ç°å±æ€§æ³¨å…¥ï¼Œé…ç½®å¦‚ä¸‹ï¼š\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;12&quot; /&gt;    &lt;property name=&quot;age&quot; value=&quot;122&quot; /&gt;&lt;/bean&gt;\n\nå¦‚æœæ³¨å…¥çš„å±æ€§æ—¶ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ â€‹ &lt;property name=&quot;student&quot; ref=&quot;student&quot; /&gt; è¿™æ ·çš„æ–¹å¼ï¼š\n&lt;beans&gt;    &lt;bean id=&quot;teacher&quot; class=&quot;con.liang.TeacherBean&quot;&gt;        &lt;property name=&quot;name&quot; value=&quot;12&quot; /&gt;        &lt;property name=&quot;student&quot; ref=&quot;student&quot; /&gt;    &lt;/bean&gt;    &lt;bean id=&quot;student&quot; class=&quot;com.liang.StudentBean&quot;/&gt;&lt;/beans&gt;\n\næ³¨å…¥é…ç½®ç»†èŠ‚å¸¸é‡æ³¨å…¥\nå­—é¢å€¼: å¯ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„å€¼ï¼Œå¯ä»¥é€šè¿‡ value å±æ€§æˆ–æ ‡ç­¾è¿›è¡Œæ³¨å…¥ã€‚\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;       &lt;property name=&quot;name&quot; value=&quot;12&quot; /&gt;       &lt;property name=&quot;age&quot;&gt;               &lt;value&gt;12&lt;/value&gt;       &lt;/property &gt;&lt;/bean&gt;\n\næ”¯æŒå°† value æ ‡ç­¾ä¸­çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸º java.util.Properties ç±»\n&lt;!-- typed as a java.util.Properties --&gt;&lt;property name=&quot;properties&quot;&gt;    &lt;value&gt;        jdbc.driver.className=com.mysql.jdbc.Driver        jdbc.url=jdbc:mysql://localhost:3306/mydb    &lt;/value&gt;&lt;/property&gt;\n\nåŸºæœ¬æ•°æ®ç±»å‹åŠå…¶å°è£…ç±»ã€String ç­‰ç±»å‹éƒ½å¯ä»¥é‡‡å–å­—é¢å€¼æ³¨å…¥çš„æ–¹å¼\n\nè‹¥å­—é¢å€¼ä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨  æŠŠå­—é¢å€¼åŒ…è£¹èµ·æ¥ã€‚\n\n\nBean æ³¨å…¥\nå¯ä»¥ç”¨ ref å±æ€§æˆ–æ ‡ç­¾å¼•å…¥å¤–éƒ¨ç±»\n&lt;bean id=&quot;addr&quot; class=&quot;com.chang.pojo.Address&quot;&gt;    &lt;property name=&quot;address&quot; value=&quot;é‡åº†&quot;/&gt;&lt;/bean&gt;&lt;!-- ä½¿ç”¨refå±æ€§ --&gt;&lt;bean id=&quot;student&quot; class=&quot;com.chang.pojo.Student&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;å°æ˜&quot;/&gt;    &lt;property name=&quot;address&quot; ref=&quot;addr&quot;/&gt;&lt;/bean&gt;&lt;!-- ä½¿ç”¨æ ‡ç­¾ --&gt;&lt;bean id=&quot;student&quot; class=&quot;com.chang.pojo.Student&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;å°æ˜&quot;/&gt;    &lt;property name=&quot;address&quot;&gt;        &lt;ref bean=&quot;addr&quot;/&gt;    &lt;/property&gt;&lt;/bean&gt;\n\nç”¨ ref æ ‡ç­¾çš„ parent å±æ€§å¯ä»¥ä»çˆ¶å®¹å™¨ä¸­è·çš„ bean\n&lt;!-- in the parent context --&gt;&lt;bean id=&quot;accountService&quot; class=&quot;com.something.SimpleAccountService&quot;&gt;    &lt;!-- insert dependencies as required as here --&gt;&lt;/bean&gt;\n\n&lt;!-- in the child (descendant) context --&gt;&lt;bean id=&quot;accountService&quot; &lt;!-- bean name is the same as the parent bean --&gt;    class=&quot;org.springframework.aop.framework.ProxyFactoryBean&quot;&gt;    &lt;property name=&quot;target&quot;&gt;        &lt;ref parent=&quot;accountService&quot;/&gt; &lt;!-- notice how we refer to the parent bean --&gt;    &lt;/property&gt;    &lt;!-- insert other configuration and dependencies as required here --&gt;&lt;/bean&gt;\n\nå¯ä»¥ä½¿ç”¨ idref ä»£æ›¿ ref æ ‡ç­¾\nä½¿ç”¨ idref æ ‡ç­¾åœ¨å®¹å™¨éƒ¨ç½²çš„æ—¶å€™ä¼šéªŒè¯ bean æ˜¯å¦å­˜åœ¨ã€‚\n&lt;bean id=&quot;theTargetBean&quot; class=&quot;...&quot;/&gt;&lt;bean id=&quot;theClientBean&quot; class=&quot;...&quot;&gt;    &lt;property name=&quot;targetName&quot;&gt;        &lt;idref bean=&quot;theTargetBean&quot;/&gt;    &lt;/property&gt;&lt;/bean&gt;\n\nå¯ä»¥ä½¿ç”¨å†…éƒ¨ç±»\n&lt;bean id=&quot;student&quot; class=&quot;com.chang.pojo.Student&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;å°æ˜&quot;/&gt;    &lt;property name=&quot;address&quot;&gt;        &lt;bean id=&quot;addr&quot; class=&quot;com.chang.pojo.Address&quot;&gt;            &lt;property name=&quot;address&quot; value=&quot;é‡åº†&quot;/&gt;    &lt;/bean&gt;    &lt;/property&gt;&lt;/bean&gt;\n\nå†…éƒ¨ç±»ä¸ç”¨æŒ‡æ˜ id å’Œ name å±æ€§ï¼Œä½†ä¸èƒ½ç”¨äºå…¶ä»–åœ°æ–¹ã€‚\n\nSpring æ”¯æŒä½¿ç”¨çº§è”å±æ€§èµ‹å€¼ã€‚\n&lt;bean id=&quot;addr&quot; class=&quot;com.chang.pojo.Address&quot;&gt;    &lt;property name=&quot;address&quot; value=&quot;é‡åº†&quot;/&gt;&lt;/bean&gt;&lt;bean id=&quot;student&quot; class=&quot;com.chang.pojo.Student&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;å°æ˜&quot;/&gt;    &lt;property name=&quot;address&quot; ref=&quot;addr&quot;/&gt;    &lt;property name=&quot;adderss.address&quot; value=&quot;é‡åº†&quot;/&gt;&lt;/bean&gt;\n\næ•°ç»„æ³¨å…¥&lt;bean id=&quot;student&quot; class=&quot;com.kuang.pojo.Student&quot;&gt;    &lt;property name=&quot;name&quot; value=&quot;å°æ˜&quot;/&gt;    &lt;property name=&quot;address&quot; ref=&quot;addr&quot;/&gt;    &lt;property name=&quot;books&quot;&gt;        &lt;array&gt;            &lt;value&gt;è¥¿æ¸¸è®°&lt;/value&gt;            &lt;value&gt;çº¢æ¥¼æ¢¦&lt;/value&gt;            &lt;value&gt;æ°´æµ’ä¼ &lt;/value&gt;        &lt;/array&gt;    &lt;/property&gt;&lt;/bean&gt;\n\nList æ³¨å…¥&lt;property name=&quot;someList&quot;&gt;    &lt;list&gt;        &lt;value&gt;a list element followed by a reference&lt;/value&gt;        &lt;ref bean=&quot;myDataSource&quot; /&gt;    &lt;/list&gt;&lt;/property&gt;\n\nMap æ³¨å…¥&lt;property name=&quot;someMap&quot;&gt;    &lt;map&gt;        &lt;entry key=&quot;an entry&quot; value=&quot;just some string&quot;/&gt;        &lt;entry key =&quot;a ref&quot; value-ref=&quot;myDataSource&quot;/&gt;    &lt;/map&gt;&lt;/property&gt;\n\nset æ³¨å…¥&lt;property name=&quot;someSet&quot;&gt;    &lt;set&gt;        &lt;value&gt;just some string&lt;/value&gt;        &lt;ref bean=&quot;myDataSource&quot; /&gt;    &lt;/set&gt;&lt;/property&gt;\n\nProperties æ³¨å…¥&lt;property name=&quot;info&quot;&gt;    &lt;props&gt;        &lt;prop key=&quot;å­¦å·&quot;&gt;20190604&lt;/prop&gt;        &lt;prop key=&quot;æ€§åˆ«&quot;&gt;ç”·&lt;/prop&gt;        &lt;prop key=&quot;å§“å&quot;&gt;å°æ˜&lt;/prop&gt;    &lt;/props&gt;&lt;/property&gt;\n\né›†åˆåˆå¹¶bean æ ‡ç­¾ä¸­æœ‰ä¸€ä¸ªå±æ€§ä¸º abstractï¼Œé»˜è®¤æƒ…å†µä¸‹è¯¥å€¼ä¸º falseï¼Œå¦‚æœå°†ä»–è®¾ç½®ä¸º true çš„è¯ï¼Œé‚£ä¹ˆå®¹å™¨å°†ä¸ä¼šåˆ›å»ºå®ƒçš„å®ä¾‹ã€‚å®ƒéœ€è¦å’Œ parent é…åˆä½¿ç”¨ï¼Œå§‘ä¸”å¯ä»¥å°† abstrcat å±æ€§çš„ bean ç§°ä¸ºçˆ¶ beanï¼Œå°†å¸¦æœ‰ parent å±æ€§çš„ bean ç§°ä¸ºå­ beanï¼Œçˆ¶ bean ä¸­çš„ property æ ‡ç­¾ä¼šè¢«ç»§æ‰¿åˆ°å­ bean ä¸­ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œ&lt;property name=&quot;name&quot; value = &quot;chang&quot;/&gt; ä¼šè¢«è‡ªåŠ¨æ·»åŠ åˆ°å­ bean ä¸­ã€‚\n&lt;beans&gt;    &lt;bean id=&quot;parent&quot; abstract=&quot;true&quot; class=&quot;example.ComplexObject&quot;&gt;        &lt;property name=&quot;name&quot; value = &quot;chang&quot;/&gt;        &lt;property name=&quot;adminEmails&quot;&gt;            &lt;props&gt;                &lt;prop key=&quot;administrator&quot;&gt;[emailprotected]&lt;/prop&gt;                &lt;prop key=&quot;support&quot;&gt;[emailprotected]&lt;/prop&gt;            &lt;/props&gt;        &lt;/property&gt;    &lt;/bean&gt;    &lt;bean id=&quot;child&quot; parent=&quot;parent&quot;&gt;        &lt;property name=&quot;adminEmails&quot;&gt;            &lt;!-- the merge is specified on the child collection definition --&gt;            &lt;props merge=&quot;true&quot;&gt;                &lt;prop key=&quot;sales&quot;&gt;[emailprotected]&lt;/prop&gt;                &lt;prop key=&quot;support&quot;&gt;[emailprotected]&lt;/prop&gt;            &lt;/props&gt;        &lt;/property&gt;    &lt;/bean&gt;&lt;beans&gt;\n\nå­ bean å¦‚æœå’Œçˆ¶ bean å®šä¹‰äº†ç›¸åŒçš„å±æ€§ï¼Œé‚£ä¹ˆåè€…ä¼šæŠŠå‰è€…çš„å€¼è¦†ç›–ã€‚ä¸è¿‡å¦‚æœå±æ€§æ˜¯é›†åˆçš„è¯ï¼Œå¯ä»¥å¼€å¯é›†åˆçš„åˆå¹¶è¡Œä¸ºï¼Œç›®å‰åˆå¹¶è¡Œä¸ºé€‚ç”¨äº &lt;list/&gt;ï¼Œ&lt;map/&gt;ã€&lt;set/&gt; å’Œ &lt;properties&gt; é›†åˆç±»å‹ï¼Œéœ€è¦åšçš„æ˜¯å°† merge å±æ€§è®¾ç½®ä¸º trueã€‚\nåœ¨åˆå¹¶ List å…ƒç´ æ—¶çˆ¶ bean çš„å€¼ä½äºæ‰€æœ‰å­çº§åˆ—è¡¨çš„å€¼ä¹‹å‰ï¼Œå¯¹äº Mapï¼ŒSet å’Œ Properties é›†åˆç±»å‹ï¼Œä¼šç»§æ‰¿æ‰€æœ‰çˆ¶çº§ä¸­çš„å…ƒç´ ï¼Œå¯¹äº key ç›¸åŒçš„å…ƒç´ ä¼šè¿›è¡Œè¦†ç›–ã€‚\nç©ºå­—ç¬¦ä¸²å’Œ null å€¼æ³¨å…¥&lt;!-- ç­‰ä»·äº wife = null --&gt;&lt;property name=&quot;wife&quot;&gt;&lt;null/&gt;&lt;/property&gt;&lt;!-- ç­‰ä»·äº email = &quot;&quot; --&gt;&lt;property name=&quot;email&quot; value=&quot;&quot;/&gt;\n\næ³¨å…¥æ‹“å±•: P å‘½åç©ºé—´åœ¨ beans ä¸­æ·»åŠ  xmlns:p=&quot;http://www.springframework.org/schema/p&quot; å¯ä»¥å¼€å¯ P å‘½åç©ºé—´ï¼Œä½œç”¨æ˜¯å¯ä»¥ä½¿ç”¨ç±»ä¼¼ p:email çš„å±æ€§æ›¿ä»£ property æ ‡ç­¾ã€‚\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;    &lt;bean name=&quot;classic&quot; class=&quot;com.example.ExampleBean&quot;&gt;        &lt;property name=&quot;email&quot; value=&quot;[emailprotected]&quot;/&gt;    &lt;/bean&gt;    &lt;bean name=&quot;p-namespace&quot; class=&quot;com.example.ExampleBean&quot;        p:email=&quot;[emailprotected]&quot;/&gt;&lt;/beans&gt;\n\næ³¨å…¥æ‹“å±•: c å‘½åç©ºé—´åœ¨ beans ä¸­æ·»åŠ  xmlns:c=&quot;http://www.springframework.org/schema/c&quot; å¯ä»¥å¼€å¯ C å‘½åç©ºé—´ï¼Œä½œç”¨æ˜¯ä½¿ç”¨ç±»ä¼¼ c:thingTwo-ref çš„å±æ€§æ›¿ä»£ constructor-arg æ ‡ç­¾ã€‚\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xmlns:c=&quot;http://www.springframework.org/schema/c&quot;    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;    &lt;bean id=&quot;thingOne&quot; class=&quot;x.y.ThingTwo&quot;/&gt;    &lt;bean id=&quot;thingTwo&quot; class=&quot;x.y.ThingThree&quot;/&gt;    &lt;!-- traditional declaration --&gt;    &lt;bean id=&quot;thingOne&quot; class=&quot;x.y.ThingOne&quot;&gt;        &lt;constructor-arg ref=&quot;thingTwo&quot;/&gt;        &lt;constructor-arg ref=&quot;thingThree&quot;/&gt;        &lt;constructor-arg value=&quot;[emailprotected]&quot;/&gt;    &lt;/bean&gt;    &lt;!-- c-namespace declaration --&gt;    &lt;bean id=&quot;thingOne&quot; class=&quot;x.y.ThingOne&quot; c:thingTwo-ref=&quot;thingTwo&quot; c:thingThree-ref=&quot;thingThree&quot; c:email=&quot;[emailprotected]&quot;/&gt;&lt;/beans&gt;\n\nutil é‡Œçš„é›†åˆæ ‡ç­¾ä½¿ç”¨åŸºæœ¬çš„é›†åˆæ ‡ç­¾å®šä¹‰é›†åˆæ—¶ , ä¸èƒ½å°†é›†åˆä½œä¸ºç‹¬ç«‹çš„ bean å®šä¹‰ , å¯¼è‡´å…¶ä»– bean æ— æ³•å¼•ç”¨è¯¥é›†åˆ , æ— æ³•è®©é›†åˆåœ¨ä¸åŒ bean ä¹‹é—´å…±äº«ã€‚åœ¨ beans ä¸­æ·»åŠ  xmlns:util=&quot;http://www.springframework.org/schema/util&quot; å¯ä»¥å¼€å¯é›†åˆæ ‡ç­¾ï¼Œå®ƒå®ç°äº†é›†åˆç±»å‹çš„ç‹¬ç«‹å®šä¹‰ã€‚\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xmlns:util=&quot;http://www.springframework.org/schema/util&quot;    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;    &lt;util:list id=&quot;list&quot;&gt;        &lt;ref bean=&quot;car1&quot;/&gt;        &lt;ref bean=&quot;car2&quot;/&gt;        &lt;ref bean=&quot;car3&quot;/&gt;         &lt;ref bean=&quot;car4&quot;/&gt;    &lt;/util:list&gt;    &lt;bean id=&quot;car1&quot; class=&quot;com.chang.Car&quot;&gt;&lt;/bean&gt;    &lt;bean id=&quot;car2&quot; class=&quot;com.chang.Car&quot;&gt;&lt;/bean&gt;    &lt;bean id=&quot;car3&quot; class=&quot;com.chang.Car&quot;&gt;&lt;/bean&gt;    &lt;bean id=&quot;car4&quot; class=&quot;com.chang.Car&quot;&gt;&lt;/bean&gt;      &lt;bean id=&quot;person&quot; class=&quot;com.chang.Person&quot;&gt;        &lt;property name=&quot;car&quot; ref=&quot;list&quot;/&gt;    &lt;/bean&gt;&lt;/beans&gt;\n\nè‡ªåŠ¨è£…é…Spring å®¹å™¨å¯ä»¥è‡ªåŠ¨è£…é… beanï¼Œéœ€è¦ä½¿ç”¨ autowire å±æ€§é‡ŒæŒ‡å®šè‡ªåŠ¨è£…é…çš„æ¨¡å¼ã€‚è¿™ä¸ªè‡ªåŠ¨è£…é…å¯ä»¥ç®€å•çš„ç†è§£ä¸ºï¼Œå¦‚æœä¸€ä¸ª bean çš„æŸä¸ªå±æ€§ç±»å‹ä¸º Aï¼Œå½“å®¹å™¨ä¸­å­˜åœ¨ä¸€ä¸ªç±»å‹ä¸º A çš„ bean æ—¶ï¼ŒSpirng å¯ä»¥è‡ªåŠ¨å°† A ç±»å‹çš„ bean èµ‹ç»™è¯¥å±æ€§ã€‚\npublic class User &#123;    private Car car;&#125;public class Car &#123;&#125;\n\nåœ¨ä¸‹é¢çš„é…ç½®ä¸­ï¼Œid ä¸º car çš„ bean ä¼šè‡ªåŠ¨è¢«èµ‹ç»™ user çš„ car å±æ€§ã€‚\n&lt;bean id=&quot;user&quot; class=&quot;com.liang.User&quot; autowire=&quot;byName&quot;&gt;&lt;/bean&gt;&lt;bean id=&quot;car&quot; class=&quot;com.liang.Car&quot;&gt;&lt;/bean&gt;\n\nautowire çš„å¯é€‰å€¼æœ‰å¤šä¸ªï¼Œåˆ†åˆ«ä»£è¡¨ä¸åŒçš„è£…é…æ¨¡å¼ï¼š\n\nnoï¼šé»˜è®¤å€¼ï¼Œè¡¨ç¤ºä¸è¿›è¡Œè‡ªåŠ¨è£…é…ï¼Œæ‰€æœ‰çš„ bean å¼•ç”¨å¿…é¡»ç”±æ‰‹åŠ¨å®šä¹‰ã€‚å¯¹äºå¤§å‹éƒ¨ç½²ï¼Œå»ºè®®ä¸è¦æ›´æ”¹é»˜è®¤è®¾ç½®ï¼Œå› ä¸ºæ˜ç¡®æŒ‡å®šåä½œè€…å¯ä»¥æä¾›æ›´å¥½çš„æ§åˆ¶å’Œæ¸…æ™°åº¦ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œå®ƒè®°å½•äº†ç³»ç»Ÿçš„ç»“æ„ã€‚\nbyNameï¼šæŒ‰å±æ€§åç§°è‡ªåŠ¨è£…é…ï¼ŒSpring ä¼šå¯»æ‰¾ä¸å±æ€§åŒåçš„ beanã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ª bean åŒ…å«ä¸€ä¸ª master å±æ€§ï¼Œé‚£ä¹ˆ Spring å°†æŸ¥æ‰¾ä¸€ä¸ªåä¸º master çš„ bean æ¥ä¸ºå®ƒèµ‹å€¼ã€‚\nbyTypeï¼šä¸ byName ç±»ä¼¼ï¼Œåªä¸è¿‡å®ƒæŸ¥æ‰¾ bean çš„ä¾æ®æ˜¯å±æ€§çš„ç±»å‹ã€‚\nconstructorï¼šç±»ä¼¼äº byTypeï¼Œä½†å®ƒé€‚ç”¨äºæ„é€ å‡½æ•°çš„æƒ…å†µã€‚\n\nåœ¨ byType æˆ– constructor è‡ªåŠ¨è£…é…æ¨¡å¼ä¸‹ï¼Œå¯ä»¥è‡ªåŠ¨æŒ‰ç±»å‹è£…é…æ•°ç»„æˆ–é›†åˆã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ map å¹¶ä¸” key æ˜¯ String ç±»å‹ï¼Œåˆ™ä½¿ç”¨ bean çš„ id å±æ€§ä½œä¸º keyã€‚\npublic class TeacherBean &#123;   private StudentBean[] students;    public void setStudents(StudentBean[] students) &#123;        this.students = students;    &#125;&#125;public class StudentBean &#123;&#125;\n\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot; autowire=&quot;byType&quot; /&gt;&lt;bean class=&quot;com.liang.bean.StudentBean&quot;/&gt;&lt;bean class=&quot;com.liang.bean.StudentBean&quot;/&gt;\n\nbean ä¸­è¿˜æœ‰ä¸€ä¸ªå±æ€§ autowire-candidateï¼Œå°†å®ƒè®¾ç½®ä¸º false åï¼Œè¯¥ bean ä¸å‚ä¸æŒ‰ç±»å‹è‡ªåŠ¨è£…é…ï¼Œä½†æ˜¯ä¸å½±å“æŒ‰åå­—è£…é…ã€‚\n&lt;bean class=&quot;com.liang.bean.StudentBean&quot; autowire-candidate=&quot;false&quot;/&gt;\n\nç»§æ‰¿å’Œä¾èµ–ç»§æ‰¿Spring å…è®¸ç»§æ‰¿ bean çš„é…ç½®ï¼Œè¢«ç»§æ‰¿çš„ bean ç§°ä¸ºçˆ¶ â€‹ beanï¼Œç»§æ‰¿è¿™ä¸ªçˆ¶ Bean çš„ Bean â€‹ ç§°ä¸ºå­ Beanï¼Œå‰é¢åœ¨é›†åˆåˆå¹¶ä¸­ç®€å•çš„æè¿‡ï¼Œè¿™é‡Œè¯¦ç»†è®²è§£ä¸€ä¸‹ã€‚å­ bean â€‹ ä»çˆ¶ bean â€‹ ä¸­ç»§æ‰¿é…ç½®ï¼ŒåŒ…æ‹¬ bean çš„å±æ€§é…ç½®ï¼Œå­ bean ä¹Ÿå¯ä»¥è¦†ç›–ä»çˆ¶ bean ç»§æ‰¿è¿‡æ¥çš„é…ç½®ã€‚çˆ¶ bean å¯ä»¥ä½œä¸ºé…ç½®æ¨¡æ¿ï¼Œä¹Ÿå¯ä»¥ä½œä¸º bean å®ä¾‹ã€‚è‹¥åªæƒ³æŠŠçˆ¶ bean ä½œä¸ºæ¨¡æ¿, å¯ä»¥è®¾ç½® bean çš„ abstract â€‹ å±æ€§ä¸º â€‹ trueï¼Œè¿™æ · Spring å°†ä¸ä¼šå®ä¾‹åŒ–è¿™ä¸ª beanï¼Œå¹¶ä¸æ˜¯ bean å…ƒç´ é‡Œçš„æ‰€æœ‰å±æ€§éƒ½ä¼šè¢«ç»§æ‰¿ï¼Œæ¯”å¦‚: autowire, abstract ç­‰ã€‚\n&lt;bean id=&quot;parent&quot; abstract=&quot;true&quot;&gt;    &lt;property name=&quot;parentName&quot;&gt;        &lt;value&gt;&lt;/value&gt;    &lt;/property&gt;&lt;/bean&gt;&lt;bean id=&quot;child&quot; class=&quot;com.spring.auto.autowire.Parent&quot; parent=&quot;parent&quot;&gt;    &lt;property name=&quot;parentName&quot;&gt;        &lt;value&gt;æŠ½è±¡ç±»å®ç°&lt;/value&gt;    &lt;/property&gt;&lt;/bean&gt;\n\nä¾èµ–Spring å…è®¸ç”¨æˆ·é€šè¿‡ depends-on å±æ€§è®¾å®š bean å‰ç½®ä¾èµ–çš„ beanï¼Œå‰ç½®ä¾èµ–çš„ bean ä¼šåœ¨æœ¬ bean å®ä¾‹åŒ–ä¹‹å‰åˆ›å»ºå¥½ã€‚å¦‚æœå‰ç½®ä¾èµ–äºå¤šä¸ª beanï¼Œåˆ™å¯ä»¥é€šè¿‡é€—å·ï¼Œç©ºæ ¼éš”å¼€çš„æ–¹å¼é…ç½® bean çš„åç§°ã€‚\n&lt;bean id=&quot;beanOne&quot; class=&quot;ExampleBean&quot; depends-on=&quot;manager,accountDao&quot;&gt;    &lt;property name=&quot;manager&quot; ref=&quot;manager&quot; /&gt;&lt;/bean&gt;&lt;bean id=&quot;manager&quot; class=&quot;ManagerBean&quot; /&gt;&lt;bean id=&quot;accountDao&quot; class=&quot;x.y.jdbc.JdbcAccountDao&quot; /&gt;\n\næ‡’åŠ è½½ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®¹å™¨åˆ›å»ºçš„æ—¶å€™ bean å°±ä¼šè¢«åŠ è½½ï¼Œæœ‰æ—¶å€™ä¸éœ€è¦ bean åŠ è½½è¿™ä¹ˆæ—©ï¼Œå°±å¯ä»¥ä½¿ç”¨æ‡’åŠ è½½ï¼Œè¿™æ—¶å€™ bean ä¼šåœ¨è·å–çš„æ—¶å€™æ‰è¢«åˆ›å»ºã€‚\n&lt;bean id=&quot;lazy&quot; class=&quot;com.something.ExpensiveToCreateBean&quot; lazy-init=&quot;true&quot;/&gt;&lt;bean name=&quot;not.lazy&quot; class=&quot;com.something.AnotherBean&quot;/&gt;\n\nå¦‚æœå¸Œæœ›æ‰€æœ‰çš„ bean éƒ½å®ç°æ‡’åŠ è½½ï¼Œé‚£ä¹ˆå¯ä»¥å°† beans ä¸Šçš„ default-lazy-init å±æ€§è®¾ç½®ä¸º trueã€‚\n&lt;beans default-lazy-init=&quot;true&quot;&gt;&lt;/beans&gt;\n\næ–¹æ³•æ³¨å…¥å±æ€§ä¸­çš„ bean åªæœ‰ä¸€æ¬¡æ³¨å…¥çš„æœºä¼šï¼Œåç»­ä½¿ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ª beanï¼Œæœ‰çš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›æ¯æ¬¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„ beanï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨åˆ°æ–¹æ³•æ³¨å…¥ã€‚\nApplicationContextAware æ¥å£å®ç°ä¸Šè¿°éœ€æ±‚çš„ä¸€ç§æ–¹æ³•æ˜¯å®ç° ApplicationContextAware æ¥å£ç»™ bean æ³¨å…¥å®¹å™¨ï¼Œæ¯æ¬¡é€šè¿‡å®¹å™¨è·å–æ–°çš„ beanï¼Œä¸è¿‡è¿™ç§æ–¹æ³•è€¦åˆåº¦æ¯”è¾ƒå¤§ï¼Œä¸€èˆ¬ä¸æ¨èä½¿ç”¨ã€‚\npublic class TeacherBean implements ApplicationContextAware &#123;    private ApplicationContext applicationContext;    public StudentBean student() &#123;        return (StudentBean) applicationContext.getBean(&quot;student&quot;);    &#125;    @Override    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123;        this.applicationContext = applicationContext;    &#125;&#125;\n\næŸ¥æ‰¾æ–¹æ³•æ³¨å…¥Sping å¯ä»¥é€šè¿‡é‡å†™å­—èŠ‚ç ç”Ÿæˆå­ç±»è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•å®ç°æ³¨å…¥ã€‚\npublic class TeacherBean  &#123;        public StudentBean student() &#123;        return null;    &#125;&#125;\n\n&lt;bean id=&quot;teacher&quot;  class=&quot;com.liang.bean.TeacherBean&quot;&gt;    &lt;lookup-method name=&quot;student&quot; bean=&quot;student&quot; /&gt;&lt;/bean&gt;&lt;bean id=&quot;student&quot; class=&quot;com.liang.bean.StudentBean&quot; scope=&quot;prototype&quot; /&gt;\n\næ³¨å…¥çš„æ–¹æ³•ç­¾ååº”è¯¥æ»¡è¶³å¦‚ä¸‹æ ¼å¼ï¼š\n&lt;public|protected&gt; [abstract] &lt;return-type&gt; theMethodName(no-arguments);\n\nBean çš„ä½œç”¨åŸŸåœ¨ bean æ ‡ç­¾é‡Œå¯ä»¥è®¾ç½® scope å±æ€§è®¾ç½® bean çš„ä½œç”¨åŸŸï¼Œä¸åŒçš„ä½œç”¨åŸŸæœ‰ä¸åŒçš„æ•ˆæœã€‚\n&lt;bean id=&quot;ServiceImpl&quot; class=&quot;cn.csdn.service.ServiceImpl&quot; scope=&quot;singleton&quot;&gt;\n\n\nsingletonï¼šé»˜è®¤çš„ä½œç”¨åŸŸï¼Œå¯ä»¥ç†è§£ä¸ºå•ä¾‹æ¨¡å¼ï¼Œæ¯ä¸ªä»å®¹å™¨ä¸­è·å¾—çš„ bean éƒ½æ˜¯åŒä¸€ä¸ªã€‚\nprotptypeï¼šæ¯æ¬¡è·å– bean çš„æ—¶å€™ï¼ŒSpring éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡ºæ¥ã€‚\n\né™¤æ­¤ä»¥å¤–è¿˜æœ‰ requestã€sessionã€application å’Œ websocket ä½œç”¨åŸŸï¼Œä¸è¿‡æœ€å¸¸ä½¿ç”¨çš„è¿˜æ˜¯ singleton å’Œ protptype ä½œç”¨åŸŸã€‚\nè‡ªå®šä¹‰ Bean çš„æ€§è´¨ç”Ÿå‘½å‘¨æœŸå›è°ƒåœ¨ Spring æ¡†æ¶å†…éƒ¨ä½¿ç”¨ BeanPostProcessor æ¥å¤„ç†å®ƒå¯ä»¥æ‰¾åˆ°çš„ä»»ä½•å›è°ƒæ¥å£å¹¶è°ƒç”¨é€‚å½“çš„æ–¹æ³•ï¼Œä¾‹å¦‚å¯ä»¥å®ç° Spring çš„ InitializingBean å’Œ DisposableBean æ¥å£ã€‚\nåˆå§‹åŒ–å›è°ƒå¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨ bean åˆå§‹åŒ–çš„æ—¶å€™åšä¸€äº›äº‹æƒ…ï¼Œå¯ä»¥å®ç° InitializingBean æ¥å£ï¼ŒSpring ä¼šåœ¨è®¾ç½®å®Œå±æ€§åè°ƒç”¨ afterPropertiesSet æ–¹æ³•ã€‚\n&lt;bean id=&quot;exampleInitBean&quot; class=&quot;examples.AnotherExampleBean&quot;/&gt;\n\npublic class AnotherExampleBean implements InitializingBean &#123;    public void afterPropertiesSet() &#123;        // do some initialization work    &#125;&#125;\n\nä¸Šé¢è¿™ç§æƒ…å†µè€¦åˆåº¦æ¯”è¾ƒå¤§ï¼ŒSpring æä¾›äº†å¦ä¸€ç§å¯ä»¥å®ç°ç›¸åŒåŠŸèƒ½çš„æ–¹å¼ï¼Œinit-method å¯ä»¥ç”¨æ¥æŒ‡å®šä¸€ä¸ªæ–¹æ³•ï¼Œbean å±æ€§è®¾ç½®å®Œæˆåä¼šæ‰§è¡Œè¯¥æ–¹æ³•ã€‚\n&lt;bean id=&quot;exampleInitBean&quot; class=&quot;examples.ExampleBean&quot; init-method=&quot;init&quot;/&gt;\n\npublic class ExampleBean &#123;    public void init() &#123;        // do some initialization work    &#125;&#125;\n\né”€æ¯å›è°ƒå’Œåˆå§‹åŒ–å›è°ƒä¸€æ ·ï¼Œé”€æ¯æ—¶ä¹Ÿå¯ä»¥åšä¸€äº›äº‹æƒ…ã€‚\n&lt;bean id=&quot;exampleInitBean&quot; class=&quot;examples.AnotherExampleBean&quot;/&gt;\n\npublic class AnotherExampleBean implements DisposableBean &#123;    public void destroy() &#123;        // do some destruction work (like releasing pooled connections)    &#125;&#125;\n\nSpring ä¹Ÿæä¾›äº†ç±»ä¼¼ init-method çš„ destroy-method æ–¹æ³•ï¼Œæ¥å®ç°è§£è€¦çš„ç›®çš„ã€‚\n&lt;bean id=&quot;exampleInitBean&quot; class=&quot;examples.ExampleBean&quot; destroy-method=&quot;cleanup&quot;/&gt;\n\npublic class ExampleBean &#123;    public void cleanup() &#123;        // do some destruction work (like releasing pooled connections)    &#125;&#125;\n\né»˜è®¤åˆå§‹åŒ–å’Œé”€æ¯å›è°ƒåœ¨ beans æ ‡ç­¾ä¸­å¯ä»¥ä½¿ç”¨ default-init-method å’Œ default-destroy-method å±æ€§ç»™æ‰€æœ‰ bean è®¾ç½®é»˜è®¤çš„åˆå§‹åŒ–åˆé”€æ¯å›è°ƒï¼Œå¯ä»¥é¿å…å¯¹æ¯ä¸ª bean éƒ½è®¾ç½®ä¸€éã€‚\nä½¿ç”¨æ³¨è§£é™¤äº†ä¸Šé¢æåˆ°çš„ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ @PostConstruct å’Œ @PreDestroy æ³¨è§£ï¼Œä¸è¿‡é¦–å…ˆéœ€è¦å¼€å¯æ³¨è§£ï¼Œæ­¤å¤„åªè¦äº†è§£å³å¯ï¼Œå¯¹æ³¨è§£æ”¯æŒçš„ä»‹ç»ä¼šåœ¨åç»­æ–‡ç« ä¸­ã€‚\n&lt;context:annotation-config/&gt;\n\nä¹‹åéœ€è¦åœ¨æ–¹æ³•ä¸Šè¿›è¡Œæ ‡æ³¨ï¼Œå…¶ä¸­ @PostConstruct æ ‡æ³¨çš„æ–¹æ³•ä¼šåœ¨å±æ€§è®¾ç½®åè¢«æ‰§è¡Œï¼Œ@PreDestroy æ ‡æ³¨çš„æ–¹æ³•ä¼šåœ¨ bean è¢«é”€æ¯å‰æ‰§è¡Œã€‚\npublic class TeacherBean  &#123;    @PostConstruct    public void init() &#123;        System.out.println(&quot;init&quot;);    &#125;    @PostConstruct    public void close() &#123;        System.out.println(&quot;close&quot;);    &#125;&#125;\n\nä¸€ä¸ª bean å¦‚æœä½¿ç”¨ä¸åŒçš„æ–¹æ³•é…ç½®äº†ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œåˆ™æ¯ä¸ªå‡½æ•°éƒ½ä¼šè¢«æ‰§è¡Œï¼Œå¦‚æœæ˜¯åŒåçš„å‡½æ•°ï¼Œä¹Ÿä¼šè¢«æ‰§è¡Œå¤šæ¬¡ã€‚\nApplicationContextAwareApplicationContextAware æ¥å£ç”¨äºè·å– ApplicationContextï¼Œåœ¨åˆ›å»º bean è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ bean å®ç°äº† ApplicationContextAware æ¥å£ï¼ŒSpring ä¼šè°ƒç”¨å®ƒçš„ setApplicationContext æ–¹æ³•ã€‚\npublic interface ApplicationContextAware &#123;    void setApplicationContext(ApplicationContext applicationContext) throws BeansException;&#125;\n\nBeanNameAwareä¸ ApplicationContextAware åŠŸèƒ½ç±»ä¼¼ï¼Œå¦‚æœä¸€ä¸ªå®ç°äº† BeanNameAware æ¥å£ï¼Œé‚£ä¹ˆ Spring ä¼šè°ƒç”¨å®ƒçš„ setBeanName æ–¹æ³•ï¼Œå¹¶å°† bean çš„ id ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚\npublic interface BeanNameAware &#123;    void setBeanName(String name) throws BeansException;&#125;\n\né›†æˆæ¥å£Spring ä¸­å¯ä»¥é€šè¿‡æ’å…¥ç‰¹æ®Šé›†æˆæ¥å£çš„å®ç°æ¥æ‰©å±• Spring IoC å®¹å™¨ã€‚\nä½¿ç”¨ BeanPostProcessor è‡ªå®šä¹‰ BeanBeanPostProcessor æ¥å£å®šä¹‰äº†å›è°ƒæ–¹æ³•ï¼Œé€šè¿‡å®ç°å¯ä»¥å®ç°è¿™äº›å›è°ƒæ–¹æ³•æˆ‘ä»¬å¯ä»¥è¦†ç›–å®¹å™¨çš„é»˜è®¤çš„å®ä¾‹åŒ–é€»è¾‘ã€ä¾èµ–é¡¹è§£æé€»è¾‘ç­‰ã€‚å¦‚æœæ‚¨æƒ³åœ¨ Spring å®¹å™¨å®Œæˆå®ä¾‹åŒ–ï¼Œé…ç½®å’Œåˆå§‹åŒ– bean ä¹‹åå®ç°ä¸€äº›è‡ªå®šä¹‰é€»è¾‘ï¼Œåˆ™å¯ä»¥æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ª BeanPostProcessor å®ç°ã€‚å¦‚æœé…ç½®äº†å¤šä¸ª BeanPostProcessor å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® order å±æ€§æ¥æ§åˆ¶è¿™äº› BeanPostProcessor å®ä¾‹çš„æ‰§è¡Œé¡ºåºï¼Œè¿™éœ€è¦ BeanPostProcessor å®ç° Ordered æ¥å£ã€‚\npublic class MyBeanPostProcessor implements BeanPostProcessor &#123;    @Override    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123;        System.out.println(&quot;postProcessBeforeInitialization&quot;);        return bean;    &#125;    @Override    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException &#123;        System.out.println(&quot;postProcessAfterInitialization&quot;);        return bean;    &#125;&#125;\n\nâ€‹ postProcessBeforeInitializationa åœ¨ bean å±æ€§æ³¨å…¥ä¹‹åã€åˆå§‹åŒ–ä¹‹å‰æ‰§è¡Œï¼Œåœ¨è¯¥æ–¹æ³•ä¸­å¯ä»¥ç”¨æ¥ä¿®æ”¹å·²ç»æ³¨å…¥çš„å±æ€§ï¼Œæˆ–è€…è¿”å›å…¨æ–°çš„ bean ç­‰ï¼ŒpostProcessAfterInitialization åœ¨ bean åˆå§‹åŒ–åæ‰§è¡Œã€‚\nä½¿ç”¨ BeanFactoryPostProcessor è‡ªå®šä¹‰é…ç½®å…ƒæ•°æ®BeanFactoryPostProcessor æ¥å£çš„è¯­ä¹‰ä¸ BeanPostProcessor ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ä¸ªä¸»è¦åŒºåˆ«ï¼šBeanFactoryPostProcessor å¯¹ bean é…ç½®å…ƒæ•°æ®è¿›è¡Œæ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒSpring IoC å®¹å™¨å…è®¸ BeanFactoryPostProcessor è¯»å–é…ç½®å…ƒæ•°æ®ï¼Œåœ¨ bean å®ä¾‹åŒ–ä¹‹å‰å¯¹ bean çš„å®šä¹‰åšå‡ºä¿®æ”¹ï¼Œæ¯”å¦‚æ”¹å˜ bean çš„ç±»å‹ã€‚å¦‚æœé…ç½®å¤šä¸ª BeanFactoryPostProcessorï¼Œä¸ BeanPostProcessor çš„æƒ…å†µç±»ä¼¼ã€‚\nPropertyPlaceholderConfigurer æ˜¯ä¸€ä¸ª BeanFactoryPostProcessor çš„å®ç°ç±»ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä½¿ç”¨å¤–éƒ¨æ–‡ä»¶ä¸­çš„å€¼æ¥æ›¿ä»£ Spring é…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼Œä¾‹å¦‚ä¸‹é¢é…ç½®æ•°æ®åº“çš„ä¾‹å­ã€‚\n&lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;    &lt;property name=&quot;locations&quot; value=&quot;classpath:com/something/jdbc.properties&quot;/&gt;&lt;/bean&gt;&lt;bean id=&quot;dataSource&quot; destroy-method=&quot;close&quot;        class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;    &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driverClassName&#125;&quot;/&gt;    &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;    &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;    &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;&lt;/bean&gt;\n\nå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½åç©ºé—´åšä¸ºä»£æ›¿ï¼š\n&lt;context:property-placeholder location=&quot;classpath:com/something/jdbc.properties&quot;/&gt;\n\nä½¿ç”¨ FactoryBean è‡ªå®šä¹‰å®ä¾‹åŒ–é€»è¾‘å¯¹äºä¸€äº›åˆå§‹åŒ–æ¯”è¾ƒå¤æ‚çš„ç±»ï¼Œå¯ä»¥ä½¿ç”¨å‰é¢æåˆ°çš„ FactoryBean æ³¨å…¥åˆ°å®¹å™¨ä¸­ï¼Œåœ¨è°ƒç”¨ ApplicationContext çš„ getBean() æ–¹æ³•æ—¶ï¼Œå¦‚æœæƒ³è¦è·å¾— FactoryBean æœ¬çœï¼Œéœ€è¦åœ¨ bean çš„ id å‰é¢åŠ ä¸Šä¸€ä¸ªç¬¦å· &amp;ï¼Œå¦‚ getBean(&quot;&amp;myBean&quot;)ã€‚\n","categories":["Springå­¦ä¹ ç¬”è®°"],"tags":["Spring"]},{"title":"Springçš„ä¸€äº›é«˜çº§é…ç½®.md","url":"/2023/03/15/Spring%E7%9A%84%E4%B8%80%E4%BA%9B%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE/","content":"è®¾ç½® Profileåœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½åŒºåˆ†ä¸ºå¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒï¼Œä¸åŒçš„ç¯å¢ƒä¸­ä½¿ç”¨çš„ Bean å¯èƒ½ä¸åŒï¼ŒSpring ä¸­æä¾›äº† @Profile æ³¨è§£æ¥å®ç°è¿™ä¸€éœ€æ±‚ï¼Œè¯¥æ³¨è§£å¯ç”¨äºç±»å’Œæ–¹æ³•ã€‚\n@Configuration@Profile(&quot;development&quot;)public class StandaloneDataConfig &#123;    @Bean    public DataSource dataSource() &#123;        return new EmbeddedDatabaseBuilder()            .setType(EmbeddedDatabaseType.HSQL)            .addScript(&quot;classpath:com/bank/config/sql/schema.sql&quot;)            .addScript(&quot;classpath:com/bank/config/sql/test-data.sql&quot;)            .build();    &#125;&#125;\n\n@Configuration@Profile(&quot;production&quot;)public class JndiDataConfig &#123;    @Bean(destroyMethod=&quot;&quot;)    public DataSource dataSource() throws Exception &#123;        Context ctx = new InitialContext();        return (DataSource) ctx.lookup(&quot;java:comp/env/jdbc/datasource&quot;);    &#125;&#125;\n\n@Configurationpublic class AppConfig &#123;    @Bean(&quot;dataSource&quot;)    @Profile(&quot;development&quot;) (1)    public DataSource standaloneDataSource() &#123;        return new EmbeddedDatabaseBuilder()            .setType(EmbeddedDatabaseType.HSQL)            .addScript(&quot;classpath:com/bank/config/sql/schema.sql&quot;)            .addScript(&quot;classpath:com/bank/config/sql/test-data.sql&quot;)            .build();    &#125;    @Bean(&quot;dataSource&quot;)    @Profile(&quot;production&quot;) (2)    public DataSource jndiDataSource() throws Exception &#123;        Context ctx = new InitialContext();        return (DataSource) ctx.lookup(&quot;java:comp/env/jdbc/datasource&quot;);    &#125;&#125;\n\né…ç½®æ—¶å¯ä»¥ä½¿ç”¨å¦‚ä¸‹é€»è¾‘ç¬¦å·ï¼Œä¾‹å¦‚ï¼šproduction &amp; us-eastï¼Œä½†æ˜¯å¤šä¸ªæ··ç”¨æ—¶éœ€è¦åŠ æ‹¬å· production &amp; (us-east | eu-central)\n\n!ï¼šé…ç½®æ–‡ä»¶çš„é€»è¾‘â€œéâ€\n&amp;ï¼šé…ç½®æ–‡ä»¶çš„é€»è¾‘â€œä¸â€\n|ï¼šé…ç½®æ–‡ä»¶çš„é€»è¾‘â€œæˆ–â€\n\nxml çš„é…ç½®å¦‚ä¸‹ï¼š\n&lt;beans profile=&quot;development&quot;    xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;    xsi:schemaLocation=&quot;...&quot;&gt;    &lt;jdbc:embedded-database id=&quot;dataSource&quot;&gt;        &lt;jdbc:script location=&quot;classpath:com/bank/config/sql/schema.sql&quot;/&gt;        &lt;jdbc:script location=&quot;classpath:com/bank/config/sql/test-data.sql&quot;/&gt;    &lt;/jdbc:embedded-database&gt;&lt;/beans&gt;&lt;beans profile=&quot;production&quot;    xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;    xsi:schemaLocation=&quot;...&quot;&gt;    &lt;jee:jndi-lookup id=&quot;dataSource&quot; jndi-name=&quot;java:comp/env/jdbc/datasource&quot;/&gt;&lt;/beans&gt;\n\nå¯ä»¥åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­åŠ å…¥å¤šä¸ª beans æ ‡ç­¾ï¼š\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;    xsi:schemaLocation=&quot;...&quot;&gt;    &lt;!-- other bean definitions --&gt;    &lt;beans profile=&quot;development&quot;&gt;        &lt;jdbc:embedded-database id=&quot;dataSource&quot;&gt;            &lt;jdbc:script location=&quot;classpath:com/bank/config/sql/schema.sql&quot;/&gt;            &lt;jdbc:script location=&quot;classpath:com/bank/config/sql/test-data.sql&quot;/&gt;        &lt;/jdbc:embedded-database&gt;    &lt;/beans&gt;    &lt;beans profile=&quot;production&quot;&gt;        &lt;jee:jndi-lookup id=&quot;dataSource&quot; jndi-name=&quot;java:comp/env/jdbc/datasource&quot;/&gt;    &lt;/beans&gt;&lt;/beans&gt;\n\nå¯ä»¥é€šè¿‡åµŒå¥—æ–¹å¼è¡¨è¾¾å’Œçš„å«ä¹‰ï¼Œä¸æ”¯æŒå‰é¢æè¿°çš„é…ç½®æ–‡ä»¶è¡¨è¾¾å¼ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ ! è¿ç®—ç¬¦å–æ¶ˆé…ç½®æ–‡ä»¶ã€‚\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;xsi:schemaLocation=&quot;...&quot;&gt;&lt;!-- other bean definitions --&gt;    &lt;beans profile=&quot;production&quot;&gt;        &lt;beans profile=&quot;us-east&quot;&gt;            &lt;jee:jndi-lookup id=&quot;dataSource&quot; jndi-name=&quot;java:comp/env/jdbc/datasource&quot;/&gt;        &lt;/beans&gt;    &lt;/beans&gt;&lt;/beans&gt;\n\næ¿€æ´» Profileapi æ–¹å¼\nAnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext();ctx.getEnvironment().setActiveProfiles(&quot;profile1&quot;, &quot;profile2&quot;);ctx.register(SomeConfig.class, StandaloneDataConfig.class, JndiDataConfig.class);ctx.refresh();\n\njvm å±æ€§é…ç½®\n-Dspring.profiles.active=&quot;profile1,profile2&quot;\n\né»˜è®¤ Profileå¦‚æœæ²¡æœ‰ä»»ä½•é…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œåˆ™ä½¿ç”¨é»˜è®¤ profileï¼Œå¯ä»¥é€šè¿‡åœ¨ Environment ä¸Šä½¿ç”¨ setDefaultProfiles() æˆ–åœ¨ jvm ä¸­ä½¿ç”¨ spring.profiles.default å±æ€§æ¥æ›´æ”¹é»˜è®¤é…ç½®æ–‡ä»¶çš„åç§°ã€‚\n@Configuration@Profile(&quot;default&quot;)public class DefaultDataConfig &#123;    @Bean    public DataSource dataSource() &#123;        return new EmbeddedDatabaseBuilder()            .setType(EmbeddedDatabaseType.HSQL)            .addScript(&quot;classpath:com/bank/config/sql/schema.sql&quot;)            .build();    &#125;&#125;\n\nMessageSource è¿›è¡Œå›½é™…åŒ–ApplicationContext æ¥å£æ‰©å±•äº†åä¸º MessageSource çš„æ¥å£ï¼Œå› æ­¤æä¾›äº†å›½é™…åŒ–åŠŸèƒ½ã€‚Spring è¿˜æä¾›äº† HierarchicalMessageSource æ¥å£ï¼Œè¯¥æ¥å£å¯ä»¥åˆ†å±‚è§£ææ¶ˆæ¯ã€‚åŠ è½½ ApplicationContext æ—¶ï¼Œå®ƒå°†è‡ªåŠ¨æœç´¢ä¸Šä¸‹æ–‡ä¸­å®šä¹‰çš„ MessageSource beanã€‚Bean å¿…é¡»å…·æœ‰åç§° messageSourceã€‚å¦‚æœæ‰¾åˆ°äº†è¿™æ ·çš„ beanï¼Œåˆ™å¯¹å…ˆå‰æ–¹æ³•çš„æ‰€æœ‰è°ƒç”¨éƒ½å°†å§”æ´¾ç»™æ¶ˆæ¯æºã€‚å¦‚æœæ‰¾ä¸åˆ°æ¶ˆæ¯æºï¼Œåˆ™ ApplicationContext å°è¯•æŸ¥æ‰¾åŒ…å«åŒå bean çš„çˆ¶å¯¹è±¡ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œå®ƒå°†ä½¿ç”¨è¯¥ bean ä½œä¸º MessageSourceã€‚å¦‚æœ ApplicationContext æ‰¾ä¸åˆ°ä»»ä½•æ¶ˆæ¯æºï¼Œåˆ™å®ä¾‹åŒ–ä¸€ä¸ªç©ºçš„ DelegatingMessageSource ä»¥ä¾¿èƒ½å¤Ÿæ¥å—å¯¹ä¸Šé¢å®šä¹‰çš„æ–¹æ³•çš„è°ƒç”¨ã€‚\nSpring æä¾›äº†ä¸¤ä¸ª MessageSource å®ç° ResourceBundleMessageSource å’Œ StaticMessageSourceã€‚ä¸¤è€…éƒ½å®ç° HierarchicalMessageSource ä»¥ä¾¿è¿›è¡ŒåµŒå¥—æ¶ˆæ¯ä¼ é€’ã€‚StaticMessageSource å¾ˆå°‘ä½¿ç”¨ï¼Œä½†æä¾›äº†å°†æ¶ˆæ¯æ·»åŠ åˆ°æºä¸­çš„ç¼–ç¨‹æ–¹å¼ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤º ResourceBundleMessageSourceï¼š\n&lt;beans&gt;    &lt;bean id=&quot;messageSource&quot;            class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;        &lt;property name=&quot;basenames&quot;&gt;            &lt;list&gt;                &lt;value&gt;format&lt;/value&gt;                &lt;value&gt;exceptions&lt;/value&gt;                &lt;value&gt;windows&lt;/value&gt;            &lt;/list&gt;        &lt;/property&gt;    &lt;/bean&gt;&lt;/beans&gt;\n\n# in exceptions.propertiesargument.required=The &#123;0&#125; argument is required.\n\n# in exceptions.propertiesargument.required=The &#123;0&#125; argument is required.\n\npublic static void main(String[] args) &#123;    MessageSource resources = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);    String message = resources.getMessage(&quot;message&quot;, null, &quot;Default&quot;, null);    System.out.println(message);&#125;\n\næ ‡å‡†å’Œè‡ªå®šä¹‰äº‹ä»¶ApplicationContext ä¸­çš„äº‹ä»¶å¤„ç†æ˜¯é€šè¿‡ ApplicationEvent ç±»å’Œ ApplicationListener æ¥å£æä¾›çš„ã€‚å¦‚æœå°†å®ç° ApplicationListener æ¥å£çš„ bean éƒ¨ç½²åˆ°ä¸Šä¸‹æ–‡ä¸­ï¼Œåˆ™æ¯æ¬¡å°† ApplicationEvent å‘å¸ƒåˆ° ApplicationContext æ—¶ï¼Œéƒ½ä¼šé€šçŸ¥è¯¥ beanã€‚\n\n\n\nEvent\nExplanation\n\n\n\nContextRefreshedEvent\nåœ¨åˆå§‹åŒ–æˆ–åˆ·æ–° ApplicationContext æ—¶å‘å¸ƒ (ä¾‹å¦‚ï¼Œé€šè¿‡ä½¿ç”¨ ConfigurableApplicationContext æ¥å£ä¸Šçš„ refresh() æ–¹æ³•)ã€‚åœ¨è¿™é‡Œï¼Œâ€œå·²åˆå§‹åŒ–â€æ˜¯æŒ‡æ‰€æœ‰ Bean éƒ½å·²åŠ è½½ï¼Œæ£€æµ‹åˆ°å¹¶æ¿€æ´»äº†åå¤„ç†å™¨ Beanï¼Œå·²é¢„å…ˆå®ä¾‹åŒ–å•ä¾‹ï¼Œå¹¶ä¸”å·²å‡†å¤‡å¥½ä½¿ç”¨ ApplicationContext å¯¹è±¡ã€‚åªè¦å°šæœªå…³é—­ä¸Šä¸‹æ–‡ï¼Œåªè¦é€‰å®šçš„ ApplicationContext å®é™…ä¸Šæ”¯æŒè¿™ç§â€œçƒ­â€åˆ·æ–°ï¼Œå°±å¯ä»¥å¤šæ¬¡è§¦å‘åˆ·æ–°ã€‚ä¾‹å¦‚ï¼ŒXmlWebApplicationContext æ”¯æŒçƒ­åˆ·æ–°ï¼Œä½† GenericApplicationContext ä¸æ”¯æŒã€‚\n\n\nContextStartedEvent\nåœ¨ ConfigurableApplicationContext ç•Œé¢ä¸Šä½¿ç”¨ start() æ–¹æ³•å¯åŠ¨ ApplicationContext æ—¶å‘å¸ƒã€‚åœ¨è¿™é‡Œï¼Œâ€œå¯åŠ¨â€æ˜¯æŒ‡æ‰€æœ‰ Lifecycle bean éƒ½æ”¶åˆ°ä¸€ä¸ªæ˜ç¡®çš„å¯åŠ¨ signalã€‚é€šå¸¸ï¼Œæ­¤ signal ç”¨äºåœ¨æ˜¾å¼åœæ­¢åé‡æ–°å¯åŠ¨ Beanï¼Œä½†ä¹Ÿå¯ä»¥ç”¨äºå¯åŠ¨å°šæœªé…ç½®ä¸ºè‡ªåŠ¨å¯åŠ¨çš„ç»„ä»¶ (ä¾‹å¦‚ï¼Œå°šæœªåœ¨åˆå§‹åŒ–æ—¶å¯åŠ¨çš„ç»„ä»¶)ã€‚\n\n\nContextStoppedEvent\nåœ¨ ConfigurableApplicationContext æ¥å£ä¸Šä½¿ç”¨ stop() æ–¹æ³•åœæ­¢ ApplicationContext æ—¶å‘å¸ƒã€‚æ­¤å¤„ï¼Œâ€œå·²åœæ­¢â€è¡¨ç¤ºæ‰€æœ‰ Lifecycle bean éƒ½æ”¶åˆ°ä¸€ä¸ªæ˜ç¡®çš„åœæ­¢ signalã€‚åœæ­¢çš„ä¸Šä¸‹æ–‡å¯ä»¥é€šè¿‡ start() è°ƒç”¨é‡æ–°å¯åŠ¨ã€‚\n\n\nContextClosedEvent\nåœ¨ ConfigurableApplicationContext æ¥å£ä¸Šä½¿ç”¨ close() æ–¹æ³•å…³é—­ ApplicationContext æ—¶å‘å¸ƒã€‚æ­¤å¤„ï¼Œâ€œå°é—­â€è¡¨ç¤ºæ‰€æœ‰å•ä¾‹ bean éƒ½è¢«ç ´åã€‚å°é—­çš„æƒ…å¢ƒåˆ°äº†ç”Ÿå‘½çš„å°½å¤´ã€‚æ— æ³•åˆ·æ–°æˆ–é‡æ–°å¯åŠ¨ã€‚\n\n\nRequestHandledEvent\nä¸€ä¸ªç‰¹å®šäº Web çš„äº‹ä»¶ï¼Œå‘Šè¯‰æ‰€æœ‰ Bean HTTP è¯·æ±‚å·²å¾—åˆ°æœåŠ¡ã€‚è¯·æ±‚å®Œæˆåï¼Œå°†å‘å¸ƒæ­¤äº‹ä»¶ã€‚æ­¤äº‹ä»¶ä»…é€‚ç”¨äºä½¿ç”¨ Spring çš„ DispatcherServlet çš„ Web åº”ç”¨ç¨‹åºã€‚\n\n\nå¯ä»¥åˆ›å»ºå’Œå‘å¸ƒè‡ªå·±çš„è‡ªå®šä¹‰äº‹ä»¶ï¼š\npublic class BlackListEvent extends ApplicationEvent &#123;    private final String address;    private final String content;    public BlackListEvent(Object source, String address, String content) &#123;        super(source);        this.address = address;        this.content = content;    &#125;    // accessor and other methods...&#125;\n\nè¦å‘å¸ƒè‡ªå®šä¹‰ ApplicationEventï¼Œè¯·åœ¨ ApplicationEventPublisher ä¸Šè°ƒç”¨ publishEvent() æ–¹æ³•ã€‚é€šå¸¸ï¼Œè¿™æ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ªå®ç° ApplicationEventPublisherAware çš„ç±»å¹¶å°†å…¶æ³¨å†Œä¸º Spring bean æ¥å®Œæˆçš„ã€‚\npublic class EmailService implements ApplicationEventPublisherAware &#123;    private List&lt;String&gt; blackList;    private ApplicationEventPublisher publisher;    public void setBlackList(List&lt;String&gt; blackList) &#123;        this.blackList = blackList;    &#125;    public void setApplicationEventPublisher(ApplicationEventPublisher publisher) &#123;        this.publisher = publisher;    &#125;    public void sendEmail(String address, String content) &#123;        if (blackList.contains(address)) &#123;            publisher.publishEvent(new BlackListEvent(this, address, content));            return;        &#125;        // send email...    &#125;&#125;\n\nåœ¨é…ç½®æ—¶ï¼ŒSpring å®¹å™¨æ£€æµ‹åˆ° EmailService å®ç° ApplicationEventPublisherAware å¹¶è‡ªåŠ¨è°ƒç”¨ setApplicationEventPublisher()ã€‚å®é™…ä¸Šï¼Œä¼ å…¥çš„å‚æ•°æ˜¯ Spring å®¹å™¨æœ¬èº«ã€‚æ‚¨æ­£åœ¨é€šè¿‡å…¶ ApplicationEventPublisher æ¥å£ä¸åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡è¿›è¡Œäº¤äº’ã€‚è¦æ¥æ”¶è‡ªå®šä¹‰ ApplicationEventï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªå®ç° ApplicationListener çš„ç±»å¹¶å°†å…¶æ³¨å†Œä¸º Spring Beanã€‚\npublic class BlackListNotifier implements ApplicationListener&lt;BlackListEvent&gt; &#123;    private String notificationAddress;    public void setNotificationAddress(String notificationAddress) &#123;        this.notificationAddress = notificationAddress;    &#125;    public void onApplicationEvent(BlackListEvent event) &#123;        // notify appropriate parties via notificationAddress...    &#125;&#125;\n\nå¯ä»¥ä½¿ç”¨æ³¨è§£æ¥å®ç°ç›‘å¬ã€‚\npublic class BlackListNotifier &#123;    private String notificationAddress;    public void setNotificationAddress(String notificationAddress) &#123;        this.notificationAddress = notificationAddress;    &#125;    @EventListener    public void processBlackListEvent(BlackListEvent event) &#123;        // notify appropriate parties via notificationAddress...    &#125;&#125;\n\n@EventListener(condition = &quot;#blEvent.content == &#x27;my-event&#x27;&quot;)public void processBlackListEvent(BlackListEvent blEvent) &#123;    // notify appropriate parties via notificationAddress...&#125;\n\nå¯ä»¥å¯¹ç‰¹å®šäº‹ä»¶è¿›è¡Œç›‘å¬ã€‚\n\n\n\nName\nLocation\nDescription\nExample\n\n\n\nEvent\nroot object\nå®é™…çš„ ApplicationEventã€‚\n#root.event\n\n\nArguments array\nroot object\nç”¨äºè°ƒç”¨ç›®æ ‡çš„å‚æ•° (ä½œä¸ºæ•°ç»„)ã€‚\n#root.args[0]\n\n\nArgument name\nevaluation context\nä»»ä½•æ–¹æ³•å‚æ•°çš„åç§°ã€‚å¦‚æœç”±äºæŸç§åŸå› åç§°ä¸å¯ç”¨ (ä¾‹å¦‚ï¼Œå› ä¸ºæ²¡æœ‰è°ƒè¯•ä¿¡æ¯)ï¼Œåˆ™å‚æ•°åç§°ä¹Ÿå¯ä»¥åœ¨  #a &lt;#arg&gt; ä¸‹è·å¾—ï¼Œå…¶ä¸­ #arg ä»£è¡¨å‚æ•°ç´¢å¼• (ä» 0 å¼€å§‹)ã€‚\n#blEvent æˆ– #a0(æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ #p0 æˆ–  #p &lt;#arg&gt; è¡¨ç¤ºæ³•ä½œä¸ºåˆ«å)\n\n\n","categories":["Springå­¦ä¹ ç¬”è®°"],"tags":["Spring"]}]